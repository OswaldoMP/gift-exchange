var u_=Object.create;var wi=Object.defineProperty,d_=Object.defineProperties,f_=Object.getOwnPropertyDescriptor,h_=Object.getOwnPropertyDescriptors,p_=Object.getOwnPropertyNames,ch=Object.getOwnPropertySymbols,g_=Object.getPrototypeOf,dh=Object.prototype.hasOwnProperty,m_=Object.prototype.propertyIsEnumerable;var uh=(n,t,e)=>t in n?wi(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,x=(n,t)=>{for(var e in t||={})dh.call(t,e)&&uh(n,e,t[e]);if(ch)for(var e of ch(t))m_.call(t,e)&&uh(n,e,t[e]);return n},re=(n,t)=>d_(n,h_(t));var v_=(n,t)=>()=>(n&&(t=n(n=0)),t);var xn=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports),y_=(n,t)=>{for(var e in t)wi(n,e,{get:t[e],enumerable:!0})},fh=(n,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of p_(t))!dh.call(n,i)&&i!==e&&wi(n,i,{get:()=>t[i],enumerable:!(r=f_(t,i))||r.enumerable});return n};var __=(n,t,e)=>(e=n!=null?u_(g_(n)):{},fh(t||!n||!n.__esModule?wi(e,"default",{value:n,enumerable:!0}):e,n)),pr=n=>fh(wi({},"__esModule",{value:!0}),n);var h=(n,t,e)=>new Promise((r,i)=>{var o=l=>{try{a(e.next(l))}catch(c){i(c)}},s=l=>{try{a(e.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((e=e.apply(n,t)).next())});var An={};y_(An,{__addDisposableResource:()=>tp,__assign:()=>os,__asyncDelegator:()=>Kh,__asyncGenerator:()=>ls,__asyncValues:()=>cs,__await:()=>Tt,__awaiter:()=>D,__classPrivateFieldGet:()=>Qh,__classPrivateFieldIn:()=>ep,__classPrivateFieldSet:()=>Xh,__createBinding:()=>as,__decorate:()=>Fh,__disposeResources:()=>np,__esDecorate:()=>jh,__exportStar:()=>Gh,__extends:()=>kh,__generator:()=>Hh,__importDefault:()=>Zh,__importStar:()=>Jh,__makeTemplateObject:()=>Yh,__metadata:()=>Bh,__param:()=>Lh,__propKey:()=>$h,__read:()=>ic,__rest:()=>Ut,__rewriteRelativeImportExtension:()=>rp,__runInitializers:()=>Vh,__setFunctionName:()=>Uh,__spread:()=>zh,__spreadArray:()=>Wh,__spreadArrays:()=>qh,__values:()=>ss,default:()=>P_});function kh(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");nc(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function Ut(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e}function Fh(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}function Lh(n,t){return function(e,r){t(e,r,n)}}function jh(n,t,e,r,i,o){function s(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!t&&n?r.static?n:n.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),d,m=!1,f=e.length-1;f>=0;f--){var y={};for(var _ in r)y[_]=_==="access"?{}:r[_];for(var _ in r.access)y.access[_]=r.access[_];y.addInitializer=function(C){if(m)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(C||null))};var b=(0,e[f])(a==="accessor"?{get:u.get,set:u.set}:u[l],y);if(a==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(d=s(b.get))&&(u.get=d),(d=s(b.set))&&(u.set=d),(d=s(b.init))&&i.unshift(d)}else(d=s(b))&&(a==="field"?i.unshift(d):u[l]=d)}c&&Object.defineProperty(c,r.name,u),m=!0}function Vh(n,t,e){for(var r=arguments.length>2,i=0;i<t.length;i++)e=r?t[i].call(n,e):t[i].call(n);return r?e:void 0}function $h(n){return typeof n=="symbol"?n:"".concat(n)}function Uh(n,t,e){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:e?"".concat(e," ",t):t})}function Bh(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)}function D(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(n,t||[])).next())})}function Hh(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(e=0)),e;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,i=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){e.label=c[1];break}if(c[0]===6&&e.label<o[1]){e.label=o[1],o=c;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(c);break}o[2]&&e.ops.pop(),e.trys.pop();continue}c=t.call(n,e)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Gh(n,t){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(t,e)&&as(t,n,e)}function ss(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ic(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return o}function zh(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(ic(arguments[t]));return n}function qh(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var r=Array(n),i=0,t=0;t<e;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function Wh(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))}function Tt(n){return this instanceof Tt?(this.v=n,this):new Tt(n)}function ls(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(n,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(y){return Promise.resolve(y).then(f,d)}}function a(f,y){r[f]&&(i[f]=function(_){return new Promise(function(b,C){o.push([f,_,b,C])>1||l(f,_)})},y&&(i[f]=y(i[f])))}function l(f,y){try{c(r[f](y))}catch(_){m(o[0][3],_)}}function c(f){f.value instanceof Tt?Promise.resolve(f.value.v).then(u,d):m(o[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function m(f,y){f(y),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Kh(n){var t,e;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,o){t[i]=n[i]?function(s){return(e=!e)?{value:Tt(n[i](s)),done:!1}:o?o(s):s}:o}}function cs(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof ss=="function"?ss(n):n[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}function Yh(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}function Jh(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e=rc(n),r=0;r<e.length;r++)e[r]!=="default"&&as(t,n,e[r]);return O_(t,n),t}function Zh(n){return n&&n.__esModule?n:{default:n}}function Qh(n,t,e,r){if(e==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?r:e==="a"?r.call(n):r?r.value:t.get(n)}function Xh(n,t,e,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!i:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,e):i?i.value=e:t.set(n,e),e}function ep(n,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?t===n:n.has(t)}function tp(n,t,e){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(e){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],e&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),n.stack.push({value:t,dispose:r,async:e})}else e&&n.stack.push({async:!0});return t}function np(n){function t(o){n.error=n.hasError?new R_(o,n.error,"An error was suppressed during disposal."):o,n.hasError=!0}var e,r=0;function i(){for(;e=n.stack.pop();)try{if(!e.async&&r===1)return r=0,n.stack.push(e),Promise.resolve().then(i);if(e.dispose){var o=e.dispose.call(e.value);if(e.async)return r|=2,Promise.resolve(o).then(i,function(s){return t(s),i()})}else r|=1}catch(s){t(s)}if(r===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return i()}function rp(n,t){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,r,i,o,s){return r?t?".jsx":".js":i&&(!o||!s)?e:i+o+"."+s.toLowerCase()+"js"}):n}var nc,os,as,O_,rc,R_,P_,ue=v_(()=>{"use strict";nc=function(n,t){return nc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},nc(n,t)};os=function(){return os=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},os.apply(this,arguments)};as=Object.create?function(n,t,e,r){r===void 0&&(r=e);var i=Object.getOwnPropertyDescriptor(t,e);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(n,r,i)}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]};O_=Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t},rc=function(n){return rc=Object.getOwnPropertyNames||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[e.length]=r);return e},rc(n)};R_=typeof SuppressedError=="function"?SuppressedError:function(n,t,e){var r=new Error(e);return r.name="SuppressedError",r.error=n,r.suppressed=t,r};P_={__extends:kh,__assign:os,__rest:Ut,__decorate:Fh,__param:Lh,__esDecorate:jh,__runInitializers:Vh,__propKey:$h,__setFunctionName:Uh,__metadata:Bh,__awaiter:D,__generator:Hh,__createBinding:as,__exportStar:Gh,__values:ss,__read:ic,__spread:zh,__spreadArrays:qh,__spreadArray:Wh,__await:Tt,__asyncGenerator:ls,__asyncDelegator:Kh,__asyncValues:cs,__makeTemplateObject:Yh,__importStar:Jh,__importDefault:Zh,__classPrivateFieldGet:Qh,__classPrivateFieldSet:Xh,__classPrivateFieldIn:ep,__addDisposableResource:tp,__disposeResources:np,__rewriteRelativeImportExtension:rp}});var Df=xn(Ef=>{"use strict";Object.defineProperty(Ef,"__esModule",{value:!0});var Cf=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ef.default=Cf});var xf=xn(If=>{"use strict";Object.defineProperty(If,"__esModule",{value:!0});var oM=(ue(),pr(An)),sM=oM.__importDefault(Df()),Sf=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>h(this,null,function*(){var s,a,l,c;let u=null,d=null,m=null,f=o.status,y=o.statusText;if(o.ok){if(this.method!=="HEAD"){let L=yield o.text();L===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=L:d=JSON.parse(L))}let b=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),C=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&C&&C.length>1&&(m=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,m=null,f=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let b=yield o.text();try{u=JSON.parse(b),Array.isArray(u)&&o.status===404&&(d=[],u=null,f=200,y="OK")}catch{o.status===404&&b===""?(f=204,y="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((c=u?.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,y="OK"),u&&this.shouldThrowOnError)throw new sM.default(u)}return{error:u,data:d,count:m,status:f,statusText:y}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l,c,u,d;let m="",f=o?.cause;if(f){let y=(s=f?.message)!==null&&s!==void 0?s:"",_=(a=f?.code)!==null&&a!==void 0?a:"";m=`${(l=o?.name)!==null&&l!==void 0?l:"FetchError"}: ${o?.message}`,m+=`

Caused by: ${(c=f?.name)!==null&&c!==void 0?c:"Error"}: ${y}`,_&&(m+=` (${_})`),f?.stack&&(m+=`
${f.stack}`)}else m=(u=o?.stack)!==null&&u!==void 0?u:"";return{error:{message:`${(d=o?.name)!==null&&d!==void 0?d:"FetchError"}: ${o?.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}};If.default=Sf});var Af=xn(Tf=>{"use strict";Object.defineProperty(Tf,"__esModule",{value:!0});var aM=(ue(),pr(An)),lM=aM.__importDefault(xf()),Mf=class extends lM.default{select(t){let e=!1,r=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[t?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Tf.default=Mf});var ol=xn(Rf=>{"use strict";Object.defineProperty(Rf,"__esModule",{value:!0});var cM=(ue(),pr(An)),uM=cM.__importDefault(Af()),dM=new RegExp("[,()]"),Of=class extends uM.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){let r=Array.from(new Set(e)).map(i=>typeof i=="string"&&dM.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}};Rf.default=Of});var kf=xn(Nf=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});var fM=(ue(),pr(An)),To=fM.__importDefault(ol()),Pf=class{constructor(t,{headers:e={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=i}select(t,e){let{head:r=!1,count:i}=e??{},o=r?"HEAD":"GET",s=!1,a=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),i&&this.headers.append("Prefer",`count=${i}`),new To.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var i;let o="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let s=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new To.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){let c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new To.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:e}={}){var r;let i="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new To.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;let r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new To.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}};Nf.default=Pf});var ky=xn(Lf=>{"use strict";Object.defineProperty(Lf,"__esModule",{value:!0});var Ny=(ue(),pr(An)),hM=Ny.__importDefault(kf()),pM=Ny.__importDefault(ol()),Ff=class n{constructor(t,{headers:e={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(e),this.schemaName=r,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");let e=new URL(`${this.url}/${t}`);return new hM.default(e,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new n(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:r=!1,get:i=!1,count:o}={}){var s;let a,l=new URL(`${this.url}/rpc/${t}`),c;r||i?(a=r?"HEAD":"GET",Object.entries(e).filter(([d,m])=>m!==void 0).map(([d,m])=>[d,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([d,m])=>{l.searchParams.append(d,m)})):(a="POST",c=e);let u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new pM.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};Lf.default=Ff});var By=xn(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.PostgrestError=Ke.PostgrestBuilder=Ke.PostgrestTransformBuilder=Ke.PostgrestFilterBuilder=Ke.PostgrestQueryBuilder=Ke.PostgrestClient=void 0;var li=(ue(),pr(An)),Fy=li.__importDefault(ky());Ke.PostgrestClient=Fy.default;var Ly=li.__importDefault(kf());Ke.PostgrestQueryBuilder=Ly.default;var jy=li.__importDefault(ol());Ke.PostgrestFilterBuilder=jy.default;var Vy=li.__importDefault(Af());Ke.PostgrestTransformBuilder=Vy.default;var $y=li.__importDefault(xf());Ke.PostgrestBuilder=$y.default;var Uy=li.__importDefault(Df());Ke.PostgrestError=Uy.default;Ke.default={PostgrestClient:Fy.default,PostgrestQueryBuilder:Ly.default,PostgrestFilterBuilder:jy.default,PostgrestTransformBuilder:Vy.default,PostgrestBuilder:$y.default,PostgrestError:Uy.default}});function hh(n,t){return Object.is(n,t)}var Se=null,qo=!1,Wo=1,Mt=Symbol("SIGNAL");function ee(n){let t=Se;return Se=n,t}var Yo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Jo(n){if(qo)throw new Error("");if(Se===null)return;Se.consumerOnSignalRead(n);let t=Se.nextProducerIndex++;if(gr(Se),t<Se.producerNode.length&&Se.producerNode[t]!==n&&bi(Se)){let e=Se.producerNode[t];Zo(e,Se.producerIndexOfThis[t])}Se.producerNode[t]!==n&&(Se.producerNode[t]=n,Se.producerIndexOfThis[t]=bi(Se)?yh(n,Se,t):0),Se.producerLastReadVersion[t]=n.version}function w_(){Wo++}function ph(n){if(!(bi(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Wo)){if(!n.producerMustRecompute(n)&&!zl(n)){n.dirty=!1,n.lastCleanEpoch=Wo;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Wo}}function gh(n){if(n.liveConsumerNode===void 0)return;let t=qo;qo=!0;try{for(let e of n.liveConsumerNode)e.dirty||b_(e)}finally{qo=t}}function mh(){return Se?.consumerAllowSignalWrites!==!1}function b_(n){n.dirty=!0,gh(n),n.consumerMarkedDirty?.(n)}function Hl(n){return n&&(n.nextProducerIndex=0),ee(n)}function Gl(n,t){if(ee(t),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(bi(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)Zo(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function zl(n){gr(n);for(let t=0;t<n.producerNode.length;t++){let e=n.producerNode[t],r=n.producerLastReadVersion[t];if(r!==e.version||(ph(e),r!==e.version))return!0}return!1}function vh(n){if(gr(n),bi(n))for(let t=0;t<n.producerNode.length;t++)Zo(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function yh(n,t,e){if(_h(n),gr(n),n.liveConsumerNode.length===0)for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=yh(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(e),n.liveConsumerNode.push(t)-1}function Zo(n,t){if(_h(n),gr(n),n.liveConsumerNode.length===1)for(let r=0;r<n.producerNode.length;r++)Zo(n.producerNode[r],n.producerIndexOfThis[r]);let e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[t],i=n.liveConsumerNode[t];gr(i),i.producerIndexOfThis[r]=t}}function bi(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function gr(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function _h(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function wh(n){let t=Object.create(C_);t.computation=n;let e=()=>{if(ph(t),Jo(t),t.value===Ko)throw t.error;return t.value};return e[Mt]=t,e}var Ul=Symbol("UNSET"),Bl=Symbol("COMPUTING"),Ko=Symbol("ERRORED"),C_=re(x({},Yo),{value:Ul,dirty:!0,error:null,equal:hh,producerMustRecompute(n){return n.value===Ul||n.value===Bl},producerRecomputeValue(n){if(n.value===Bl)throw new Error("Detected cycle in computations.");let t=n.value;n.value=Bl;let e=Hl(n),r;try{r=n.computation()}catch(i){r=Ko,n.error=i}finally{Gl(n,e)}if(t!==Ul&&t!==Ko&&r!==Ko&&n.equal(t,r)){n.value=t;return}n.value=r,n.version++}});function E_(){throw new Error}var bh=E_;function Ch(){bh()}function Eh(n){bh=n}var D_=null;function Dh(n){let t=Object.create(ql);t.value=n;let e=()=>(Jo(t),t.value);return e[Mt]=t,e}function Qo(n,t){mh()||Ch(),n.equal(n.value,t)||(n.value=t,S_(n))}function Sh(n,t){mh()||Ch(),Qo(n,t(n.value))}var ql=re(x({},Yo),{equal:hh,value:void 0});function S_(n){n.version++,w_(),gh(n),D_?.()}function k(n){return typeof n=="function"}function mr(n){let e=n(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Xo=mr(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Ci(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var we=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(k(r))try{r()}catch(o){t=o instanceof Xo?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Ih(o)}catch(s){t=t??[],s instanceof Xo?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Xo(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Ih(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Ci(e,t)}remove(t){let{_finalizers:e}=this;e&&Ci(e,t),t instanceof n&&t._removeParent(this)}};we.EMPTY=(()=>{let n=new we;return n.closed=!0,n})();var Wl=we.EMPTY;function es(n){return n instanceof we||n&&"closed"in n&&k(n.remove)&&k(n.add)&&k(n.unsubscribe)}function Ih(n){k(n)?n():n.unsubscribe()}var mt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var vr={setTimeout(n,t,...e){let{delegate:r}=vr;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=vr;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ts(n){vr.setTimeout(()=>{let{onUnhandledError:t}=mt;if(t)t(n);else throw n})}function Ei(){}var xh=Kl("C",void 0,void 0);function Mh(n){return Kl("E",void 0,n)}function Th(n){return Kl("N",n,void 0)}function Kl(n,t,e){return{kind:n,value:t,error:e}}var Mn=null;function yr(n){if(mt.useDeprecatedSynchronousErrorHandling){let t=!Mn;if(t&&(Mn={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:r}=Mn;if(Mn=null,e)throw r}}else n()}function Ah(n){mt.useDeprecatedSynchronousErrorHandling&&Mn&&(Mn.errorThrown=!0,Mn.error=n)}var Tn=class extends we{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,es(t)&&t.add(this)):this.destination=M_}static create(t,e,r){return new _r(t,e,r)}next(t){this.isStopped?Jl(Th(t),this):this._next(t)}error(t){this.isStopped?Jl(Mh(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Jl(xh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},I_=Function.prototype.bind;function Yl(n,t){return I_.call(n,t)}var Zl=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){ns(r)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){ns(r)}else ns(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){ns(e)}}},_r=class extends Tn{constructor(t,e,r){super();let i;if(k(t)||!t)i={next:t??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&mt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Yl(t.next,o),error:t.error&&Yl(t.error,o),complete:t.complete&&Yl(t.complete,o)}):i=t}this.destination=new Zl(i)}};function ns(n){mt.useDeprecatedSynchronousErrorHandling?Ah(n):ts(n)}function x_(n){throw n}function Jl(n,t){let{onStoppedNotification:e}=mt;e&&vr.setTimeout(()=>e(n,t))}var M_={closed:!0,next:Ei,error:x_,complete:Ei};var wr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function tt(n){return n}function Ql(...n){return Xl(n)}function Xl(n){return n.length===0?tt:n.length===1?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}var ie=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){let o=A_(e)?e:new _r(e,r,i);return yr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=Oh(r),new r((i,o)=>{let s=new _r({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[wr](){return this}pipe(...e){return Xl(e)(this)}toPromise(e){return e=Oh(e),new e((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=t=>new n(t),n})();function Oh(n){var t;return(t=n??mt.Promise)!==null&&t!==void 0?t:Promise}function T_(n){return n&&k(n.next)&&k(n.error)&&k(n.complete)}function A_(n){return n&&n instanceof Tn||T_(n)&&es(n)}function ec(n){return k(n?.lift)}function Z(n){return t=>{if(ec(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function W(n,t,e,r,i){return new tc(n,t,e,r,i)}var tc=class extends Tn{constructor(t,e,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function br(){return Z((n,t)=>{let e=null;n._refCount++;let r=W(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){e=null;return}let i=n._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}var Cr=class extends ie{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,ec(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new we;let e=this.getSubject();t.add(this.source.subscribe(W(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=we.EMPTY)}return t}refCount(){return br()(this)}};var Rh=mr(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Re=(()=>{class n extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new rs(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Rh}next(e){yr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){yr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){yr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Wl:(this.currentObservers=null,o.push(e),new we(()=>{this.currentObservers=null,Ci(o,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){let e=new ie;return e.source=this,e}}return n.create=(t,e)=>new rs(t,e),n})(),rs=class extends Re{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,t)}error(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&r!==void 0?r:Wl}};var Ie=class extends Re{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var nt=new ie(n=>n.complete());function Ph(n){return n&&k(n.schedule)}function Nh(n){return n[n.length-1]}function is(n){return k(Nh(n))?n.pop():void 0}function rn(n){return Ph(Nh(n))?n.pop():void 0}ue();var us=n=>n&&typeof n.length=="number"&&typeof n!="function";function ds(n){return k(n?.then)}function fs(n){return k(n[wr])}function hs(n){return Symbol.asyncIterator&&k(n?.[Symbol.asyncIterator])}function ps(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function N_(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var gs=N_();function ms(n){return k(n?.[gs])}ue();function vs(n){return ls(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:r,done:i}=yield Tt(e.read());if(i)return yield Tt(void 0);yield yield Tt(r)}}finally{e.releaseLock()}})}function ys(n){return k(n?.getReader)}function ye(n){if(n instanceof ie)return n;if(n!=null){if(fs(n))return k_(n);if(us(n))return F_(n);if(ds(n))return L_(n);if(hs(n))return ip(n);if(ms(n))return j_(n);if(ys(n))return V_(n)}throw ps(n)}function k_(n){return new ie(t=>{let e=n[wr]();if(k(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function F_(n){return new ie(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function L_(n){return new ie(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,ts)})}function j_(n){return new ie(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function ip(n){return new ie(t=>{$_(n,t).catch(e=>t.error(e))})}function V_(n){return ip(vs(n))}function $_(n,t){var e,r,i,o;return D(this,void 0,void 0,function*(){try{for(e=cs(n);r=yield e.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}t.complete()})}function Ye(n,t,e,r=0,i=!1){let o=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function _s(n,t=0){return Z((e,r)=>{e.subscribe(W(r,i=>Ye(r,n,()=>r.next(i),t),()=>Ye(r,n,()=>r.complete(),t),i=>Ye(r,n,()=>r.error(i),t)))})}function ws(n,t=0){return Z((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function op(n,t){return ye(n).pipe(ws(t),_s(t))}function sp(n,t){return ye(n).pipe(ws(t),_s(t))}function ap(n,t){return new ie(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}function lp(n,t){return new ie(e=>{let r;return Ye(e,t,()=>{r=n[gs](),Ye(e,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){e.error(s);return}o?e.complete():e.next(i)},0,!0)}),()=>k(r?.return)&&r.return()})}function bs(n,t){if(!n)throw new Error("Iterable cannot be null");return new ie(e=>{Ye(e,t,()=>{let r=n[Symbol.asyncIterator]();Ye(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function cp(n,t){return bs(vs(n),t)}function up(n,t){if(n!=null){if(fs(n))return op(n,t);if(us(n))return ap(n,t);if(ds(n))return sp(n,t);if(hs(n))return bs(n,t);if(ms(n))return lp(n,t);if(ys(n))return cp(n,t)}throw ps(n)}function me(n,t){return t?up(n,t):ye(n)}function j(...n){let t=rn(n);return me(n,t)}function Er(n,t){let e=k(n)?n:()=>n,r=i=>i.error(e());return new ie(t?i=>t.schedule(r,0,i):r)}function oc(n){return!!n&&(n instanceof ie||k(n.lift)&&k(n.subscribe))}var Bt=mr(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function K(n,t){return Z((e,r)=>{let i=0;e.subscribe(W(r,o=>{r.next(n.call(t,o,i++))}))})}var{isArray:U_}=Array;function B_(n,t){return U_(t)?n(...t):n(t)}function Cs(n){return K(t=>B_(n,t))}var{isArray:H_}=Array,{getPrototypeOf:G_,prototype:z_,keys:q_}=Object;function Es(n){if(n.length===1){let t=n[0];if(H_(t))return{args:t,keys:null};if(W_(t)){let e=q_(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}function W_(n){return n&&typeof n=="object"&&G_(n)===z_}function Ds(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}function Ss(...n){let t=rn(n),e=is(n),{args:r,keys:i}=Es(n);if(r.length===0)return me([],t);let o=new ie(K_(r,t,i?s=>Ds(i,s):tt));return e?o.pipe(Cs(e)):o}function K_(n,t,e=tt){return r=>{dp(t,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)dp(t,()=>{let c=me(n[l],t),u=!1;c.subscribe(W(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function dp(n,t,e){n?Ye(e,n,t):t()}function fp(n,t,e,r,i,o,s,a){let l=[],c=0,u=0,d=!1,m=()=>{d&&!l.length&&!c&&t.complete()},f=_=>c<r?y(_):l.push(_),y=_=>{o&&t.next(_),c++;let b=!1;ye(e(_,u++)).subscribe(W(t,C=>{i?.(C),o?f(C):t.next(C)},()=>{b=!0},void 0,()=>{if(b)try{for(c--;l.length&&c<r;){let C=l.shift();s?Ye(t,s,()=>y(C)):y(C)}m()}catch(C){t.error(C)}}))};return n.subscribe(W(t,f,()=>{d=!0,m()})),()=>{a?.()}}function be(n,t,e=1/0){return k(t)?be((r,i)=>K((o,s)=>t(r,o,i,s))(ye(n(r,i))),e):(typeof t=="number"&&(e=t),Z((r,i)=>fp(r,i,n,e)))}function sc(n=1/0){return be(tt,n)}function hp(){return sc(1)}function Dr(...n){return hp()(me(n,rn(n)))}function Is(n){return new ie(t=>{ye(n()).subscribe(t)})}function ac(...n){let t=is(n),{args:e,keys:r}=Es(n),i=new ie(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;ye(e[u]).subscribe(W(o,m=>{d||(d=!0,c--),a[u]=m},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?Ds(r,a):a),o.complete())}))}});return t?i.pipe(Cs(t)):i}function vt(n,t){return Z((e,r)=>{let i=0;e.subscribe(W(r,o=>n.call(t,o,i++)&&r.next(o)))})}function on(n){return Z((t,e)=>{let r=null,i=!1,o;r=t.subscribe(W(e,void 0,void 0,s=>{o=ye(n(s,on(n)(t))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function pp(n,t,e,r,i){return(o,s)=>{let a=e,l=t,c=0;o.subscribe(W(s,u=>{let d=c++;l=a?n(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Sr(n,t){return k(t)?be(n,t,1):be(n,1)}function sn(n){return Z((t,e)=>{let r=!1;t.subscribe(W(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function Ht(n){return n<=0?()=>nt:Z((t,e)=>{let r=0;t.subscribe(W(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function lc(n){return K(()=>n)}function xs(n=Y_){return Z((t,e)=>{let r=!1;t.subscribe(W(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function Y_(){return new Bt}function Di(n){return Z((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function At(n,t){let e=arguments.length>=2;return r=>r.pipe(n?vt((i,o)=>n(i,o,r)):tt,Ht(1),e?sn(t):xs(()=>new Bt))}function Ir(n){return n<=0?()=>nt:Z((t,e)=>{let r=[];t.subscribe(W(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function cc(n,t){let e=arguments.length>=2;return r=>r.pipe(n?vt((i,o)=>n(i,o,r)):tt,Ir(1),e?sn(t):xs(()=>new Bt))}function uc(n,t){return Z(pp(n,t,arguments.length>=2,!0))}function dc(...n){let t=rn(n);return Z((e,r)=>{(t?Dr(n,e,t):Dr(n,e)).subscribe(r)})}function yt(n,t){return Z((e,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();e.subscribe(W(r,l=>{i?.unsubscribe();let c=0,u=o++;ye(n(l,u)).subscribe(i=W(r,d=>r.next(t?t(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function fc(n){return Z((t,e)=>{ye(n).subscribe(W(e,()=>e.complete(),Ei)),!e.closed&&t.subscribe(e)})}function xe(n,t,e){let r=k(n)||t||e?{next:n,error:t,complete:e}:n;return r?Z((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(W(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):tt}var eg="https://g.co/ng/security#xss",T=class extends Error{constructor(t,e){super(wu(t,e)),this.code=t}};function wu(n,t){return`${`NG0${Math.abs(n)}`}${t?": "+t:""}`}var tg=Symbol("InputSignalNode#UNSET"),J_=re(x({},ql),{transformFn:void 0,applyValueToInputSignal(n,t){Qo(n,t)}});function ng(n,t){let e=Object.create(J_);e.value=n,e.transformFn=t?.transform;function r(){if(Jo(e),e.value===tg)throw new T(-950,!1);return e.value}return r[Mt]=e,r}function Vi(n){return{toString:n}.toString()}var Ms="__parameters__";function Z_(n){return function(...e){if(n){let r=n(...e);for(let i in r)this[i]=r[i]}}}function rg(n,t,e){return Vi(()=>{let r=Z_(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(Ms)?l[Ms]:Object.defineProperty(l,Ms,{value:[]})[Ms];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var On=globalThis;function le(n){for(let t in n)if(n[t]===le)return t;throw Error("Could not find renamed property on target object.")}function Q_(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Ue(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Ue).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let t=n.toString();if(t==null)return""+t;let e=t.indexOf(`
`);return e===-1?t:t.substring(0,e)}function Tc(n,t){return n==null||n===""?t===null?"":t:t==null||t===""?n:n+" "+t}var X_=le({__forward_ref__:le});function Un(n){return n.__forward_ref__=Un,n.toString=function(){return Ue(this())},n}function $e(n){return ig(n)?n():n}function ig(n){return typeof n=="function"&&n.hasOwnProperty(X_)&&n.__forward_ref__===Un}function P(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Bn(n){return{providers:n.providers||[],imports:n.imports||[]}}function oa(n){return gp(n,sg)||gp(n,ag)}function og(n){return oa(n)!==null}function gp(n,t){return n.hasOwnProperty(t)?n[t]:null}function ew(n){let t=n&&(n[sg]||n[ag]);return t||null}function mp(n){return n&&(n.hasOwnProperty(vp)||n.hasOwnProperty(tw))?n[vp]:null}var sg=le({\u0275prov:le}),vp=le({\u0275inj:le}),ag=le({ngInjectableDef:le}),tw=le({ngInjectorDef:le}),U=class{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=P({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function lg(n){return n&&!!n.\u0275providers}var nw=le({\u0275cmp:le}),rw=le({\u0275dir:le}),iw=le({\u0275pipe:le}),ow=le({\u0275mod:le}),Ls=le({\u0275fac:le}),Si=le({__NG_ELEMENT_ID__:le}),yp=le({__NG_ENV_ID__:le});function Rr(n){return typeof n=="string"?n:n==null?"":String(n)}function sw(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Rr(n)}function aw(n,t){let e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new T(-200,n)}function bu(n,t){throw new T(-201,!1)}var B=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(B||{}),Ac;function cg(){return Ac}function at(n){let t=Ac;return Ac=n,t}function ug(n,t,e){let r=oa(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&B.Optional)return null;if(t!==void 0)return t;bu(n,"Injector")}var lw={},Ii=lw,Oc="__NG_DI_FLAG__",js="ngTempTokenPath",cw="ngTokenPath",uw=/\n/gm,dw="\u0275",_p="__source",Ar;function fw(){return Ar}function an(n){let t=Ar;return Ar=n,t}function hw(n,t=B.Default){if(Ar===void 0)throw new T(-203,!1);return Ar===null?ug(n,void 0,t):Ar.get(n,t&B.Optional?null:void 0,t)}function Q(n,t=B.Default){return(cg()||hw)($e(n),t)}function E(n,t=B.Default){return Q(n,sa(t))}function sa(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Rc(n){let t=[];for(let e=0;e<n.length;e++){let r=$e(n[e]);if(Array.isArray(r)){if(r.length===0)throw new T(900,!1);let i,o=B.Default;for(let s=0;s<r.length;s++){let a=r[s],l=pw(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}t.push(Q(i,o))}else t.push(Q(r))}return t}function dg(n,t){return n[Oc]=t,n.prototype[Oc]=t,n}function pw(n){return n[Oc]}function gw(n,t,e,r){let i=n[js];throw t[_p]&&i.unshift(t[_p]),n.message=mw(`
`+n.message,i,e,r),n[cw]=i,n[js]=null,n}function mw(n,t,e,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==dw?n.slice(2):n;let i=Ue(t);if(Array.isArray(t))i=t.map(Ue).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ue(a)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(uw,`
  `)}`}var Cu=dg(rg("Optional"),8);var fg=dg(rg("SkipSelf"),4);function Pr(n,t){let e=n.hasOwnProperty(Ls);return e?n[Ls]:null}function Eu(n,t){n.forEach(e=>Array.isArray(e)?Eu(e,t):t(e))}function hg(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Vs(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function vw(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(i===1)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;){let o=i-2;n[i]=n[o],i--}n[t]=e,n[t+1]=r}}function Du(n,t,e){let r=$i(n,t);return r>=0?n[r|1]=e:(r=~r,vw(n,r,t,e)),r}function hc(n,t){let e=$i(n,t);if(e>=0)return n[e|1]}function $i(n,t){return yw(n,t,1)}function yw(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<e];if(t===s)return o<<e;s>t?i=o:r=o+1}return~(i<<e)}var Nr={},Je=[],kr=new U(""),pg=new U("",-1),gg=new U(""),$s=class{get(t,e=Ii){if(e===Ii){let r=new Error(`NullInjectorError: No provider for ${Ue(t)}!`);throw r.name="NullInjectorError",r}return e}},mg=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(mg||{}),Pt=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Pt||{}),Ce=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Ce||{});function _w(n,t,e){let r=n.length;for(;;){let i=n.indexOf(t,e);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}e=i+1}}function Pc(n,t,e){let r=0;for(;r<e.length;){let i=e[r];if(typeof i=="number"){if(i!==0)break;r++;let o=e[r++],s=e[r++],a=e[r++];n.setAttribute(t,s,a,o)}else{let o=i,s=e[++r];ww(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),r++}}return r}function vg(n){return n===3||n===4||n===6}function ww(n){return n.charCodeAt(0)===64}function xi(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?e=i:e===0||(e===-1||e===2?wp(n,e,i,null,t[++r]):wp(n,e,i,null,null))}}return n}function wp(n,t,e,r,i){let o=0,s=n.length;if(t===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===e){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var yg="ng-template";function bw(n,t,e,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&_w(t[i+1].toLowerCase(),e,0)!==-1)return!0}else if(Su(n))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===e)return!0}return!1}function Su(n){return n.type===4&&n.value!==yg}function Cw(n,t,e){let r=n.type===4&&!e?yg:n.value;return t===r}function Ew(n,t,e){let r=4,i=n.attrs,o=i!==null?Iw(i):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!_t(r)&&!_t(l))return!1;if(s&&_t(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!Cw(n,l,e)||l===""&&t.length===1){if(_t(r))return!1;s=!0}}else if(r&8){if(i===null||!bw(n,i,l,e)){if(_t(r))return!1;s=!0}}else{let c=t[++a],u=Dw(l,i,Su(n),e);if(u===-1){if(_t(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(_t(r))return!1;s=!0}}}}return _t(r)||s}function _t(n){return(n&1)===0}function Dw(n,t,e,r){if(t===null)return-1;let i=0;if(r||!e){let o=!1;for(;i<t.length;){let s=t[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return xw(t,n)}function Sw(n,t,e=!1){for(let r=0;r<t.length;r++)if(Ew(n,t[r],e))return!0;return!1}function Iw(n){for(let t=0;t<n.length;t++){let e=n[t];if(vg(e))return t}return n.length}function xw(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let r=n[e];if(typeof r=="number")return-1;if(r===t)return e;e++}return-1}function bp(n,t){return n?":not("+t.trim()+")":t}function Mw(n){let t=n[0],e=1,r=2,i="",o=!1;for(;e<n.length;){let s=n[e];if(typeof s=="string")if(r&2){let a=n[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!_t(s)&&(t+=bp(o,i),i=""),r=s,o=o||!_t(r);e++}return i!==""&&(t+=bp(o,i)),t}function Tw(n){return n.map(Mw).join(",")}function Aw(n){let t=[],e=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&t.push(o,n[++r]):i===8&&e.push(o);else{if(!_t(i))break;i=o}r++}return{attrs:t,classes:e}}function ke(n){return Vi(()=>{let t=Eg(n),e=re(x({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===mg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Pt.Emulated,styles:n.styles||Je,_:null,schemas:n.schemas||null,tView:null,id:""});Dg(e);let r=n.dependencies;return e.directiveDefs=Ep(r,!1),e.pipeDefs=Ep(r,!0),e.id=Pw(e),e})}function Ow(n){return Nn(n)||_g(n)}function Rw(n){return n!==null}function Hn(n){return Vi(()=>({type:n.type,bootstrap:n.bootstrap||Je,declarations:n.declarations||Je,imports:n.imports||Je,exports:n.exports||Je,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Cp(n,t){if(n==null)return Nr;let e={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Ce.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),t?(e[o]=a!==Ce.None?[r,a]:r,t[o]=s):e[o]=r}return e}function Me(n){return Vi(()=>{let t=Eg(n);return Dg(t),t})}function Nn(n){return n[nw]||null}function _g(n){return n[rw]||null}function wg(n){return n[iw]||null}function bg(n){let t=Nn(n)||_g(n)||wg(n);return t!==null?t.standalone:!1}function Cg(n,t){let e=n[ow]||null;if(!e&&t===!0)throw new Error(`Type ${Ue(n)} does not have '\u0275mod' property.`);return e}function Eg(n){let t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||Nr,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Je,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Cp(n.inputs,t),outputs:Cp(n.outputs),debugInfo:null}}function Dg(n){n.features?.forEach(t=>t(n))}function Ep(n,t){if(!n)return null;let e=t?wg:Ow;return()=>(typeof n=="function"?n():n).map(r=>e(r)).filter(Rw)}function Pw(n){let t=0,e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of e)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function aa(n){return{\u0275providers:n}}function Nw(...n){return{\u0275providers:Sg(!0,n),\u0275fromNgModule:!0}}function Sg(n,...t){let e=[],r=new Set,i,o=s=>{e.push(s)};return Eu(t,s=>{let a=s;Nc(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Ig(i,o),e}function Ig(n,t){for(let e=0;e<n.length;e++){let{ngModule:r,providers:i}=n[e];Iu(i,o=>{t(o,r)})}}function Nc(n,t,e,r){if(n=$e(n),!n)return!1;let i=null,o=mp(n),s=!o&&Nn(n);if(!o&&!s){let l=n.ngModule;if(o=mp(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Nc(c,t,e,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{Eu(o.imports,u=>{Nc(u,t,e,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&Ig(c,t)}if(!a){let c=Pr(i)||(()=>new i);t({provide:i,useFactory:c,deps:Je},i),t({provide:gg,useValue:i,multi:!0},i),t({provide:kr,useValue:()=>Q(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=n;Iu(l,u=>{t(u,c)})}}else return!1;return i!==n&&n.providers!==void 0}function Iu(n,t){for(let e of n)lg(e)&&(e=e.\u0275providers),Array.isArray(e)?Iu(e,t):t(e)}var kw=le({provide:String,useValue:le});function xg(n){return n!==null&&typeof n=="object"&&kw in n}function Fw(n){return!!(n&&n.useExisting)}function Lw(n){return!!(n&&n.useFactory)}function Fr(n){return typeof n=="function"}function jw(n){return!!n.useClass}var la=new U(""),Rs={},Vw={},pc;function xu(){return pc===void 0&&(pc=new $s),pc}var lt=class{},Mi=class extends lt{get destroyed(){return this._destroyed}constructor(t,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fc(t,s=>this.processProvider(s)),this.records.set(pg,xr(void 0,this)),i.has("environment")&&this.records.set(lt,xr(void 0,this));let o=this.records.get(la);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(gg,Je,B.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=ee(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ee(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let e=an(this),r=at(void 0),i;try{return t()}finally{an(e),at(r)}}get(t,e=Ii,r=B.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(yp))return t[yp](this);r=sa(r);let i,o=an(this),s=at(void 0);try{if(!(r&B.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=Gw(t)&&oa(t);c&&this.injectableDefInScope(c)?l=xr(kc(t),Rs):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=r&B.Self?xu():this.parent;return e=r&B.Optional&&e===Ii?null:e,a.get(t,e)}catch(a){if(a.name==="NullInjectorError"){if((a[js]=a[js]||[]).unshift(Ue(t)),o)throw a;return gw(a,t,"R3InjectorError",this.source)}else throw a}finally{at(s),an(o)}}resolveInjectorInitializers(){let t=ee(null),e=an(this),r=at(void 0),i;try{let o=this.get(kr,Je,B.Self);for(let s of o)s()}finally{an(e),at(r),ee(t)}}toString(){let t=[],e=this.records;for(let r of e.keys())t.push(Ue(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(t){t=$e(t);let e=Fr(t)?t:$e(t&&t.provide),r=Uw(t);if(!Fr(t)&&t.multi===!0){let i=this.records.get(e);i||(i=xr(void 0,Rs,!0),i.factory=()=>Rc(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,r)}hydrate(t,e){let r=ee(null);try{return e.value===Rs&&(e.value=Vw,e.value=e.factory()),typeof e.value=="object"&&e.value&&Hw(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{ee(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=$e(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function kc(n){let t=oa(n),e=t!==null?t.factory:Pr(n);if(e!==null)return e;if(n instanceof U)throw new T(204,!1);if(n instanceof Function)return $w(n);throw new T(204,!1)}function $w(n){if(n.length>0)throw new T(204,!1);let e=ew(n);return e!==null?()=>e.factory(n):()=>new n}function Uw(n){if(xg(n))return xr(void 0,n.useValue);{let t=Mg(n);return xr(t,Rs)}}function Mg(n,t,e){let r;if(Fr(n)){let i=$e(n);return Pr(i)||kc(i)}else if(xg(n))r=()=>$e(n.useValue);else if(Lw(n))r=()=>n.useFactory(...Rc(n.deps||[]));else if(Fw(n))r=()=>Q($e(n.useExisting));else{let i=$e(n&&(n.useClass||n.provide));if(Bw(n))r=()=>new i(...Rc(n.deps));else return Pr(i)||kc(i)}return r}function xr(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function Bw(n){return!!n.deps}function Hw(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Gw(n){return typeof n=="function"||typeof n=="object"&&n instanceof U}function Fc(n,t){for(let e of n)Array.isArray(e)?Fc(e,t):e&&lg(e)?Fc(e.\u0275providers,t):t(e)}function Gn(n,t){n instanceof Mi&&n.assertNotDestroyed();let e,r=an(n),i=at(void 0);try{return t()}finally{an(r),at(i)}}function zw(){return cg()!==void 0||fw()!=null}function qw(n){return typeof n=="function"}var Wt=0,H=1,N=2,Ne=3,bt=4,St=5,Ti=6,Ai=7,Be=8,Lr=9,Ct=10,ve=11,Oi=12,Dp=13,Br=14,Et=15,ca=16,Mr=17,jr=18,ua=19,Tg=20,ln=21,gc=22,kn=23,Dt=25,Ag=1;var Fn=7,Us=8,Bs=9,He=10,Mu=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Mu||{});function Rn(n){return Array.isArray(n)&&typeof n[Ag]=="object"}function Kt(n){return Array.isArray(n)&&n[Ag]===!0}function Tu(n){return(n.flags&4)!==0}function da(n){return n.componentOffset>-1}function fa(n){return(n.flags&1)===1}function cn(n){return!!n.template}function Ww(n){return(n[N]&512)!==0}var Lc=class{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function Og(n,t,e,r){t!==null?t.applyValueToInputSignal(t,r):n[e]=r}function fn(){return Rg}function Rg(n){return n.type.prototype.ngOnChanges&&(n.setInput=Yw),Kw}fn.ngInherit=!0;function Kw(){let n=Ng(this),t=n?.current;if(t){let e=n.previous;if(e===Nr)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function Yw(n,t,e,r,i){let o=this.declaredInputs[r],s=Ng(n)||Jw(n,{previous:Nr,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Lc(c&&c.currentValue,e,l===Nr),Og(n,t,i,e)}var Pg="__ngSimpleChanges__";function Ng(n){return n[Pg]||null}function Jw(n,t){return n[Pg]=t}var Sp=null;var Ot=function(n,t,e){Sp?.(n,t,e)},Zw="svg",Qw="math",Xw=!1;function eb(){return Xw}function Nt(n){for(;Array.isArray(n);)n=n[Wt];return n}function kg(n,t){return Nt(t[n])}function ct(n,t){return Nt(t[n.index])}function Au(n,t){return n.data[t]}function tb(n,t){return n[t]}function hn(n,t){let e=t[n];return Rn(e)?e:e[Wt]}function Ou(n){return(n[N]&128)===128}function nb(n){return Kt(n[Ne])}function Vr(n,t){return t==null?null:n[t]}function Fg(n){n[Mr]=0}function rb(n){n[N]&1024||(n[N]|=1024,Ou(n)&&Ri(n))}function ib(n,t){for(;n>0;)t=t[Br],n--;return t}function Ru(n){return!!(n[N]&9216||n[kn]?.dirty)}function jc(n){n[Ct].changeDetectionScheduler?.notify(1),Ru(n)?Ri(n):n[N]&64&&(eb()?(n[N]|=1024,Ri(n)):n[Ct].changeDetectionScheduler?.notify())}function Ri(n){n[Ct].changeDetectionScheduler?.notify();let t=Pi(n);for(;t!==null&&!(t[N]&8192||(t[N]|=8192,!Ou(t)));)t=Pi(t)}function Lg(n,t){if((n[N]&256)===256)throw new T(911,!1);n[ln]===null&&(n[ln]=[]),n[ln].push(t)}function ob(n,t){if(n[ln]===null)return;let e=n[ln].indexOf(t);e!==-1&&n[ln].splice(e,1)}function Pi(n){let t=n[Ne];return Kt(t)?t[Ne]:t}var G={lFrame:Gg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function sb(){return G.lFrame.elementDepthCount}function ab(){G.lFrame.elementDepthCount++}function lb(){G.lFrame.elementDepthCount--}function jg(){return G.bindingsEnabled}function cb(){return G.skipHydrationRootTNode!==null}function ub(n){return G.skipHydrationRootTNode===n}function db(){G.skipHydrationRootTNode=null}function oe(){return G.lFrame.lView}function Fe(){return G.lFrame.tView}function Y(n){return G.lFrame.contextLView=n,n[Be]}function J(n){return G.lFrame.contextLView=null,n}function Ge(){let n=Vg();for(;n!==null&&n.type===64;)n=n.parent;return n}function Vg(){return G.lFrame.currentTNode}function fb(){let n=G.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function zn(n,t){let e=G.lFrame;e.currentTNode=n,e.isParent=t}function Pu(){return G.lFrame.isParent}function $g(){G.lFrame.isParent=!1}function hb(){return G.lFrame.contextLView}function pb(){return G.lFrame.bindingIndex}function gb(n){return G.lFrame.bindingIndex=n}function Ui(){return G.lFrame.bindingIndex++}function Nu(n){let t=G.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function mb(){return G.lFrame.inI18n}function vb(n,t){let e=G.lFrame;e.bindingIndex=e.bindingRootIndex=n,Vc(t)}function yb(){return G.lFrame.currentDirectiveIndex}function Vc(n){G.lFrame.currentDirectiveIndex=n}function _b(n){let t=G.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function Ug(n){G.lFrame.currentQueryIndex=n}function wb(n){let t=n[H];return t.type===2?t.declTNode:t.type===1?n[St]:null}function Bg(n,t,e){if(e&B.SkipSelf){let i=t,o=n;for(;i=i.parent,i===null&&!(e&B.Host);)if(i=wb(o),i===null||(o=o[Br],i.type&10))break;if(i===null)return!1;t=i,n=o}let r=G.lFrame=Hg();return r.currentTNode=t,r.lView=n,!0}function ku(n){let t=Hg(),e=n[H];G.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Hg(){let n=G.lFrame,t=n===null?null:n.child;return t===null?Gg(n):t}function Gg(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function zg(){let n=G.lFrame;return G.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var qg=zg;function Fu(){let n=zg();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function bb(n){return(G.lFrame.contextLView=ib(n,G.lFrame.contextLView))[Be]}function Yt(){return G.lFrame.selectedIndex}function Ln(n){G.lFrame.selectedIndex=n}function Lu(){let n=G.lFrame;return Au(n.tView,n.selectedIndex)}function Cb(){return G.lFrame.currentNamespace}var Wg=!0;function ha(){return Wg}function pa(n){Wg=n}function Eb(n,t,e){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=Rg(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}i&&(e.preOrderHooks??=[]).push(0-n,i),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}function ga(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){let o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),u!=null&&(n.destroyHooks??=[]).push(e,u)}}function Ps(n,t,e){Kg(n,t,3,e)}function Ns(n,t,e,r){(n[N]&3)===e&&Kg(n,t,e,r)}function mc(n,t){let e=n[N];(e&3)===t&&(e&=16383,e+=1,n[N]=e)}function Kg(n,t,e,r){let i=r!==void 0?n[Mr]&65535:0,o=r??-1,s=t.length-1,a=0;for(let l=i;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(n[Mr]+=65536),(a<o||o==-1)&&(Db(n,e,t,l),n[Mr]=(n[Mr]&4294901760)+l+2),l++}function Ip(n,t){Ot(4,n,t);let e=ee(null);try{t.call(n)}finally{ee(e),Ot(5,n,t)}}function Db(n,t,e,r){let i=e[r]<0,o=e[r+1],s=i?-e[r]:e[r],a=n[s];i?n[N]>>14<n[Mr]>>16&&(n[N]&3)===t&&(n[N]+=16384,Ip(a,o)):Ip(a,o)}var Or=-1,jn=class{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}};function Sb(n){return n instanceof jn}function Ib(n){return(n.flags&8)!==0}function xb(n){return(n.flags&16)!==0}function Yg(n){return n!==Or}function Hs(n){return n&32767}function Mb(n){return n>>16}function Gs(n,t){let e=Mb(n),r=t;for(;e>0;)r=r[Br],e--;return r}var $c=!0;function xp(n){let t=$c;return $c=n,t}var Tb=256,Jg=Tb-1,Zg=5,Ab=0,Rt={};function Ob(n,t,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(Si)&&(r=e[Si]),r==null&&(r=e[Si]=Ab++);let i=r&Jg,o=1<<i;t.data[n+(i>>Zg)]|=o}function zs(n,t){let e=Qg(n,t);if(e!==-1)return e;let r=t[H];r.firstCreatePass&&(n.injectorIndex=t.length,vc(r.data,n),vc(t,null),vc(r.blueprint,null));let i=ju(n,t),o=n.injectorIndex;if(Yg(i)){let s=Hs(i),a=Gs(i,t),l=a[H].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=i,o}function vc(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Qg(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function ju(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;i!==null;){if(r=rm(i),r===null)return Or;if(e++,i=i[Br],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return Or}function Uc(n,t,e){Ob(n,t,e)}function Rb(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let r=e.length,i=0;for(;i<r;){let o=e[i];if(vg(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof e[i]=="string";)i++;else{if(o===t)return e[i+1];i=i+2}}}return null}function Xg(n,t,e){if(e&B.Optional||n!==void 0)return n;bu(t,"NodeInjector")}function em(n,t,e,r){if(e&B.Optional&&r===void 0&&(r=null),!(e&(B.Self|B.Host))){let i=n[Lr],o=at(void 0);try{return i?i.get(t,r,e&B.Optional):ug(t,r,e&B.Optional)}finally{at(o)}}return Xg(r,t,e)}function tm(n,t,e,r=B.Default,i){if(n!==null){if(t[N]&2048&&!(r&B.Self)){let s=Lb(n,t,e,r,Rt);if(s!==Rt)return s}let o=nm(n,t,e,r,Rt);if(o!==Rt)return o}return em(t,e,r,i)}function nm(n,t,e,r,i){let o=kb(e);if(typeof o=="function"){if(!Bg(t,n,r))return r&B.Host?Xg(i,e,r):em(t,e,r,i);try{let s;if(s=o(r),s==null&&!(r&B.Optional))bu(e);else return s}finally{qg()}}else if(typeof o=="number"){let s=null,a=Qg(n,t),l=Or,c=r&B.Host?t[Et][St]:null;for((a===-1||r&B.SkipSelf)&&(l=a===-1?ju(n,t):t[a+8],l===Or||!Tp(r,!1)?a=-1:(s=t[H],a=Hs(l),t=Gs(l,t)));a!==-1;){let u=t[H];if(Mp(o,a,u.data)){let d=Pb(a,t,e,s,r,c);if(d!==Rt)return d}l=t[a+8],l!==Or&&Tp(r,t[H].data[a+8]===c)&&Mp(o,a,t)?(s=u,a=Hs(l),t=Gs(l,t)):a=-1}}return i}function Pb(n,t,e,r,i,o){let s=t[H],a=s.data[n+8],l=r==null?da(a)&&$c:r!=s&&(a.type&3)!==0,c=i&B.Host&&o===a,u=Nb(a,s,e,l,c);return u!==null?$r(t,s,u,a):Rt}function Nb(n,t,e,r,i){let o=n.providerIndexes,s=t.data,a=o&1048575,l=n.directiveStart,c=n.directiveEnd,u=o>>20,d=r?a:a+u,m=i?a+u:c;for(let f=d;f<m;f++){let y=s[f];if(f<l&&e===y||f>=l&&y.type===e)return f}if(i){let f=s[l];if(f&&cn(f)&&f.type===e)return l}return null}function $r(n,t,e,r){let i=n[e],o=t.data;if(Sb(i)){let s=i;s.resolving&&aw(sw(o[e]));let a=xp(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?at(s.injectImpl):null,u=Bg(n,r,B.Default);try{i=n[e]=s.factory(void 0,o,n,r),t.firstCreatePass&&e>=r.directiveStart&&Eb(e,o[e],t)}finally{c!==null&&at(c),xp(a),s.resolving=!1,qg()}}return i}function kb(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(Si)?n[Si]:void 0;return typeof t=="number"?t>=0?t&Jg:Fb:t}function Mp(n,t,e){let r=1<<n;return!!(e[t+(n>>Zg)]&r)}function Tp(n,t){return!(n&B.Self)&&!(n&B.Host&&t)}var Pn=class{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return tm(this._tNode,this._lView,t,sa(r),e)}};function Fb(){return new Pn(Ge(),oe())}function Hr(n){return Vi(()=>{let t=n.prototype.constructor,e=t[Ls]||Bc(t),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Ls]||Bc(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Bc(n){return ig(n)?()=>{let t=Bc($e(n));return t&&t()}:Pr(n)}function Lb(n,t,e,r,i){let o=n,s=t;for(;o!==null&&s!==null&&s[N]&2048&&!(s[N]&512);){let a=nm(o,s,e,r|B.Self,Rt);if(a!==Rt)return a;let l=o.parent;if(!l){let c=s[Tg];if(c){let u=c.get(e,Rt,r);if(u!==Rt)return u}l=rm(s),s=s[Br]}o=l}return i}function rm(n){let t=n[H],e=t.type;return e===2?t.declTNode:e===1?n[St]:null}function Vu(n){return Rb(Ge(),n)}function Ap(n,t=null,e=null,r){let i=im(n,t,e,r);return i.resolveInjectorInitializers(),i}function im(n,t=null,e=null,r,i=new Set){let o=[e||Je,Nw(n)];return r=r||(typeof n=="object"?void 0:Ue(n)),new Mi(o,t||xu(),r||null,i)}var Gr=(()=>{class n{static{this.THROW_IF_NOT_FOUND=Ii}static{this.NULL=new $s}static create(e,r){if(Array.isArray(e))return Ap({name:""},r,e,"");{let i=e.name??"";return Ap({name:i},e.parent,e.providers,i)}}static{this.\u0275prov=P({token:n,providedIn:"any",factory:()=>Q(pg)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();var jb="ngOriginalError";function yc(n){return n[jb]}var Gt=class{constructor(){this._console=console}handleError(t){let e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&yc(t);for(;e&&yc(e);)e=yc(e);return e||null}},om=new U("",{providedIn:"root",factory:()=>E(Gt).handleError.bind(void 0)}),sm=(()=>{class n{static{this.__NG_ELEMENT_ID__=Vb}static{this.__NG_ENV_ID__=e=>e}}return n})(),Hc=class extends sm{constructor(t){super(),this._lView=t}onDestroy(t){return Lg(this._lView,t),()=>ob(this._lView,t)}};function Vb(){return new Hc(oe())}function Op(n,t){return ng(n,t)}function $b(n){return ng(tg,n)}var $u=(Op.required=$b,Op);function Ub(){return ma(Ge(),oe())}function ma(n,t){return new pn(ct(n,t))}var pn=(()=>{class n{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=Ub}}return n})();var Gc=class extends Re{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,zw()&&(this.destroyRef=E(sm,{optional:!0})??void 0)}emit(t){let e=ee(null);try{super.next(t)}finally{ee(e)}}subscribe(t,e,r){let i=t,o=e||(()=>null),s=r;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=_c(o),i&&(i=_c(i)),s&&(s=_c(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof we&&t.add(a),a}};function _c(n){return t=>{setTimeout(n,void 0,t)}}var Pe=Gc;function am(n){return(n.flags&128)===128}var lm=new Map,Bb=0;function Hb(){return Bb++}function Gb(n){lm.set(n[ua],n)}function zb(n){lm.delete(n[ua])}var Rp="__ngContext__";function un(n,t){Rn(t)?(n[Rp]=t[ua],Gb(t)):n[Rp]=t}function cm(n){return dm(n[Oi])}function um(n){return dm(n[bt])}function dm(n){for(;n!==null&&!Kt(n);)n=n[bt];return n}var zc;function fm(n){zc=n}function qb(){if(zc!==void 0)return zc;if(typeof document<"u")return document;throw new T(210,!1)}var Uu=new U("",{providedIn:"root",factory:()=>Wb}),Wb="ng",Bu=new U(""),zr=new U("",{providedIn:"platform",factory:()=>"unknown"});var Hu=new U("",{providedIn:"root",factory:()=>qb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Kb="h",Yb="b";var Jb=()=>null;function Gu(n,t,e=!1){return Jb(n,t,e)}var hm=!1,Zb=new U("",{providedIn:"root",factory:()=>hm});var Ts;function Qb(){if(Ts===void 0&&(Ts=null,On.trustedTypes))try{Ts=On.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ts}function Pp(n){return Qb()?.createScriptURL(n)||n}var qs=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${eg})`}};function qr(n){return n instanceof qs?n.changingThisBreaksApplicationSecurity:n}function zu(n,t){let e=Xb(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${eg})`)}return e===t}function Xb(n){return n instanceof qs&&n.getTypeName()||null}var eC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function pm(n){return n=String(n),n.match(eC)?n:"unsafe:"+n}var va=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(va||{});function Bi(n){let t=mm();return t?t.sanitize(va.URL,n)||"":zu(n,"URL")?qr(n):pm(Rr(n))}function tC(n){let t=mm();if(t)return Pp(t.sanitize(va.RESOURCE_URL,n)||"");if(zu(n,"ResourceURL"))return Pp(qr(n));throw new T(904,!1)}function nC(n,t){return t==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||t==="href"&&(n==="base"||n==="link")?tC:Bi}function gm(n,t,e){return nC(t,e)(n)}function mm(){let n=oe();return n&&n[Ct].sanitizer}var rC=/^>|^->|<!--|-->|--!>|<!-$/g,iC=/(<|>)/g,oC="\u200B$1\u200B";function sC(n){return n.replace(rC,t=>t.replace(iC,oC))}function vm(n){return n instanceof Function?n():n}var zt=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(zt||{}),aC;function qu(n,t){return aC(n,t)}function Tr(n,t,e,r,i){if(r!=null){let o,s=!1;Kt(r)?o=r:Rn(r)&&(s=!0,r=r[Wt]);let a=Nt(r);n===0&&e!==null?i==null?bm(t,e,a):Ws(t,e,a,i||null,!0):n===1&&e!==null?Ws(t,e,a,i||null,!0):n===2?SC(t,a,s):n===3&&t.destroyNode(a),o!=null&&xC(t,n,o,e,i)}}function lC(n,t){return n.createText(t)}function cC(n,t,e){n.setValue(t,e)}function uC(n,t){return n.createComment(sC(t))}function ym(n,t,e){return n.createElement(t,e)}function dC(n,t){_m(n,t),t[Wt]=null,t[St]=null}function fC(n,t,e,r,i,o){r[Wt]=i,r[St]=t,wa(n,r,e,1,i,o)}function _m(n,t){t[Ct].changeDetectionScheduler?.notify(1),wa(n,t,t[ve],2,null,null)}function hC(n){let t=n[Oi];if(!t)return wc(n[H],n);for(;t;){let e=null;if(Rn(t))e=t[Oi];else{let r=t[He];r&&(e=r)}if(!e){for(;t&&!t[bt]&&t!==n;)Rn(t)&&wc(t[H],t),t=t[Ne];t===null&&(t=n),Rn(t)&&wc(t[H],t),e=t&&t[bt]}t=e}}function pC(n,t,e,r){let i=He+r,o=e.length;r>0&&(e[i-1][bt]=t),r<o-He?(t[bt]=e[i],hg(e,He+r,t)):(e.push(t),t[bt]=null),t[Ne]=e;let s=t[ca];s!==null&&e!==s&&gC(s,t);let a=t[jr];a!==null&&a.insertView(n),jc(t),t[N]|=128}function gC(n,t){let e=n[Bs],i=t[Ne][Ne][Et];t[Et]!==i&&(n[N]|=Mu.HasTransplantedViews),e===null?n[Bs]=[t]:e.push(t)}function wm(n,t){let e=n[Bs],r=e.indexOf(t);e.splice(r,1)}function Ni(n,t){if(n.length<=He)return;let e=He+t,r=n[e];if(r){let i=r[ca];i!==null&&i!==n&&wm(i,r),t>0&&(n[e-1][bt]=r[bt]);let o=Vs(n,He+t);dC(r[H],r);let s=o[jr];s!==null&&s.detachView(o[H]),r[Ne]=null,r[bt]=null,r[N]&=-129}return r}function ya(n,t){if(!(t[N]&256)){let e=t[ve];e.destroyNode&&wa(n,t,e,3,null,null),hC(t)}}function wc(n,t){if(t[N]&256)return;let e=ee(null);try{t[N]&=-129,t[N]|=256,t[kn]&&vh(t[kn]),vC(n,t),mC(n,t),t[H].type===1&&t[ve].destroy();let r=t[ca];if(r!==null&&Kt(t[Ne])){r!==t[Ne]&&wm(r,t);let i=t[jr];i!==null&&i.detachView(n)}zb(t)}finally{ee(e)}}function mC(n,t){let e=n.cleanup,r=t[Ai];if(e!==null)for(let o=0;o<e.length-1;o+=2)if(typeof e[o]=="string"){let s=e[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[e[o+1]];e[o].call(s)}r!==null&&(t[Ai]=null);let i=t[ln];if(i!==null){t[ln]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function vC(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let i=t[e[r]];if(!(i instanceof jn)){let o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Ot(4,a,l);try{l.call(a)}finally{Ot(5,a,l)}}else{Ot(4,i,o);try{o.call(i)}finally{Ot(5,i,o)}}}}}function yC(n,t,e){return _C(n,t.parent,e)}function _C(n,t,e){let r=t;for(;r!==null&&r.type&40;)t=r,r=t.parent;if(r===null)return e[Wt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===Pt.None||o===Pt.Emulated)return null}return ct(r,e)}}function Ws(n,t,e,r,i){n.insertBefore(t,e,r,i)}function bm(n,t,e){n.appendChild(t,e)}function Np(n,t,e,r,i){r!==null?Ws(n,t,e,r,i):bm(n,t,e)}function wC(n,t,e,r){n.removeChild(t,e,r)}function Wu(n,t){return n.parentNode(t)}function bC(n,t){return n.nextSibling(t)}function CC(n,t,e){return DC(n,t,e)}function EC(n,t,e){return n.type&40?ct(n,e):null}var DC=EC,kp;function _a(n,t,e,r){let i=yC(n,r,t),o=t[ve],s=r.parent||t[St],a=CC(s,r,t);if(i!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)Np(o,i,e[l],a,!1);else Np(o,i,e,a,!1);kp!==void 0&&kp(o,r,t,e,i)}function ks(n,t){if(t!==null){let e=t.type;if(e&3)return ct(t,n);if(e&4)return qc(-1,n[t.index]);if(e&8){let r=t.child;if(r!==null)return ks(n,r);{let i=n[t.index];return Kt(i)?qc(-1,i):Nt(i)}}else{if(e&32)return qu(t,n)()||Nt(n[t.index]);{let r=Cm(n,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Pi(n[Et]);return ks(i,r)}else return ks(n,t.next)}}}return null}function Cm(n,t){if(t!==null){let r=n[Et][St],i=t.projection;return r.projection[i]}return null}function qc(n,t){let e=He+n+1;if(e<t.length){let r=t[e],i=r[H].firstChild;if(i!==null)return ks(r,i)}return t[Fn]}function SC(n,t,e){let r=Wu(n,t);r&&wC(n,r,t,e)}function Ku(n,t,e,r,i,o,s){for(;e!=null;){let a=r[e.index],l=e.type;if(s&&t===0&&(a&&un(Nt(a),r),e.flags|=2),(e.flags&32)!==32)if(l&8)Ku(n,t,e.child,r,i,o,!1),Tr(t,n,i,a,o);else if(l&32){let c=qu(e,r),u;for(;u=c();)Tr(t,n,i,u,o);Tr(t,n,i,a,o)}else l&16?IC(n,t,r,e,i,o):Tr(t,n,i,a,o);e=s?e.projectionNext:e.next}}function wa(n,t,e,r,i,o){Ku(e,r,n.firstChild,t,i,o,!1)}function IC(n,t,e,r,i,o){let s=e[Et],l=s[St].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Tr(t,n,i,u,o)}else{let c=l,u=s[Ne];am(r)&&(c.flags|=128),Ku(n,t,c,u,i,o,!0)}}function xC(n,t,e,r,i){let o=e[Fn],s=Nt(e);o!==s&&Tr(t,n,r,o,i);for(let a=He;a<e.length;a++){let l=e[a];wa(l[H],l,n,t,r,o)}}function MC(n,t,e,r,i){if(t)i?n.addClass(e,r):n.removeClass(e,r);else{let o=r.indexOf("-")===-1?void 0:zt.DashCase;i==null?n.removeStyle(e,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=zt.Important),n.setStyle(e,r,i,o))}}function TC(n,t,e){n.setAttribute(t,"style",e)}function Em(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function Dm(n,t,e){let{mergedAttrs:r,classes:i,styles:o}=e;r!==null&&Pc(n,t,r),i!==null&&Em(n,t,i),o!==null&&TC(n,t,o)}var kt={};function w(n=1){Sm(Fe(),oe(),Yt()+n,!1)}function Sm(n,t,e,r){if(!r)if((t[N]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Ps(t,o,e)}else{let o=n.preOrderHooks;o!==null&&Ns(t,o,0,e)}Ln(e)}function z(n,t=B.Default){let e=oe();if(e===null)return Q(n,t);let r=Ge();return tm(r,e,$e(n),t)}function Im(n,t,e,r,i,o){let s=ee(null);try{let a=null;i&Ce.SignalBased&&(a=t[r][Mt]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Ce.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(t,o)),n.setInput!==null?n.setInput(t,a,o,e,r):Og(t,a,r,o)}finally{ee(s)}}function AC(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let i=e[r];if(i<0)Ln(~i);else{let o=i,s=e[++r],a=e[++r];vb(s,o);let l=t[o];a(2,l)}}}finally{Ln(-1)}}function ba(n,t,e,r,i,o,s,a,l,c,u){let d=t.blueprint.slice();return d[Wt]=i,d[N]=r|4|128|8|64,(c!==null||n&&n[N]&2048)&&(d[N]|=2048),Fg(d),d[Ne]=d[Br]=n,d[Be]=e,d[Ct]=s||n&&n[Ct],d[ve]=a||n&&n[ve],d[Lr]=l||n&&n[Lr]||null,d[St]=o,d[ua]=Hb(),d[Ti]=u,d[Tg]=c,d[Et]=t.type==2?n[Et]:d,d}function Hi(n,t,e,r,i){let o=n.data[t];if(o===null)o=OC(n,t,e,r,i),mb()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=r,o.attrs=i;let s=fb();o.injectorIndex=s===null?-1:s.injectorIndex}return zn(o,!0),o}function OC(n,t,e,r,i){let o=Vg(),s=Pu(),a=s?o:o&&o.parent,l=n.data[t]=FC(n,a,e,t,r,i);return n.firstChild===null&&(n.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function xm(n,t,e,r){if(e===0)return-1;let i=t.length;for(let o=0;o<e;o++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function Mm(n,t,e,r,i){let o=Yt(),s=r&2;try{Ln(-1),s&&t.length>Dt&&Sm(n,t,Dt,!1),Ot(s?2:0,i),e(r,i)}finally{Ln(o),Ot(s?3:1,i)}}function Yu(n,t,e){if(Tu(t)){let r=ee(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=e[s];a.contentQueries(1,l,s)}}}finally{ee(r)}}}function Ju(n,t,e){jg()&&(BC(n,t,e,ct(e,t)),(e.flags&64)===64&&Rm(n,t,e))}function Zu(n,t,e=ct){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?e(t,n):n[s];n[i++]=a}}}function Tm(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=Qu(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function Qu(n,t,e,r,i,o,s,a,l,c,u){let d=Dt+r,m=d+i,f=RC(d,m),y=typeof c=="function"?c():c;return f[H]={type:n,blueprint:f,template:e,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:y,incompleteFirstPass:!1,ssrId:u}}function RC(n,t){let e=[];for(let r=0;r<t;r++)e.push(r<n?null:kt);return e}function PC(n,t,e,r){let o=r.get(Zb,hm)||e===Pt.ShadowDom,s=n.selectRootElement(t,o);return NC(s),s}function NC(n){kC(n)}var kC=()=>null;function FC(n,t,e,r,i,o){let s=t?t.injectorIndex:-1,a=0;return cb()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Fp(n,t,e,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;r??={};let a,l=Ce.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(i!==null){if(!i.hasOwnProperty(o))continue;c=i[o]}n===0?Lp(r,e,c,a,l):Lp(r,e,c,a)}return r}function Lp(n,t,e,r,i){let o;n.hasOwnProperty(e)?(o=n[e]).push(t,r):o=n[e]=[t,r],i!==void 0&&o.push(i)}function LC(n,t,e){let r=t.directiveStart,i=t.directiveEnd,o=n.data,s=t.attrs,a=[],l=null,c=null;for(let u=r;u<i;u++){let d=o[u],m=e?e.get(d):null,f=m?m.inputs:null,y=m?m.outputs:null;l=Fp(0,d.inputs,u,l,f),c=Fp(1,d.outputs,u,c,y);let _=l!==null&&s!==null&&!Su(t)?XC(l,u,s):null;a.push(_)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}function jC(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Am(n,t,e,r,i,o,s,a){let l=ct(t,e),c=t.inputs,u;!a&&c!=null&&(u=c[r])?(ed(n,e,u,r,i),da(t)&&VC(e,t.index)):t.type&3?(r=jC(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(l,r,i)):t.type&12}function VC(n,t){let e=hn(t,n);e[N]&16||(e[N]|=64)}function Xu(n,t,e,r){if(jg()){let i=r===null?null:{"":-1},o=GC(n,e),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Om(n,t,e,s,i,a),i&&zC(e,r,i)}e.mergedAttrs=xi(e.mergedAttrs,e.attrs)}function Om(n,t,e,r,i,o){for(let c=0;c<r.length;c++)Uc(zs(e,t),n,r[c].type);WC(e,n.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=xm(n,t,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];e.mergedAttrs=xi(e.mergedAttrs,u.hostAttrs),KC(n,e,t,l,u),qC(l,u,i),u.contentQueries!==null&&(e.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(e.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}LC(n,e,o)}function $C(n,t,e,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~t.index;UC(s)!=a&&s.push(a),s.push(e,r,o)}}function UC(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function BC(n,t,e,r){let i=e.directiveStart,o=e.directiveEnd;da(e)&&YC(t,e,n.data[i+e.componentOffset]),n.firstCreatePass||zs(e,t),un(r,t);let s=e.initialInputs;for(let a=i;a<o;a++){let l=n.data[a],c=$r(t,n,a,e);if(un(c,t),s!==null&&QC(t,a-i,c,l,e,s),cn(l)){let u=hn(e.index,t);u[Be]=$r(t,n,a,e)}}}function Rm(n,t,e){let r=e.directiveStart,i=e.directiveEnd,o=e.index,s=yb();try{Ln(o);for(let a=r;a<i;a++){let l=n.data[a],c=t[a];Vc(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&HC(l,c)}}finally{Ln(-1),Vc(s)}}function HC(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function GC(n,t){let e=n.directiveRegistry,r=null,i=null;if(e)for(let o=0;o<e.length;o++){let s=e[o];if(Sw(t,s.selectors,!1))if(r||(r=[]),cn(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let l=a.length;Wc(n,t,l)}else r.unshift(s),Wc(n,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Wc(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function zC(n,t,e){if(t){let r=n.localNames=[];for(let i=0;i<t.length;i+=2){let o=e[t[i+1]];if(o==null)throw new T(-301,!1);r.push(t[i],o)}}}function qC(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;cn(t)&&(e[""]=n)}}function WC(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function KC(n,t,e,r,i){n.data[r]=i;let o=i.factory||(i.factory=Pr(i.type,!0)),s=new jn(o,cn(i),z);n.blueprint[r]=s,e[r]=s,$C(n,t,r,xm(n,e,i.hostVars,kt),i)}function YC(n,t,e){let r=ct(t,n),i=Tm(e),o=n[Ct].rendererFactory,s=16;e.signals?s=4096:e.onPush&&(s=64);let a=Ca(n,ba(n,i,null,s,r,t,null,o.createRenderer(r,e),null,null,null));n[t.index]=a}function JC(n,t,e,r,i,o){let s=ct(n,t);ZC(t[ve],s,o,n.value,e,r,i)}function ZC(n,t,e,r,i,o,s){if(o==null)n.removeAttribute(t,i,e);else{let a=s==null?Rr(o):s(o,r||"",i);n.setAttribute(t,i,a,e)}}function QC(n,t,e,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];Im(r,e,l,c,u,d)}}function XC(n,t,e){let r=null,i=0;for(;i<e.length;){let o=e[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){r.push(o,s[a+1],s[a+2],e[i+1]);break}}i+=2}return r}function Pm(n,t,e,r){return[n,!0,0,t,null,r,null,e,null,null]}function Nm(n,t){let e=n.contentQueries;if(e!==null){let r=ee(null);try{for(let i=0;i<e.length;i+=2){let o=e[i],s=e[i+1];if(s!==-1){let a=n.data[s];Ug(o),a.contentQueries(2,t[s],s)}}}finally{ee(r)}}}function Ca(n,t){return n[Oi]?n[Dp][bt]=t:n[Oi]=t,n[Dp]=t,t}function Kc(n,t,e){Ug(0);let r=ee(null);try{t(n,e)}finally{ee(r)}}function eE(n){return n[Ai]||(n[Ai]=[])}function tE(n){return n.cleanup||(n.cleanup=[])}function km(n,t){let e=n[Lr],r=e?e.get(Gt,null):null;r&&r.handleError(t)}function ed(n,t,e,r,i){for(let o=0;o<e.length;){let s=e[o++],a=e[o++],l=e[o++],c=t[s],u=n.data[s];Im(u,c,r,a,l,i)}}function Fm(n,t,e){let r=kg(t,n);cC(n[ve],r,e)}function nE(n,t){let e=hn(t,n),r=e[H];rE(r,e);let i=e[Wt];i!==null&&e[Ti]===null&&(e[Ti]=Gu(i,e[Lr])),td(r,e,e[Be])}function rE(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function td(n,t,e){ku(t);try{let r=n.viewQuery;r!==null&&Kc(1,r,e);let i=n.template;i!==null&&Mm(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[jr]?.finishViewCreation(n),n.staticContentQueries&&Nm(n,t),n.staticViewQueries&&Kc(2,n.viewQuery,e);let o=n.components;o!==null&&iE(t,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[N]&=-5,Fu()}}function iE(n,t){for(let e=0;e<t.length;e++)nE(n,t[e])}function nd(n,t,e,r){let i=ee(null);try{let o=t.tView,a=n[N]&4096?4096:16,l=ba(n,o,e,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=n[t.index];l[ca]=c;let u=n[jr];return u!==null&&(l[jr]=u.createEmbeddedView(o)),td(o,l,e),l}finally{ee(i)}}function oE(n,t){let e=He+t;if(e<n.length)return n[e]}function Ks(n,t){return!t||t.firstChild===null||am(n)}function rd(n,t,e,r=!0){let i=t[H];if(pC(i,t,n,e),r){let s=qc(e,n),a=t[ve],l=Wu(a,n[Fn]);l!==null&&fC(i,n[St],a,t,l,s)}let o=t[Ti];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function sE(n,t){let e=Ni(n,t);return e!==void 0&&ya(e[H],e),e}function Ys(n,t,e,r,i=!1){for(;e!==null;){let o=t[e.index];o!==null&&r.push(Nt(o)),Kt(o)&&aE(o,r);let s=e.type;if(s&8)Ys(n,t,e.child,r);else if(s&32){let a=qu(e,t),l;for(;l=a();)r.push(l)}else if(s&16){let a=Cm(t,e);if(Array.isArray(a))r.push(...a);else{let l=Pi(t[Et]);Ys(l[H],l,a,r,!0)}}e=i?e.projectionNext:e.next}return r}function aE(n,t){for(let e=He;e<n.length;e++){let r=n[e],i=r[H].firstChild;i!==null&&Ys(r[H],r,i,t)}n[Fn]!==n[Wt]&&t.push(n[Fn])}var Lm=[];function lE(n){return n[kn]??cE(n)}function cE(n){let t=Lm.pop()??Object.create(dE);return t.lView=n,t}function uE(n){n.lView[kn]!==n&&(n.lView=null,Lm.push(n))}var dE=re(x({},Yo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Ri(n.lView)},consumerOnSignalRead(){this.lView[kn]=this}}),jm=100;function Vm(n,t=!0,e=0){let r=n[Ct],i=r.rendererFactory,o=!1;o||i.begin?.();try{fE(n,e)}catch(s){throw t&&km(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function fE(n,t){Yc(n,t);let e=0;for(;Ru(n);){if(e===jm)throw new T(103,!1);e++,Yc(n,1)}}function hE(n,t,e,r){let i=t[N];if((i&256)===256)return;let o=!1;!o&&t[Ct].inlineEffectRunner?.flush(),ku(t);let s=null,a=null;!o&&pE(n)&&(a=lE(t),s=Hl(a));try{Fg(t),gb(n.bindingStartIndex),e!==null&&Mm(n,t,e,2,r);let l=(i&3)===3;if(!o)if(l){let d=n.preOrderCheckHooks;d!==null&&Ps(t,d,null)}else{let d=n.preOrderHooks;d!==null&&Ns(t,d,0,null),mc(t,0)}if(gE(t),$m(t,0),n.contentQueries!==null&&Nm(n,t),!o)if(l){let d=n.contentCheckHooks;d!==null&&Ps(t,d)}else{let d=n.contentHooks;d!==null&&Ns(t,d,1),mc(t,1)}AC(n,t);let c=n.components;c!==null&&Bm(t,c,0);let u=n.viewQuery;if(u!==null&&Kc(2,u,r),!o)if(l){let d=n.viewCheckHooks;d!==null&&Ps(t,d)}else{let d=n.viewHooks;d!==null&&Ns(t,d,2),mc(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[gc]){for(let d of t[gc])d();t[gc]=null}o||(t[N]&=-73)}catch(l){throw Ri(t),l}finally{a!==null&&(Gl(a,s),uE(a)),Fu()}}function pE(n){return n.type!==2}function $m(n,t){for(let e=cm(n);e!==null;e=um(e))for(let r=He;r<e.length;r++){let i=e[r];Um(i,t)}}function gE(n){for(let t=cm(n);t!==null;t=um(t)){if(!(t[N]&Mu.HasTransplantedViews))continue;let e=t[Bs];for(let r=0;r<e.length;r++){let i=e[r],o=i[Ne];rb(i)}}}function mE(n,t,e){let r=hn(t,n);Um(r,e)}function Um(n,t){Ou(n)&&Yc(n,t)}function Yc(n,t){let r=n[H],i=n[N],o=n[kn],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&zl(o)),o&&(o.dirty=!1),n[N]&=-9217,s)hE(r,n,r.template,n[Be]);else if(i&8192){$m(n,1);let a=r.components;a!==null&&Bm(n,a,1)}}function Bm(n,t,e){for(let r=0;r<t.length;r++)mE(n,t[r],e)}function id(n){for(n[Ct].changeDetectionScheduler?.notify();n;){n[N]|=64;let t=Pi(n);if(Ww(n)&&!t)return n;n=t}return null}var Vn=class{get rootNodes(){let t=this._lView,e=t[H];return Ys(e,t,e.firstChild,[])}constructor(t,e,r=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Be]}set context(t){this._lView[Be]=t}get destroyed(){return(this._lView[N]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ne];if(Kt(t)){let e=t[Us],r=e?e.indexOf(this):-1;r>-1&&(Ni(t,r),Vs(e,r))}this._attachedToViewContainer=!1}ya(this._lView[H],this._lView)}onDestroy(t){Lg(this._lView,t)}markForCheck(){id(this._cdRefInjectingView||this._lView)}detach(){this._lView[N]&=-129}reattach(){jc(this._lView),this._lView[N]|=128}detectChanges(){this._lView[N]|=1024,Vm(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,_m(this._lView[H],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=t,jc(this._lView)}},Ea=(()=>{class n{static{this.__NG_ELEMENT_ID__=_E}}return n})(),vE=Ea,yE=class extends vE{constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,r){let i=nd(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:e,dehydratedView:r});return new Vn(i)}};function _E(){return Hm(Ge(),oe())}function Hm(n,t){return n.type&4?new yE(t,n,ma(n,t)):null}var VN=new RegExp(`^(\\d+)*(${Yb}|${Kb})*(.*)`);var wE=()=>null;function Js(n,t){return wE(n,t)}var Jc=class{},Zc=class{},Zs=class{};function bE(n){let t=Error(`No component factory found for ${Ue(n)}.`);return t[CE]=n,t}var CE="ngComponent";var Qc=class{resolveComponentFactory(t){throw bE(t)}},Da=(()=>{class n{static{this.NULL=new Qc}}return n})(),ki=class{},qn=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>EE()}}return n})();function EE(){let n=oe(),t=Ge(),e=hn(t.index,n);return(Rn(e)?e:n)[ve]}var DE=(()=>{class n{static{this.\u0275prov=P({token:n,providedIn:"root",factory:()=>null})}}return n})(),bc={};var jp=new Set;function Gi(n){jp.has(n)||(jp.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Vp(...n){}function SE(){let n=typeof On.requestAnimationFrame=="function",t=On[n?"requestAnimationFrame":"setTimeout"],e=On[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){let r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}var _e=class n{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pe(!1),this.onMicrotaskEmpty=new Pe(!1),this.onStable=new Pe(!1),this.onError=new Pe(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=SE().nativeRequestAnimationFrame,ME(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new T(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,IE,Vp,Vp);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}},IE={};function od(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function xE(n){n.isCheckStableRunning||n.lastRequestAnimationFrameId!==-1||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(On,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Xc(n),n.isCheckStableRunning=!0,od(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Xc(n))}function ME(n){let t=()=>{xE(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,o,s,a)=>{if(TE(a))return e.invokeTask(i,o,s,a);try{return $p(n),e.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),Up(n)}},onInvoke:(e,r,i,o,s,a,l)=>{try{return $p(n),e.invoke(i,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),Up(n)}},onHasTask:(e,r,i,o)=>{e.hasTask(i,o),r===i&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,Xc(n),od(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,r,i,o)=>(e.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function Xc(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.lastRequestAnimationFrameId!==-1?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function $p(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Up(n){n._nesting--,od(n)}function TE(n){return!Array.isArray(n)||n.length!==1?!1:n[0].data?.__ignore_ng_zone__===!0}var Gm=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let e=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of e)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=P({token:n,providedIn:"root",factory:()=>new n})}}return n})();function Qs(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=Tc(i,a);else if(o==2){let l=a,c=t[++s];r=Tc(r,l+": "+c+";")}}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}var Xs=class extends Da{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=Nn(t);return new Fi(e,this.ngModule)}};function Bp(n){let t=[];for(let e in n){if(!n.hasOwnProperty(e))continue;let r=n[e];r!==void 0&&t.push({propName:Array.isArray(r)?r[0]:r,templateName:e})}return t}function AE(n){let t=n.toLowerCase();return t==="svg"?Zw:t==="math"?Qw:null}var eu=class{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){r=sa(r);let i=this.injector.get(t,bc,r);return i!==bc||e===bc?i:this.parentInjector.get(t,e,r)}},Fi=class extends Zs{get inputs(){let t=this.componentDef,e=t.inputTransforms,r=Bp(t.inputs);if(e!==null)for(let i of r)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return r}get outputs(){return Bp(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=Tw(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,r,i){let o=ee(null);try{i=i||this.ngModule;let s=i instanceof lt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new eu(t,s):t,l=a.get(ki,null);if(l===null)throw new T(407,!1);let c=a.get(DE,null),u=a.get(Gm,null),d=a.get(Jc,null),m={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},f=l.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",_=r?PC(f,r,this.componentDef.encapsulation,a):ym(f,y,AE(y)),b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let C=null;_!==null&&(C=Gu(_,a,!0));let L=Qu(0,null,null,1,0,null,null,null,null,null,null),S=ba(null,L,null,b,null,null,m,f,a,null,C);ku(S);let I,q;try{let pe=this.componentDef,X,de=null;pe.findHostDirectiveDefs?(X=[],de=new Map,pe.findHostDirectiveDefs(pe,X,de),X.push(pe)):X=[pe];let xt=OE(S,_),gt=RE(xt,_,pe,X,S,m,f);q=Au(L,Dt),_&&kE(f,pe,_,r),e!==void 0&&FE(q,this.ngContentSelectors,e),I=NE(gt,pe,X,de,S,[LE]),td(L,S,null)}finally{Fu()}return new tu(this.componentType,I,ma(q,S),S,q)}finally{ee(o)}}},tu=class extends Zc{constructor(t,e,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new Vn(i,void 0,!1),this.componentType=t}setInput(t,e){let r=this._tNode.inputs,i;if(r!==null&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let o=this._rootLView;ed(o[H],o,i,t,e),this.previousInputValues.set(t,e);let s=hn(this._tNode.index,o);id(s)}}get injector(){return new Pn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function OE(n,t){let e=n[H],r=Dt;return n[r]=t,Hi(e,r,2,"#host",null)}function RE(n,t,e,r,i,o,s){let a=i[H];PE(r,n,t,s);let l=null;t!==null&&(l=Gu(t,i[Lr]));let c=o.rendererFactory.createRenderer(t,e),u=16;e.signals?u=4096:e.onPush&&(u=64);let d=ba(i,Tm(e),null,u,i[n.index],n,o,c,null,null,l);return a.firstCreatePass&&Wc(a,n,r.length-1),Ca(i,d),i[n.index]=d}function PE(n,t,e,r){for(let i of n)t.mergedAttrs=xi(t.mergedAttrs,i.hostAttrs);t.mergedAttrs!==null&&(Qs(t,t.mergedAttrs,!0),e!==null&&Dm(r,e,t))}function NE(n,t,e,r,i,o){let s=Ge(),a=i[H],l=ct(s,i);Om(a,i,s,e,null,r);for(let u=0;u<e.length;u++){let d=s.directiveStart+u,m=$r(i,a,d,s);un(m,i)}Rm(a,i,s),l&&un(l,i);let c=$r(i,a,s.directiveStart+s.componentOffset,s);if(n[Be]=i[Be]=c,o!==null)for(let u of o)u(c,t);return Yu(a,s,i),c}function kE(n,t,e,r){if(r)Pc(n,e,["ng-version","17.3.12"]);else{let{attrs:i,classes:o}=Aw(t.selectors[0]);i&&Pc(n,e,i),o&&o.length>0&&Em(n,e,o.join(" "))}}function FE(n,t,e){let r=n.projection=[];for(let i=0;i<t.length;i++){let o=e[i];r.push(o!=null?Array.from(o):null)}}function LE(){let n=Ge();ga(oe()[H],n)}var Wr=(()=>{class n{static{this.__NG_ELEMENT_ID__=jE}}return n})();function jE(){let n=Ge();return $E(n,oe())}var VE=Wr,zm=class extends VE{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return ma(this._hostTNode,this._hostLView)}get injector(){return new Pn(this._hostTNode,this._hostLView)}get parentInjector(){let t=ju(this._hostTNode,this._hostLView);if(Yg(t)){let e=Gs(t,this._hostLView),r=Hs(t),i=e[H].data[r+8];return new Pn(i,e)}else return new Pn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=Hp(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-He}createEmbeddedView(t,e,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Js(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,i,Ks(this._hostTNode,s)),a}createComponent(t,e,r,i,o){let s=t&&!qw(t),a;if(s)a=e;else{let y=e||{};a=y.index,r=y.injector,i=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef}let l=s?t:new Fi(Nn(t)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let _=(s?c:this.parentInjector).get(lt,null);_&&(o=_)}let u=Nn(l.componentType??{}),d=Js(this._lContainer,u?.id??null),m=d?.firstChild??null,f=l.create(c,i,m,o);return this.insertImpl(f.hostView,a,Ks(this._hostTNode,d)),f}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,r){let i=t._lView;if(nb(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=i[Ne],c=new zm(l,l[St],l[Ne]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(e),s=this._lContainer;return rd(s,i,o,r),t.attachToViewContainerRef(),hg(Cc(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=Hp(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),r=Ni(this._lContainer,e);r&&(Vs(Cc(this._lContainer),e),ya(r[H],r))}detach(t){let e=this._adjustIndex(t,-1),r=Ni(this._lContainer,e);return r&&Vs(Cc(this._lContainer),e)!=null?new Vn(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function Hp(n){return n[Us]}function Cc(n){return n[Us]||(n[Us]=[])}function $E(n,t){let e,r=t[n.index];return Kt(r)?e=r:(e=Pm(r,t,null,n),t[n.index]=e,Ca(t,e)),BE(e,t,n,r),new zm(e,n,t)}function UE(n,t){let e=n[ve],r=e.createComment(""),i=ct(t,n),o=Wu(e,i);return Ws(e,o,r,bC(e,i),!1),r}var BE=zE,HE=()=>!1;function GE(n,t,e){return HE(n,t,e)}function zE(n,t,e,r){if(n[Fn])return;let i;e.type&8?i=Nt(r):i=UE(t,e),n[Fn]=i}function qE(n){return typeof n=="function"&&n[Mt]!==void 0}function F(n,t){Gi("NgSignals");let e=Dh(n),r=e[Mt];return t?.equal&&(r.equal=t.equal),e.set=i=>Qo(r,i),e.update=i=>Sh(r,i),e.asReadonly=WE.bind(e),e}function WE(){let n=this[Mt];if(n.readonlyFn===void 0){let t=()=>this();t[Mt]=n,n.readonlyFn=t}return n.readonlyFn}function qm(n){return qE(n)&&typeof n.set=="function"}function KE(n){return Object.getPrototypeOf(n.prototype).constructor}function Jt(n){let t=KE(n.type),e=!0,r=[n];for(;t;){let i;if(cn(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new T(903,!1);i=t.\u0275dir}if(i){if(e){r.push(i);let s=n;s.inputs=As(n.inputs),s.inputTransforms=As(n.inputTransforms),s.declaredInputs=As(n.declaredInputs),s.outputs=As(n.outputs);let a=i.hostBindings;a&&XE(n,a);let l=i.viewQuery,c=i.contentQueries;if(l&&ZE(n,l),c&&QE(n,c),YE(n,i),Q_(n.outputs,i.outputs),cn(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Jt&&(e=!1)}}t=Object.getPrototypeOf(t)}JE(r)}function YE(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let r=t.inputs[e];if(r!==void 0&&(n.inputs[e]=r,n.declaredInputs[e]=t.declaredInputs[e],t.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=t.inputTransforms[i]}}}function JE(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=xi(i.hostAttrs,e=xi(e,i.hostAttrs))}}function As(n){return n===Nr?{}:n===Je?[]:n}function ZE(n,t){let e=n.viewQuery;e?n.viewQuery=(r,i)=>{t(r,i),e(r,i)}:n.viewQuery=t}function QE(n,t){let e=n.contentQueries;e?n.contentQueries=(r,i,o)=>{t(r,i,o),e(r,i,o)}:n.contentQueries=t}function XE(n,t){let e=n.hostBindings;e?n.hostBindings=(r,i)=>{t(r,i),e(r,i)}:n.hostBindings=t}function sd(n){let t=n.inputConfig,e={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r];Array.isArray(i)&&i[3]&&(e[r]=i[3])}n.inputTransforms=e}var dn=class{},Li=class{};var nu=class extends dn{constructor(t,e,r){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xs(this);let i=Cg(t);this._bootstrapComponents=vm(i.bootstrap),this._r3Injector=im(t,e,[{provide:dn,useValue:this},{provide:Da,useValue:this.componentFactoryResolver},...r],Ue(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},ru=class extends Li{constructor(t){super(),this.moduleType=t}create(t){return new nu(this.moduleType,t,[])}};var ea=class extends dn{constructor(t){super(),this.componentFactoryResolver=new Xs(this),this.instance=null;let e=new Mi([...t.providers,{provide:dn,useValue:this},{provide:Da,useValue:this.componentFactoryResolver}],t.parent||xu(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function ad(n,t,e=null){return new ea({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var Sa=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ie(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Wm(n){return tD(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function eD(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),r;for(;!(r=e.next()).done;)t(r.value)}}function tD(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function qt(n,t,e){let r=n[t];return Object.is(r,e)?!1:(n[t]=e,!0)}function nD(n,t,e,r){let i=qt(n,t,e);return qt(n,t+1,r)||i}function rD(n){return(n.flags&32)===32}function iD(n,t,e,r,i,o,s,a,l){let c=t.consts,u=Hi(t,n,4,s||null,Vr(c,a));Xu(t,e,u,Vr(c,l)),ga(t,u);let d=u.tView=Qu(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function te(n,t,e,r,i,o,s,a){let l=oe(),c=Fe(),u=n+Dt,d=c.firstCreatePass?iD(u,c,l,t,e,r,i,o,s):c.data[u];zn(d,!1);let m=oD(c,l,d,n);ha()&&_a(c,l,m,d),un(m,l);let f=Pm(m,l,m,d);return l[u]=f,Ca(l,f),GE(f,d,l),fa(d)&&Ju(c,l,d),s!=null&&Zu(l,d,a),te}var oD=sD;function sD(n,t,e,r){return pa(!0),t[ve].createComment("")}function zi(n,t,e,r){let i=oe(),o=Ui();if(qt(i,o,t)){let s=Fe(),a=Lu();JC(a,i,n,t,e,r)}return zi}function aD(n,t,e,r){return qt(n,Ui(),e)?t+Rr(e)+r:kt}function lD(n,t,e,r,i,o){let s=pb(),a=nD(n,s,e,i);return Nu(2),a?t+Rr(e)+r+Rr(i)+o:kt}function Os(n,t){return n<<17|t<<2}function $n(n){return n>>17&32767}function cD(n){return(n&2)==2}function uD(n,t){return n&131071|t<<17}function iu(n){return n|2}function Ur(n){return(n&131068)>>2}function Ec(n,t){return n&-131069|t<<2}function dD(n){return(n&1)===1}function ou(n){return n|1}function fD(n,t,e,r,i,o){let s=o?t.classBindings:t.styleBindings,a=$n(s),l=Ur(s);n[r]=e;let c=!1,u;if(Array.isArray(e)){let d=e;u=d[1],(u===null||$i(d,u)>0)&&(c=!0)}else u=e;if(i)if(l!==0){let m=$n(n[a+1]);n[r+1]=Os(m,a),m!==0&&(n[m+1]=Ec(n[m+1],r)),n[a+1]=uD(n[a+1],r)}else n[r+1]=Os(a,0),a!==0&&(n[a+1]=Ec(n[a+1],r)),a=r;else n[r+1]=Os(l,0),a===0?a=r:n[l+1]=Ec(n[l+1],r),l=r;c&&(n[r+1]=iu(n[r+1])),Gp(n,u,r,!0),Gp(n,u,r,!1),hD(t,u,n,r,o),s=Os(a,l),o?t.classBindings=s:t.styleBindings=s}function hD(n,t,e,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof t=="string"&&$i(o,t)>=0&&(e[r+1]=ou(e[r+1]))}function Gp(n,t,e,r){let i=n[e+1],o=t===null,s=r?$n(i):Ur(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],c=n[s+1];pD(l,t)&&(a=!0,n[s+1]=r?ou(c):iu(c)),s=r?$n(c):Ur(c)}a&&(n[e+1]=r?iu(i):ou(i))}function pD(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?$i(n,t)>=0:!1}var wt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function gD(n){return n.substring(wt.key,wt.keyEnd)}function mD(n){return vD(n),Km(n,Ym(n,0,wt.textEnd))}function Km(n,t){let e=wt.textEnd;return e===t?-1:(t=wt.keyEnd=yD(n,wt.key=t,e),Ym(n,t,e))}function vD(n){wt.key=0,wt.keyEnd=0,wt.value=0,wt.valueEnd=0,wt.textEnd=n.length}function Ym(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function yD(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}function R(n,t,e){let r=oe(),i=Ui();if(qt(r,i,t)){let o=Fe(),s=Lu();Am(o,s,r,n,t,r[ve],e,!1)}return R}function su(n,t,e,r,i){let o=t.inputs,s=i?"class":"style";ed(n,e,o[s],s,r)}function Zt(n,t,e){return Zm(n,t,e,!1),Zt}function rt(n,t){return Zm(n,t,null,!0),rt}function Jm(n){wD(ID,_D,n,!0)}function _D(n,t){for(let e=mD(t);e>=0;e=Km(t,e))Du(n,gD(t),!0)}function Zm(n,t,e,r){let i=oe(),o=Fe(),s=Nu(2);if(o.firstUpdatePass&&Xm(o,n,s,r),t!==kt&&qt(i,s,t)){let a=o.data[Yt()];ev(o,a,i,i[ve],n,i[s+1]=MD(t,e),r,s)}}function wD(n,t,e,r){let i=Fe(),o=Nu(2);i.firstUpdatePass&&Xm(i,null,o,r);let s=oe();if(e!==kt&&qt(s,o,e)){let a=i.data[Yt()];if(tv(a,r)&&!Qm(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(e=Tc(l,e||"")),su(i,a,s,e,r)}else xD(i,a,s,s[ve],s[o+1],s[o+1]=SD(n,t,e),r,o)}}function Qm(n,t){return t>=n.expandoStartIndex}function Xm(n,t,e,r){let i=n.data;if(i[e+1]===null){let o=i[Yt()],s=Qm(n,e);tv(o,r)&&t===null&&!s&&(t=!1),t=bD(i,o,t,r),fD(i,o,t,e,s,r)}}function bD(n,t,e,r){let i=_b(n),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(e=Dc(null,n,t,e,r),e=ji(e,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||n[s]!==i)if(e=Dc(i,n,t,e,r),o===null){let l=CD(n,t,r);l!==void 0&&Array.isArray(l)&&(l=Dc(null,n,t,l[1],r),l=ji(l,t.attrs,r),ED(n,t,r,l))}else o=DD(n,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),e}function CD(n,t,e){let r=e?t.classBindings:t.styleBindings;if(Ur(r)!==0)return n[$n(r)]}function ED(n,t,e,r){let i=e?t.classBindings:t.styleBindings;n[$n(i)]=r}function DD(n,t,e){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=ji(r,s,e)}return ji(r,t.attrs,e)}function Dc(n,t,e,r,i){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=t[a],r=ji(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(e.directiveStylingLast=a),r}function ji(n,t,e){let r=e?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Du(n,s,e?!0:t[++o]))}return n===void 0?null:n}function SD(n,t,e){if(e==null||e==="")return Je;let r=[],i=qr(e);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&t(r,i);return r}function ID(n,t,e){let r=String(t);r!==""&&!r.includes(" ")&&Du(n,r,e)}function xD(n,t,e,r,i,o,s,a){i===kt&&(i=Je);let l=0,c=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let m=l<i.length?i[l+1]:void 0,f=c<o.length?o[c+1]:void 0,y=null,_;u===d?(l+=2,c+=2,m!==f&&(y=d,_=f)):d===null||u!==null&&u<d?(l+=2,y=u):(c+=2,y=d,_=f),y!==null&&ev(n,t,e,r,y,_,s,a),u=l<i.length?i[l]:null,d=c<o.length?o[c]:null}}function ev(n,t,e,r,i,o,s,a){if(!(t.type&3))return;let l=n.data,c=l[a+1],u=dD(c)?zp(l,t,e,i,Ur(c),s):void 0;if(!ta(u)){ta(o)||cD(c)&&(o=zp(l,null,e,i,a,s));let d=kg(Yt(),e);MC(r,s,d,i,o)}}function zp(n,t,e,r,i,o){let s=t===null,a;for(;i>0;){let l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,m=e[i+1];m===kt&&(m=d?Je:void 0);let f=d?hc(m,r):u===r?m:void 0;if(c&&!ta(f)&&(f=hc(l,r)),ta(f)&&(a=f,s))return a;let y=n[i+1];i=s?$n(y):Ur(y)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=hc(l,r))}return a}function ta(n){return n!==void 0}function MD(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=Ue(qr(n)))),n}function tv(n,t){return(n.flags&(t?8:16))!==0}var au=class{destroy(t){}updateValue(t,e){}swap(t,e){let r=Math.min(t,e),i=Math.max(t,e),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(t,e){this.attach(e,this.detach(t))}};function Sc(n,t,e,r,i){return n===e&&Object.is(t,r)?1:Object.is(i(n,t),i(e,r))?-1:0}function TD(n,t,e){let r,i,o=0,s=n.length-1;if(Array.isArray(t)){let a=t.length-1;for(;o<=s&&o<=a;){let l=n.at(o),c=t[o],u=Sc(o,l,o,c,e);if(u!==0){u<0&&n.updateValue(o,c),o++;continue}let d=n.at(s),m=t[a],f=Sc(s,d,a,m,e);if(f!==0){f<0&&n.updateValue(s,m),s--,a--;continue}let y=e(o,l),_=e(s,d),b=e(o,c);if(Object.is(b,_)){let C=e(a,m);Object.is(C,y)?(n.swap(o,s),n.updateValue(s,m),a--,s--):n.move(s,o),n.updateValue(o,c),o++;continue}if(r??=new na,i??=Wp(n,o,s,e),lu(n,r,o,b))n.updateValue(o,c),o++,s++;else if(i.has(b))r.set(y,n.detach(o)),s--;else{let C=n.create(o,t[o]);n.attach(o,C),o++,s++}}for(;o<=a;)qp(n,r,e,o,t[o]),o++}else if(t!=null){let a=t[Symbol.iterator](),l=a.next();for(;!l.done&&o<=s;){let c=n.at(o),u=l.value,d=Sc(o,c,o,u,e);if(d!==0)d<0&&n.updateValue(o,u),o++,l=a.next();else{r??=new na,i??=Wp(n,o,s,e);let m=e(o,u);if(lu(n,r,o,m))n.updateValue(o,u),o++,s++,l=a.next();else if(!i.has(m))n.attach(o,n.create(o,u)),o++,s++,l=a.next();else{let f=e(o,c);r.set(f,n.detach(o)),s--}}}for(;!l.done;)qp(n,r,e,n.length,l.value),l=a.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(a=>{n.destroy(a)})}function lu(n,t,e,r){return t!==void 0&&t.has(r)?(n.attach(e,t.get(r)),t.delete(r),!0):!1}function qp(n,t,e,r,i){if(lu(n,t,r,e(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function Wp(n,t,e,r){let i=new Set;for(let o=t;o<=e;o++)i.add(r(o,n.at(o)));return i}var na=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let e=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(t,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,e){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,e)}else this.kvMap.set(t,e)}forEach(t){for(let[e,r]of this.kvMap)if(t(r,e),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,e)}}};var cu=class{constructor(t,e,r){this.lContainer=t,this.$implicit=e,this.$index=r}get $count(){return this.lContainer.length-He}};var uu=class{constructor(t,e,r){this.hasEmptyBlock=t,this.trackByFn=e,this.liveCollection=r}};function nv(n,t,e,r,i,o,s,a,l,c,u,d,m){Gi("NgControlFlow");let f=l!==void 0,y=oe(),_=a?s.bind(y[Et][Be]):s,b=new uu(f,_);y[Dt+n]=b,te(n+1,t,e,r,i,o),f&&te(n+2,l,c,u,d,m)}var du=class extends au{constructor(t,e,r){super(),this.lContainer=t,this.hostLView=e,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-He}at(t){return this.getLView(t)[Be].$implicit}attach(t,e){let r=e[Ti];this.needsIndexUpdate||=t!==this.length,rd(this.lContainer,e,t,Ks(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,AD(this.lContainer,t)}create(t,e){let r=Js(this.lContainer,this.templateTNode.tView.ssrId);return nd(this.hostLView,this.templateTNode,new cu(this.lContainer,e,t),{dehydratedView:r})}destroy(t){ya(t[H],t)}updateValue(t,e){this.getLView(t)[Be].$implicit=e}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[Be].$index=t}getLView(t){return OD(this.lContainer,t)}};function rv(n){let t=ee(null),e=Yt();try{let r=oe(),i=r[H],o=r[e];if(o.liveCollection===void 0){let a=e+1,l=Kp(r,a),c=Yp(i,a);o.liveCollection=new du(l,r,c)}else o.liveCollection.reset();let s=o.liveCollection;if(TD(s,n,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){let a=Ui(),l=s.length===0;if(qt(r,a,l)){let c=e+2,u=Kp(r,c);if(l){let d=Yp(i,c),m=Js(u,d.tView.ssrId),f=nd(r,d,void 0,{dehydratedView:m});rd(u,f,0,Ks(d,m))}else sE(u,0)}}}finally{ee(t)}}function Kp(n,t){return n[t]}function AD(n,t){return Ni(n,t)}function OD(n,t){return oE(n,t)}function Yp(n,t){return Au(n,t)}function RD(n,t,e,r,i,o){let s=t.consts,a=Vr(s,i),l=Hi(t,n,2,r,a);return Xu(t,e,l,Vr(s,o)),l.attrs!==null&&Qs(l,l.attrs,!1),l.mergedAttrs!==null&&Qs(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function p(n,t,e,r){let i=oe(),o=Fe(),s=Dt+n,a=i[ve],l=o.firstCreatePass?RD(s,o,i,t,e,r):o.data[s],c=PD(o,i,l,a,t,n);i[s]=c;let u=fa(l);return zn(l,!0),Dm(a,c,l),!rD(l)&&ha()&&_a(o,i,c,l),sb()===0&&un(c,i),ab(),u&&(Ju(o,i,l),Yu(o,l,i)),r!==null&&Zu(i,l),p}function g(){let n=Ge();Pu()?$g():(n=n.parent,zn(n,!1));let t=n;ub(t)&&db(),lb();let e=Fe();return e.firstCreatePass&&(ga(e,n),Tu(n)&&e.queries.elementEnd(n)),t.classesWithoutHost!=null&&Ib(t)&&su(e,t,oe(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&xb(t)&&su(e,t,oe(),t.stylesWithoutHost,!1),g}function ge(n,t,e,r){return p(n,t,e,r),g(),ge}var PD=(n,t,e,r,i,o)=>(pa(!0),ym(r,i,Cb()));function ND(n,t,e,r,i){let o=t.consts,s=Vr(o,r),a=Hi(t,n,8,"ng-container",s);s!==null&&Qs(a,s,!0);let l=Vr(o,i);return Xu(t,e,a,l),t.queries!==null&&t.queries.elementStart(t,a),a}function ld(n,t,e){let r=oe(),i=Fe(),o=n+Dt,s=i.firstCreatePass?ND(o,i,r,t,e):i.data[o];zn(s,!0);let a=kD(i,r,s,n);return r[o]=a,ha()&&_a(i,r,a,s),un(a,r),fa(s)&&(Ju(i,r,s),Yu(i,s,r)),e!=null&&Zu(r,s),ld}function cd(){let n=Ge(),t=Fe();return Pu()?$g():(n=n.parent,zn(n,!1)),t.firstCreatePass&&(ga(t,n),Tu(n)&&t.queries.elementEnd(n)),cd}var kD=(n,t,e,r)=>(pa(!0),uC(t[ve],""));function Te(){return oe()}var ra="en-US";var FD=ra;function LD(n){typeof n=="string"&&(FD=n.toLowerCase().replace(/_/g,"-"))}function V(n,t,e,r){let i=oe(),o=Fe(),s=Ge();return iv(o,i,i[ve],s,n,t,r),V}function jD(n,t,e,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===e&&i[o+1]===r){let a=t[Ai],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function iv(n,t,e,r,i,o,s){let a=fa(r),c=n.firstCreatePass&&tE(n),u=t[Be],d=eE(t),m=!0;if(r.type&3||s){let _=ct(r,t),b=s?s(_):_,C=d.length,L=s?I=>s(Nt(I[r.index])):r.index,S=null;if(!s&&a&&(S=jD(n,t,i,r.index)),S!==null){let I=S.__ngLastListenerFn__||S;I.__ngNextListenerFn__=o,S.__ngLastListenerFn__=o,m=!1}else{o=Zp(r,t,u,o,!1);let I=e.listen(b,i,o);d.push(o,I),c&&c.push(i,L,C,C+1)}}else o=Zp(r,t,u,o,!1);let f=r.outputs,y;if(m&&f!==null&&(y=f[i])){let _=y.length;if(_)for(let b=0;b<_;b+=2){let C=y[b],L=y[b+1],q=t[C][L].subscribe(o),pe=d.length;d.push(o,q),c&&c.push(i,r.index,pe,-(pe+1))}}}function Jp(n,t,e,r){let i=ee(null);try{return Ot(6,t,e),e(r)!==!1}catch(o){return km(n,o),!1}finally{Ot(7,t,e),ee(i)}}function Zp(n,t,e,r,i){return function o(s){if(s===Function)return r;let a=n.componentOffset>-1?hn(n.index,t):t;id(a);let l=Jp(t,e,r,s),c=o.__ngNextListenerFn__;for(;c;)l=Jp(t,e,c,s)&&l,c=c.__ngNextListenerFn__;return i&&l===!1&&s.preventDefault(),l}}function A(n=1){return bb(n)}function qi(n){let t=hb();return tb(t,Dt+n)}function v(n,t=""){let e=oe(),r=Fe(),i=n+Dt,o=r.firstCreatePass?Hi(r,i,1,t,null):r.data[i],s=VD(r,e,o,t,n);e[i]=s,ha()&&_a(r,e,s,o),zn(o,!1)}var VD=(n,t,e,r,i)=>(pa(!0),lC(t[ve],r));function ne(n){return fe("",n,""),ne}function fe(n,t,e){let r=oe(),i=aD(r,n,t,e);return i!==kt&&Fm(r,Yt(),i),fe}function Wi(n,t,e,r,i){let o=oe(),s=lD(o,n,t,e,r,i);return s!==kt&&Fm(o,Yt(),s),Wi}function ze(n,t,e){qm(t)&&(t=t());let r=oe(),i=Ui();if(qt(r,i,t)){let o=Fe(),s=Lu();Am(o,s,r,n,t,r[ve],e,!1)}return ze}function Ze(n,t){let e=qm(n);return e&&n.set(t),e}function qe(n,t){let e=oe(),r=Fe(),i=Ge();return iv(r,e,e[ve],i,n,t),qe}function $D(n,t,e){let r=Fe();if(r.firstCreatePass){let i=cn(n);fu(e,r.data,r.blueprint,i,!0),fu(t,r.data,r.blueprint,i,!1)}}function fu(n,t,e,r,i){if(n=$e(n),Array.isArray(n))for(let o=0;o<n.length;o++)fu(n[o],t,e,r,i);else{let o=Fe(),s=oe(),a=Ge(),l=Fr(n)?n:$e(n.provide),c=Mg(n),u=a.providerIndexes&1048575,d=a.directiveStart,m=a.providerIndexes>>20;if(Fr(n)||!n.multi){let f=new jn(c,i,z),y=xc(l,t,i?u:u+m,d);y===-1?(Uc(zs(a,s),o,l),Ic(o,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(f),s.push(f)):(e[y]=f,s[y]=f)}else{let f=xc(l,t,u+m,d),y=xc(l,t,u,u+m),_=f>=0&&e[f],b=y>=0&&e[y];if(i&&!b||!i&&!_){Uc(zs(a,s),o,l);let C=HD(i?BD:UD,e.length,i,r,c);!i&&b&&(e[y].providerFactory=C),Ic(o,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(C),s.push(C)}else{let C=ov(e[i?y:f],c,!i&&r);Ic(o,n,f>-1?f:y,C)}!i&&r&&b&&e[y].componentProviders++}}}function Ic(n,t,e,r){let i=Fr(t),o=jw(t);if(i||o){let l=(o?$e(t.useClass):t).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){let u=c.indexOf(e);u===-1?c.push(e,[r,l]):c[u+1].push(r,l)}else c.push(e,l)}}}function ov(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function xc(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function UD(n,t,e,r){return hu(this.multi,[])}function BD(n,t,e,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=$r(e,e[H],this.providerFactory.index,r);o=a.slice(0,s),hu(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],hu(i,o);return o}function hu(n,t){for(let e=0;e<n.length;e++){let r=n[e];t.push(r())}return t}function HD(n,t,e,r,i){let o=new jn(n,e,z);return o.multi=[],o.index=t,o.componentProviders=0,ov(o,i,r&&!e),o}function Ki(n,t=[]){return e=>{e.providersResolver=(r,i)=>$D(r,i?i(n):n,t)}}var GD=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=Sg(!1,e.type),i=r.length>0?ad([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=P({token:n,providedIn:"environment",factory:()=>new n(Q(lt))})}}return n})();function Le(n){Gi("NgStandalone"),n.getStandaloneInjector=t=>t.get(GD).getOrCreateStandaloneInjector(n)}function Yi(n,t){return Hm(n,t)}var Ia=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var sv=new U("");function Wn(n){return!!n&&typeof n.then=="function"}function av(n){return!!n&&typeof n.subscribe=="function"}var lv=new U(""),cv=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r}),this.appInits=E(lv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let e=[];for(let i of this.appInits){let o=i();if(Wn(o))e.push(o);else if(av(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),e.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ud=new U("");function zD(){Eh(()=>{throw new T(600,!1)})}function qD(n){return n.isBoundToModule}function WD(n,t,e){try{let r=e();return Wn(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}var Ji=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=E(om),this.afterRenderEffectManager=E(Gm),this.externalTestViews=new Set,this.beforeRender=new Re,this.afterTick=new Re,this.componentTypes=[],this.components=[],this.isStable=E(Sa).hasPendingTasks.pipe(K(e=>!e)),this._injector=E(lt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){let i=e instanceof Zs;if(!this._injector.get(cv).done){let m=!i&&bg(e),f=!1;throw new T(405,f)}let s;i?s=e:s=this._injector.get(Da).resolveComponentFactory(e),this.componentTypes.push(s.componentType);let a=qD(s)?void 0:this._injector.get(dn),l=r||s.selector,c=s.create(Gr.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(sv,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Mc(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this._tick(!0)}_tick(e){if(this._runningTick)throw new T(101,!1);let r=ee(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(e)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,ee(r)}}detectChangesInAttachedViews(e){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===jm)throw new T(103,!1);if(e){let o=r===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)KD(s,o,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>pu(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>pu(o))))break}}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;Mc(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);let r=this._injector.get(ud,[]);[...this._bootstrapListeners,...r].forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Mc(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new T(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Mc(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function KD(n,t,e){!t&&!pu(n)||YD(n,e,t)}function pu(n){return Ru(n)}function YD(n,t,e){let r;e?(r=0,n[N]|=1024):n[N]&64?r=0:r=1,Vm(n,t,r)}var gu=class{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},dd=(()=>{class n{compileModuleSync(e){return new ru(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),i=Cg(e),o=vm(i.declarations).reduce((s,a)=>{let l=Nn(a);return l&&s.push(new Fi(l)),s},[]);return new gu(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var JD=(()=>{class n{constructor(){this.zone=E(_e),this.applicationRef=E(Ji)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ZD(n){return[{provide:_e,useFactory:n},{provide:kr,multi:!0,useFactory:()=>{let t=E(JD,{optional:!0});return()=>t.initialize()}},{provide:kr,multi:!0,useFactory:()=>{let t=E(tS);return()=>{t.initialize()}}},{provide:om,useFactory:QD}]}function QD(){let n=E(_e),t=E(Gt);return e=>n.runOutsideAngular(()=>t.handleError(e))}function XD(n){let t=ZD(()=>new _e(eS(n)));return aa([[],t])}function eS(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var tS=(()=>{class n{constructor(){this.subscription=new we,this.initialized=!1,this.zone=E(_e),this.pendingTasks=E(Sa)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function nS(){return typeof $localize<"u"&&$localize.locale||ra}var fd=new U("",{providedIn:"root",factory:()=>E(fd,B.Optional|B.SkipSelf)||nS()});var uv=new U("");var Fs=null;function rS(n=[],t){return Gr.create({name:t,providers:[{provide:la,useValue:"platform"},{provide:uv,useValue:new Set([()=>Fs=null])},...n]})}function iS(n=[]){if(Fs)return Fs;let t=rS(n);return Fs=t,zD(),oS(t),t}function oS(n){n.get(Bu,null)?.forEach(e=>e())}var Kn=(()=>{class n{static{this.__NG_ELEMENT_ID__=sS}}return n})();function sS(n){return aS(Ge(),oe(),(n&16)===16)}function aS(n,t,e){if(da(n)&&!e){let r=hn(n.index,t);return new Vn(r,r)}else if(n.type&47){let r=t[Et];return new Vn(r,t)}return null}var mu=class{constructor(){}supports(t){return Wm(t)}create(t){return new vu(t)}},lS=(n,t)=>t,vu=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||lS}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){let s=!r||e&&e.currentIndex<Qp(r,i,o)?e:r,a=Qp(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let m=0;m<c;m++){let f=m<o.length?o[m]:o[m]=0,y=f+m;u<=y&&y<c&&(o[m]=f+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!Wm(t))throw new T(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),r=!0):(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else i=0,eD(t,a=>{s=this._trackByFn(i,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,i),r=!0):(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new yu(e,r),o,i)),t}_verifyReinsertion(t,e,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){let i=e===null?this._itHead:e._next;return t._next=i,t._prev=e,i===null?this._itTail=t:i._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new ia),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,r=t._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ia),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},yu=class{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},_u=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let e=t._prevDup,r=t._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},ia=class{constructor(){this.map=new Map}put(t){let e=t.trackById,r=this.map.get(e);r||(r=new _u,this.map.set(e,r)),r.add(t)}get(t,e){let r=t,i=this.map.get(r);return i?i.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Qp(n,t,e){let r=n.previousIndex;if(r===null)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}function Xp(){return new hd([new mu])}var hd=(()=>{class n{static{this.\u0275prov=P({token:n,providedIn:"root",factory:Xp})}constructor(e){this.factories=e}static create(e,r){if(r!=null){let i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||Xp()),deps:[[n,new fg,new Cu]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r!=null)return r;throw new T(901,!1)}}return n})();function dv(n){try{let{rootComponent:t,appProviders:e,platformProviders:r}=n,i=iS(r),o=[XD(),...e||[]],a=new ea({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(_e);return l.run(()=>{a.resolveInjectorInitializers();let c=a.get(Gt,null),u;l.runOutsideAngular(()=>{u=l.onError.subscribe({next:f=>{c.handleError(f)}})});let d=()=>a.destroy(),m=i.get(uv);return m.add(d),a.onDestroy(()=>{u.unsubscribe(),m.delete(d)}),WD(c,l,()=>{let f=a.get(cv);return f.runInitializers(),f.donePromise.then(()=>{let y=a.get(fd,ra);LD(y||ra);let _=a.get(Ji);return t!==void 0&&_.bootstrap(t),_})})})}catch(t){return Promise.reject(t)}}function gn(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function pd(n,t){Gi("NgSignals");let e=wh(n);return t?.equal&&(e[Mt].equal=t.equal),e}var mv=null;function Qt(){return mv}function vv(n){mv??=n}var xa=class{};var ut=new U(""),yv=(()=>{class n{historyGo(e){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=P({token:n,factory:()=>E(cS),providedIn:"platform"})}}return n})();var cS=(()=>{class n extends yv{constructor(){super(),this._doc=E(ut),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Qt().getBaseHref(this._doc)}onPopState(e){let r=Qt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=Qt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=P({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function _v(n,t){if(n.length==0)return t;if(t.length==0)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,e==2?n+t.substring(1):e==1?n+t:n+"/"+t}function fv(n){let t=n.match(/#|\?|$/),e=t&&t.index||n.length,r=e-(n[e-1]==="/"?1:0);return n.slice(0,r)+n.slice(e)}function Yn(n){return n&&n[0]!=="?"?"?"+n:n}var Kr=(()=>{class n{historyGo(e){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=P({token:n,factory:()=>E(wv),providedIn:"root"})}}return n})(),uS=new U(""),wv=(()=>{class n extends Kr{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??E(ut).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return _v(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+Yn(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+Yn(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+Yn(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(r){return new(r||n)(Q(yv),Q(uS,8))}}static{this.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Zi=(()=>{class n{constructor(e){this._subject=new Pe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=hS(fv(hv(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Yn(r))}normalize(e){return n.stripTrailingSlash(fS(this._basePath,hv(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Yn(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Yn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}static{this.normalizeQueryParams=Yn}static{this.joinWithSlash=_v}static{this.stripTrailingSlash=fv}static{this.\u0275fac=function(r){return new(r||n)(Q(Kr))}}static{this.\u0275prov=P({token:n,factory:()=>dS(),providedIn:"root"})}}return n})();function dS(){return new Zi(Q(Kr))}function fS(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function hv(n){return n.replace(/\/index.html$/,"")}function hS(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}function bv(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let r=e.indexOf("="),[i,o]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var gd=class{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ta=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;if(!this._differ&&e)if(0)try{}catch{}else this._differ=this._differs.find(e).create(this.ngForTrackBy)}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new gd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),pv(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);pv(o,i)})}static ngTemplateContextGuard(e,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(z(Wr),z(Ea),z(hd))}}static{this.\u0275dir=Me({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function pv(n,t){n.context.$implicit=t.item}var Ft=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new md,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){gv("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){gv("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(z(Wr),z(Ea))}}static{this.\u0275dir=Me({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),md=class{constructor(){this.$implicit=null,this.ngIf=null}};function gv(n,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Ue(t)}'.`)}var it=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Hn({type:n})}static{this.\u0275inj=Bn({})}}return n})(),Cv="browser",pS="server";function yd(n){return n===pS}var Ma=class{};var bd=class extends xa{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Cd=class n extends bd{static makeCurrent(){vv(new n)}onAndCancel(t,e,r){return t.addEventListener(e,r),()=>{t.removeEventListener(e,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=gS();return e==null?null:mS(e)}resetBaseElement(){Qi=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return bv(document.cookie,t)}},Qi=null;function gS(){return Qi=Qi||document.querySelector("base"),Qi?Qi.getAttribute("href"):null}function mS(n){return new URL(n,document.baseURI).pathname}var vS=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=P({token:n,factory:n.\u0275fac})}}return n})(),Ed=new U(""),Iv=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new T(5101,!1);return this._eventNameToPlugin.set(e,r),r}static{this.\u0275fac=function(r){return new(r||n)(Q(Ed),Q(_e))}}static{this.\u0275prov=P({token:n,factory:n.\u0275fac})}}return n})(),Aa=class{constructor(t){this._doc=t}},_d="ng-app-id",xv=(()=>{class n{constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yd(o),this.resetHostNodes()}addStyles(e){for(let r of e)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(e){for(let r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){let r=this.styleRef;r.get(e)?.elements?.forEach(i=>i.remove()),r.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${_d}="${this.appId}"]`);if(e?.length){let r=new Map;return e.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(e,r){let i=this.styleRef;if(i.has(e)){let o=i.get(e);return o.usage+=r,o.usage}return i.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===e)return i.delete(r),o.removeAttribute(_d),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(_d,this.appId),e.appendChild(s),s}}addStyleToHost(e,r){let i=this.getStyleElement(e,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(Q(ut),Q(Uu),Q(Hu,8),Q(zr))}}static{this.\u0275prov=P({token:n,factory:n.\u0275fac})}}return n})(),wd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Sd=/%COMP%/g,Mv="%COMP%",yS=`_nghost-${Mv}`,_S=`_ngcontent-${Mv}`,wS=!0,bS=new U("",{providedIn:"root",factory:()=>wS});function CS(n){return _S.replace(Sd,n)}function ES(n){return yS.replace(Sd,n)}function Tv(n,t){return t.map(e=>e.replace(Sd,n))}var Ev=(()=>{class n{constructor(e,r,i,o,s,a,l,c=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=yd(a),this.defaultRenderer=new Xi(e,s,l,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Pt.ShadowDom&&(r=re(x({},r),{encapsulation:Pt.Emulated}));let i=this.getOrCreateRenderer(e,r);return i instanceof Oa?i.applyToHost(e):i instanceof eo&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Pt.Emulated:o=new Oa(l,c,r,this.appId,u,s,a,d);break;case Pt.ShadowDom:return new Dd(l,c,e,r,s,a,this.nonce,d);default:o=new eo(l,c,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(Q(Iv),Q(xv),Q(Uu),Q(bS),Q(ut),Q(zr),Q(_e),Q(Hu))}}static{this.\u0275prov=P({token:n,factory:n.\u0275fac})}}return n})(),Xi=class{constructor(t,e,r,i){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(wd[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Dv(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(Dv(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new T(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;let o=wd[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){let i=wd[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(zt.DashCase|zt.Important)?t.style.setProperty(e,r,i&zt.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&zt.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t!=null&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r){if(typeof t=="string"&&(t=Qt().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(r))}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function Dv(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Dd=class extends Xi{constructor(t,e,r,i,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=Tv(i.id,i.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},eo=class extends Xi{constructor(t,e,r,i,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.styles=l?Tv(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Oa=class extends eo{constructor(t,e,r,i,o,s,a,l){let c=i+"-"+r.id;super(t,e,r,o,s,a,l,c),this.contentAttr=CS(c),this.hostAttr=ES(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}},DS=(()=>{class n extends Aa{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(Q(ut))}}static{this.\u0275prov=P({token:n,factory:n.\u0275fac})}}return n})(),Sv=["alt","control","meta","shift"],SS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},IS={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},xS=(()=>{class n extends Aa{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Qt().onAndCancel(e,o.domEventName,s))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Sv.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(e,r){let i=SS[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Sv.forEach(s=>{if(s!==i){let a=IS[s];a(e)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{n.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(r){return new(r||n)(Q(ut))}}static{this.\u0275prov=P({token:n,factory:n.\u0275fac})}}return n})();function Av(n,t){return dv(x({rootComponent:n},MS(t)))}function MS(n){return{appProviders:[...PS,...n?.providers??[]],platformProviders:RS}}function TS(){Cd.makeCurrent()}function AS(){return new Gt}function OS(){return fm(document),document}var RS=[{provide:zr,useValue:Cv},{provide:Bu,useValue:TS,multi:!0},{provide:ut,useFactory:OS,deps:[]}];var PS=[{provide:la,useValue:"root"},{provide:Gt,useFactory:AS,deps:[]},{provide:Ed,useClass:DS,multi:!0,deps:[ut,_e,zr]},{provide:Ed,useClass:xS,multi:!0,deps:[ut]},Ev,xv,Iv,{provide:ki,useExisting:Ev},{provide:Ma,useClass:vS,deps:[]},[]];var Ov=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(r){return new(r||n)(Q(ut))}}static{this.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var $="primary",mo=Symbol("RouteTitle"),Ad=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function ei(n){return new Ad(n)}function kS(n,t,e){let r=e.path.split("/");if(r.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function FS(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Lt(n[e],t[e]))return!1;return!0}function Lt(n,t){let e=n?Od(n):void 0,r=t?Od(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!Lv(n[i],t[i]))return!1;return!0}function Od(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Lv(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}else return n===t}function jv(n){return n.length>0?n[n.length-1]:null}function _n(n){return oc(n)?n:Wn(n)?me(Promise.resolve(n)):j(n)}var LS={exact:$v,subset:Uv},Vv={exact:jS,subset:VS,ignored:()=>!0};function Rv(n,t,e){return LS[e.paths](n.root,t.root,e.matrixParams)&&Vv[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function jS(n,t){return Lt(n,t)}function $v(n,t,e){if(!Zn(n.segments,t.segments)||!Na(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!n.children[r]||!$v(n.children[r],t.children[r],e))return!1;return!0}function VS(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Lv(n[e],t[e]))}function Uv(n,t,e){return Bv(n,t,t.segments,e)}function Bv(n,t,e,r){if(n.segments.length>e.length){let i=n.segments.slice(0,e.length);return!(!Zn(i,e)||t.hasChildren()||!Na(i,e,r))}else if(n.segments.length===e.length){if(!Zn(n.segments,e)||!Na(n.segments,e,r))return!1;for(let i in t.children)if(!n.children[i]||!Uv(n.children[i],t.children[i],r))return!1;return!0}else{let i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!Zn(n.segments,i)||!Na(n.segments,i,r)||!n.children[$]?!1:Bv(n.children[$],t,o,r)}}function Na(n,t,e){return t.every((r,i)=>Vv[e](n[i].parameters,r.parameters))}var mn=class{constructor(t=new se([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ei(this.queryParams),this._queryParamMap}toString(){return BS.serialize(this)}},se=class{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ka(this)}},Jn=class{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=ei(this.parameters),this._parameterMap}toString(){return Gv(this)}};function $S(n,t){return Zn(n,t)&&n.every((e,r)=>Lt(e.parameters,t[r].parameters))}function Zn(n,t){return n.length!==t.length?!1:n.every((e,r)=>e.path===t[r].path)}function US(n,t){let e=[];return Object.entries(n.children).forEach(([r,i])=>{r===$&&(e=e.concat(t(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==$&&(e=e.concat(t(i,r)))}),e}var rf=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=P({token:n,factory:()=>new La,providedIn:"root"})}}return n})(),La=class{parse(t){let e=new Pd(t);return new mn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${to(t.root,!0)}`,r=zS(t.queryParams),i=typeof t.fragment=="string"?`#${HS(t.fragment)}`:"";return`${e}${r}${i}`}},BS=new La;function ka(n){return n.segments.map(t=>Gv(t)).join("/")}function to(n,t){if(!n.hasChildren())return ka(n);if(t){let e=n.children[$]?to(n.children[$],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==$&&r.push(`${i}:${to(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=US(n,(r,i)=>i===$?[to(n.children[$],!1)]:[`${i}:${to(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[$]!=null?`${ka(n)}/${e[0]}`:`${ka(n)}/(${e.join("//")})`}}function Hv(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ra(n){return Hv(n).replace(/%3B/gi,";")}function HS(n){return encodeURI(n)}function Rd(n){return Hv(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fa(n){return decodeURIComponent(n)}function Pv(n){return Fa(n.replace(/\+/g,"%20"))}function Gv(n){return`${Rd(n.path)}${GS(n.parameters)}`}function GS(n){return Object.entries(n).map(([t,e])=>`;${Rd(t)}=${Rd(e)}`).join("")}function zS(n){let t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(i=>`${Ra(e)}=${Ra(i)}`).join("&"):`${Ra(e)}=${Ra(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var qS=/^[^\/()?;#]+/;function Id(n){let t=n.match(qS);return t?t[0]:""}var WS=/^[^\/()?;=#]+/;function KS(n){let t=n.match(WS);return t?t[0]:""}var YS=/^[^=?&#]+/;function JS(n){let t=n.match(YS);return t?t[0]:""}var ZS=/^[^&#]+/;function QS(n){let t=n.match(ZS);return t?t[0]:""}var Pd=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new se([],{}):new se([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[$]=new se(t,e)),r}parseSegment(){let t=Id(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(t),new Jn(Fa(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=KS(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=Id(this.remaining);i&&(r=i,this.capture(r))}t[Fa(e)]=Fa(r)}parseQueryParam(t){let e=JS(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let s=QS(this.remaining);s&&(r=s,this.capture(r))}let i=Pv(e),o=Pv(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Id(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new T(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=$);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[$]:new se([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new T(4011,!1)}};function zv(n){return n.segments.length>0?new se([],{[$]:n}):n}function qv(n){let t={};for(let[r,i]of Object.entries(n.children)){let o=qv(i);if(r===$&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let e=new se(n.segments,t);return XS(e)}function XS(n){if(n.numberOfChildren===1&&n.children[$]){let t=n.children[$];return new se(n.segments.concat(t.segments),t.children)}return n}function ti(n){return n instanceof mn}function eI(n,t,e=null,r=null){let i=Wv(n);return Kv(i,t,e,r)}function Wv(n){let t;function e(o){let s={};for(let l of o.children){let c=e(l);s[l.outlet]=c}let a=new se(o.url,s);return o===n&&(t=a),a}let r=e(n.root),i=zv(r);return t??i}function Kv(n,t,e,r){let i=n;for(;i.parent;)i=i.parent;if(t.length===0)return xd(i,i,i,e,r);let o=tI(t);if(o.toRoot())return xd(i,i,new se([],{}),e,r);let s=nI(o,i,n),a=s.processChildren?io(s.segmentGroup,s.index,o.commands):Jv(s.segmentGroup,s.index,o.commands);return xd(i,s.segmentGroup,a,e,r)}function ja(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ao(n){return typeof n=="object"&&n!=null&&n.outlets}function xd(n,t,e,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;n===t?s=e:s=Yv(n,t,e);let a=zv(qv(s));return new mn(a,o,i)}function Yv(n,t,e){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===t?r[i]=e:r[i]=Yv(o,t,e)}),new se(n.segments,r)}var Va=class{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&ja(r[0]))throw new T(4003,!1);let i=r.find(ao);if(i&&i!==jv(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function tI(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Va(!0,0,n);let t=0,e=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Va(e,t,r)}var Qr=class{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}};function nI(n,t,e){if(n.isAbsolute)return new Qr(t,!0,0);if(!e)return new Qr(t,!1,NaN);if(e.parent===null)return new Qr(e,!0,0);let r=ja(n.commands[0])?0:1,i=e.segments.length-1+r;return rI(e,i,n.numberOfDoubleDots)}function rI(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new Qr(r,!1,i-o)}function iI(n){return ao(n[0])?n[0].outlets:{[$]:n}}function Jv(n,t,e){if(n??=new se([],{}),n.segments.length===0&&n.hasChildren())return io(n,t,e);let r=oI(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new se(n.segments.slice(0,r.pathIndex),{});return o.children[$]=new se(n.segments.slice(r.pathIndex),n.children),io(o,0,i)}else return r.match&&i.length===0?new se(n.segments,{}):r.match&&!n.hasChildren()?Nd(n,t,e):r.match?io(n,0,i):Nd(n,t,e)}function io(n,t,e){if(e.length===0)return new se(n.segments,{});{let r=iI(e),i={};if(Object.keys(r).some(o=>o!==$)&&n.children[$]&&n.numberOfChildren===1&&n.children[$].segments.length===0){let o=io(n.children[$],t,e);return new se(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Jv(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new se(n.segments,i)}}function oI(n,t,e){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;let s=n.segments[i],a=e[r];if(ao(a))break;let l=`${a}`,c=r<e.length-1?e[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!kv(l,c,s))return o;r+=2}else{if(!kv(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Nd(n,t,e){let r=n.segments.slice(0,t),i=0;for(;i<e.length;){let o=e[i];if(ao(o)){let l=sI(o.outlets);return new se(r,l)}if(i===0&&ja(e[0])){let l=n.segments[t];r.push(new Jn(l.path,Nv(e[0]))),i++;continue}let s=ao(o)?o.outlets[$]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&ja(a)?(r.push(new Jn(s,Nv(a))),i+=2):(r.push(new Jn(s,{})),i++)}return new se(r,{})}function sI(n){let t={};return Object.entries(n).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[e]=Nd(new se([],{}),0,r))}),t}function Nv(n){let t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function kv(n,t,e){return n==e.path&&Lt(t,e.parameters)}var oo="imperative",Ae=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ae||{}),dt=class{constructor(t,e){this.id=t,this.url=e}},lo=class extends dt{constructor(t,e,r="imperative",i=null){super(t,e),this.type=Ae.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},vn=class extends dt{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=Ae.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},st=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(st||{}),kd=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(kd||{}),yn=class extends dt{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=Ae.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Qn=class extends dt{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=Ae.NavigationSkipped}},co=class extends dt{constructor(t,e,r,i){super(t,e),this.error=r,this.target=i,this.type=Ae.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},$a=class extends dt{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=Ae.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fd=class extends dt{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=Ae.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ld=class extends dt{constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Ae.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},jd=class extends dt{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=Ae.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vd=class extends dt{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=Ae.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$d=class{constructor(t){this.route=t,this.type=Ae.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ud=class{constructor(t){this.route=t,this.type=Ae.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Bd=class{constructor(t){this.snapshot=t,this.type=Ae.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hd=class{constructor(t){this.snapshot=t,this.type=Ae.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gd=class{constructor(t){this.snapshot=t,this.type=Ae.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zd=class{constructor(t){this.snapshot=t,this.type=Ae.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var uo=class{},fo=class{constructor(t){this.url=t}};var qd=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new qa,this.attachRef=null}},qa=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new qd,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ua=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Wd(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){let e=Wd(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=Kd(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Kd(t,this._root).map(e=>e.value)}};function Wd(n,t){if(n===t.value)return t;for(let e of t.children){let r=Wd(n,e);if(r)return r}return null}function Kd(n,t){if(n===t.value)return[t];for(let e of t.children){let r=Kd(n,e);if(r.length)return r.unshift(t),r}return[]}var ot=class{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Zr(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var Ba=class extends Ua{constructor(t,e){super(t),this.snapshot=e,sf(this,t)}toString(){return this.snapshot.toString()}};function Zv(n){let t=aI(n),e=new Ie([new Jn("",{})]),r=new Ie({}),i=new Ie({}),o=new Ie({}),s=new Ie(""),a=new It(e,r,o,s,i,$,n,t.root);return a.snapshot=t.root,new Ba(new ot(a,[]),t)}function aI(n){let t={},e={},r={},i="",o=new ho([],t,r,i,e,$,n,null,{});return new Ha("",new ot(o,[]))}var It=class{constructor(t,e,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(K(c=>c[mo]))??j(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(K(t=>ei(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(K(t=>ei(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function of(n,t,e="emptyOnly"){let r,{routeConfig:i}=n;return t!==null&&(e==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:x(x({},t.params),n.params),data:x(x({},t.data),n.data),resolve:x(x(x(x({},n.data),t.data),i?.data),n._resolvedData)}:r={params:x({},n.params),data:x({},n.data),resolve:x(x({},n.data),n._resolvedData??{})},i&&Xv(i)&&(r.resolve[mo]=i.title),r}var ho=class{get title(){return this.data?.[mo]}constructor(t,e,r,i,o,s,a,l,c){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ei(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ei(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Ha=class extends Ua{constructor(t,e){super(e),this.url=t,sf(this,e)}toString(){return Qv(this._root)}};function sf(n,t){t.value._routerState=n,t.children.forEach(e=>sf(n,e))}function Qv(n){let t=n.children.length>0?` { ${n.children.map(Qv).join(", ")} } `:"";return`${n.value}${t}`}function Md(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Lt(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Lt(t.params,e.params)||n.paramsSubject.next(e.params),FS(t.url,e.url)||n.urlSubject.next(e.url),Lt(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Yd(n,t){let e=Lt(n.params,t.params)&&$S(n.url,t.url),r=!n.parent!=!t.parent;return e&&!r&&(!n.parent||Yd(n.parent,t.parent))}function Xv(n){return typeof n.title=="string"||n.title===null}var af=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=$,this.activateEvents=new Pe,this.deactivateEvents=new Pe,this.attachEvents=new Pe,this.detachEvents=new Pe,this.parentContexts=E(qa),this.location=E(Wr),this.changeDetector=E(Kn),this.environmentInjector=E(lt),this.inputBinder=E(lf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=e;let i=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Jd(e,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Me({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[fn]})}}return n})(),Jd=class n{__ngOutletInjector(t){return new n(this.route,this.childContexts,t)}constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===It?this.route:t===qa?this.childContexts:this.parent.get(t,e)}},lf=new U("");function lI(n,t,e){let r=po(n,t._root,e?e._root:void 0);return new Ba(r,t)}function po(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=t.value;let i=cI(n,t,e);return new ot(r,i)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>po(n,a)),s}}let r=uI(t.value),i=t.children.map(o=>po(n,o));return new ot(r,i)}}function cI(n,t,e){return t.children.map(r=>{for(let i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return po(n,r,i);return po(n,r)})}function uI(n){return new It(new Ie(n.url),new Ie(n.params),new Ie(n.queryParams),new Ie(n.fragment),new Ie(n.data),n.outlet,n.component,n)}var ey="ngNavigationCancelingError";function ty(n,t){let{redirectTo:e,navigationBehaviorOptions:r}=ti(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=ny(!1,st.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function ny(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[ey]=!0,e.cancellationCode=t,e}function dI(n){return ry(n)&&ti(n.url)}function ry(n){return!!n&&n[ey]}var fI=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ke({type:n,selectors:[["ng-component"]],standalone:!0,features:[Le],decls:1,vars:0,template:function(r,i){r&1&&ge(0,"router-outlet")},dependencies:[af],encapsulation:2})}}return n})();function hI(n,t){return n.providers&&!n._injector&&(n._injector=ad(n.providers,t,`Route: ${n.path}`)),n._injector??t}function cf(n){let t=n.children&&n.children.map(cf),e=t?re(x({},n),{children:t}):x({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==$&&(e.component=fI),e}function jt(n){return n.outlet||$}function pI(n,t){let e=n.filter(r=>jt(r)===t);return e.push(...n.filter(r=>jt(r)!==t)),e}function vo(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var gI=(n,t,e,r)=>K(i=>(new Zd(t,i.targetRouterState,i.currentRouterState,e,r).activate(n),i)),Zd=class{constructor(t,e,r,i,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Md(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){let i=Zr(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){let i=t.value,o=e?e.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=Zr(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=Zr(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){let i=Zr(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new zd(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Hd(t.value.snapshot))}activateRoutes(t,e,r){let i=t.value,o=e?e.value:null;if(Md(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Md(a.route.value),this.activateChildRoutes(t,null,s.children)}else{let a=vo(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}},Ga=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Xr=class{constructor(t,e){this.component=t,this.route=e}};function mI(n,t,e){let r=n._root,i=t?t._root:null;return no(r,i,e,[r.value])}function vI(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function ri(n,t){let e=Symbol(),r=t.get(n,e);return r===e?typeof n=="function"&&!og(n)?n:t.get(n):r}function no(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Zr(t);return n.children.forEach(s=>{yI(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>so(a,e.getContext(s),i)),i}function yI(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=_I(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Ga(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?no(n,t,a?a.children:null,r,i):no(n,t,e,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Xr(a.outlet.component,s))}else s&&so(t,a,i),i.canActivateChecks.push(new Ga(r)),o.component?no(n,null,a?a.children:null,r,i):no(n,null,e,r,i);return i}function _I(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!Zn(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Zn(n.url,t.url)||!Lt(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yd(n,t)||!Lt(n.queryParams,t.queryParams);case"paramsChange":default:return!Yd(n,t)}}function so(n,t,e){let r=Zr(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?t?so(s,t.children.getContext(o),e):so(s,null,e):so(s,t,e)}),i.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Xr(t.outlet.component,i)):e.canDeactivateChecks.push(new Xr(null,i)):e.canDeactivateChecks.push(new Xr(null,i))}function yo(n){return typeof n=="function"}function wI(n){return typeof n=="boolean"}function bI(n){return n&&yo(n.canLoad)}function CI(n){return n&&yo(n.canActivate)}function EI(n){return n&&yo(n.canActivateChild)}function DI(n){return n&&yo(n.canDeactivate)}function SI(n){return n&&yo(n.canMatch)}function iy(n){return n instanceof Bt||n?.name==="EmptyError"}var Pa=Symbol("INITIAL_VALUE");function ni(){return yt(n=>Ss(n.map(t=>t.pipe(Ht(1),dc(Pa)))).pipe(K(t=>{for(let e of t)if(e!==!0){if(e===Pa)return Pa;if(e===!1||e instanceof mn)return e}return!0}),vt(t=>t!==Pa),Ht(1)))}function II(n,t){return be(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?j(re(x({},e),{guardsResult:!0})):xI(s,r,i,n).pipe(be(a=>a&&wI(a)?MI(r,o,n,t):j(a)),K(a=>re(x({},e),{guardsResult:a})))})}function xI(n,t,e,r){return me(n).pipe(be(i=>PI(i.component,i.route,e,t,r)),At(i=>i!==!0,!0))}function MI(n,t,e,r){return me(t).pipe(Sr(i=>Dr(AI(i.route.parent,r),TI(i.route,r),RI(n,i.path,e),OI(n,i.route,e))),At(i=>i!==!0,!0))}function TI(n,t){return n!==null&&t&&t(new Gd(n)),j(!0)}function AI(n,t){return n!==null&&t&&t(new Bd(n)),j(!0)}function OI(n,t,e){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return j(!0);let i=r.map(o=>Is(()=>{let s=vo(t)??e,a=ri(o,s),l=CI(a)?a.canActivate(t,n):Gn(s,()=>a(t,n));return _n(l).pipe(At())}));return j(i).pipe(ni())}function RI(n,t,e){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>vI(s)).filter(s=>s!==null).map(s=>Is(()=>{let a=s.guards.map(l=>{let c=vo(s.node)??e,u=ri(l,c),d=EI(u)?u.canActivateChild(r,n):Gn(c,()=>u(r,n));return _n(d).pipe(At())});return j(a).pipe(ni())}));return j(o).pipe(ni())}function PI(n,t,e,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return j(!0);let s=o.map(a=>{let l=vo(t)??i,c=ri(a,l),u=DI(c)?c.canDeactivate(n,t,e,r):Gn(l,()=>c(n,t,e,r));return _n(u).pipe(At())});return j(s).pipe(ni())}function NI(n,t,e,r){let i=t.canLoad;if(i===void 0||i.length===0)return j(!0);let o=i.map(s=>{let a=ri(s,n),l=bI(a)?a.canLoad(t,e):Gn(n,()=>a(t,e));return _n(l)});return j(o).pipe(ni(),oy(r))}function oy(n){return Ql(xe(t=>{if(ti(t))throw ty(n,t)}),K(t=>t===!0))}function kI(n,t,e,r){let i=t.canMatch;if(!i||i.length===0)return j(!0);let o=i.map(s=>{let a=ri(s,n),l=SI(a)?a.canMatch(t,e):Gn(n,()=>a(t,e));return _n(l)});return j(o).pipe(ni(),oy(r))}var go=class{constructor(t){this.segmentGroup=t||null}},za=class extends Error{constructor(t){super(),this.urlTree=t}};function Jr(n){return Er(new go(n))}function FI(n){return Er(new T(4e3,!1))}function LI(n){return Er(ny(!1,st.GuardRejected))}var Qd=class{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return j(r);if(i.numberOfChildren>1||!i.children[$])return FI(t.redirectTo);i=i.children[$]}}applyRedirectCommands(t,e,r){let i=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r);if(e.startsWith("/"))throw new za(i);return i}applyRedirectCreateUrlTree(t,e,r,i){let o=this.createSegmentGroup(t,e.root,r,i);return new mn(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(t,e,r,i){let o=this.createSegments(t,e.segments,r,i),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new se(o,s)}createSegments(t,e,r,i){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){let i=r[e.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(t,e){let r=0;for(let i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}},Xd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jI(n,t,e,r,i){let o=uf(n,t,e);return o.matched?(r=hI(t,r),kI(r,t,e,i).pipe(K(s=>s===!0?o:x({},Xd)))):j(o)}function uf(n,t,e){if(t.path==="**")return VI(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?x({},Xd):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(t.matcher||kS)(e,n,t);if(!i)return x({},Xd);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?x(x({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function VI(n){return{matched:!0,parameters:n.length>0?jv(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Fv(n,t,e,r){return e.length>0&&BI(n,e,r)?{segmentGroup:new se(t,UI(r,new se(e,n.children))),slicedSegments:[]}:e.length===0&&HI(n,e,r)?{segmentGroup:new se(n.segments,$I(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new se(n.segments,n.children),slicedSegments:e}}function $I(n,t,e,r){let i={};for(let o of e)if(Wa(n,t,o)&&!r[jt(o)]){let s=new se([],{});i[jt(o)]=s}return x(x({},r),i)}function UI(n,t){let e={};e[$]=t;for(let r of n)if(r.path===""&&jt(r)!==$){let i=new se([],{});e[jt(r)]=i}return e}function BI(n,t,e){return e.some(r=>Wa(n,t,r)&&jt(r)!==$)}function HI(n,t,e){return e.some(r=>Wa(n,t,r))}function Wa(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function GI(n,t,e,r){return jt(n)!==r&&(r===$||!Wa(t,e,n))?!1:uf(t,n,e).matched}function zI(n,t,e){return t.length===0&&!n.children[e]}var ef=class{};function qI(n,t,e,r,i,o,s="emptyOnly"){return new tf(n,t,e,r,i,s,o).recognize()}var WI=31,tf=class{constructor(t,e,r,i,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Qd(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new T(4002,`'${t.segmentGroup}'`)}recognize(){let t=Fv(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(K(e=>{let r=new ho([],Object.freeze({}),Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,{},$,this.rootComponentType,null,{}),i=new ot(r,e),o=new Ha("",i),s=eI(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,$).pipe(on(r=>{if(r instanceof za)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof go?this.noMatchError(r):r}))}inheritParamsAndData(t,e){let r=t.value,i=of(r,e,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),t.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(t,e,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,i,!0).pipe(K(o=>o instanceof ot?[o]:[]))}processChildren(t,e,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return me(i).pipe(Sr(o=>{let s=r.children[o],a=pI(e,o);return this.processSegmentGroup(t,a,s,o)}),uc((o,s)=>(o.push(...s),o)),sn(null),cc(),be(o=>{if(o===null)return Jr(r);let s=sy(o);return KI(s),j(s)}))}processSegment(t,e,r,i,o,s){return me(e).pipe(Sr(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,r,i,o,s).pipe(on(l=>{if(l instanceof go)return j(null);throw l}))),At(a=>!!a),on(a=>{if(iy(a))return zI(r,i,o)?j(new ef):Jr(r);throw a}))}processSegmentAgainstRoute(t,e,r,i,o,s,a){return GI(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,r,o,s):Jr(i):Jr(i)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=uf(e,i,o);if(!a)return Jr(e);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>WI&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,d).pipe(be(m=>this.processSegment(t,r,e,m.concat(u),s,!1)))}matchSegmentAgainstRoute(t,e,r,i,o){let s=jI(e,r,i,t,this.urlSerializer);return r.path==="**"&&(e.children={}),s.pipe(yt(a=>a.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(yt(({routes:l})=>{let c=r._loadedInjector??t,{consumedSegments:u,remainingSegments:d,parameters:m}=a,f=new ho(u,m,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,JI(r),jt(r),r.component??r._loadedComponent??null,r,ZI(r)),{segmentGroup:y,slicedSegments:_}=Fv(e,u,d,l);if(_.length===0&&y.hasChildren())return this.processChildren(c,l,y).pipe(K(C=>C===null?null:new ot(f,C)));if(l.length===0&&_.length===0)return j(new ot(f,[]));let b=jt(r)===o;return this.processSegment(c,l,y,_,b?$:o,!0).pipe(K(C=>new ot(f,C instanceof ot?[C]:[])))}))):Jr(e)))}getChildConfig(t,e,r){return e.children?j({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?j({routes:e._loadedRoutes,injector:e._loadedInjector}):NI(t,e,r,this.urlSerializer).pipe(be(i=>i?this.configLoader.loadChildren(t,e).pipe(xe(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):LI(e))):j({routes:[],injector:t})}};function KI(n){n.sort((t,e)=>t.value.outlet===$?-1:e.value.outlet===$?1:t.value.outlet.localeCompare(e.value.outlet))}function YI(n){let t=n.value.routeConfig;return t&&t.path===""}function sy(n){let t=[],e=new Set;for(let r of n){if(!YI(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):t.push(r)}for(let r of e){let i=sy(r.children);t.push(new ot(r.value,i))}return t.filter(r=>!e.has(r))}function JI(n){return n.data||{}}function ZI(n){return n.resolve||{}}function QI(n,t,e,r,i,o){return be(s=>qI(n,t,e,r,s.extractedUrl,i,o).pipe(K(({state:a,tree:l})=>re(x({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function XI(n,t){return be(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return j(e);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of ay(l))s.add(c);let a=0;return me(s).pipe(Sr(l=>o.has(l)?ex(l,r,n,t):(l.data=of(l,l.parent,n).resolve,j(void 0))),xe(()=>a++),Ir(1),be(l=>a===s.size?j(e):nt))})}function ay(n){let t=n.children.map(e=>ay(e)).flat();return[n,...t]}function ex(n,t,e,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!Xv(i)&&(o[mo]=i.title),tx(o,n,t,r).pipe(K(s=>(n._resolvedData=s,n.data=of(n,n.parent,e).resolve,null)))}function tx(n,t,e,r){let i=Od(n);if(i.length===0)return j({});let o={};return me(i).pipe(be(s=>nx(n[s],t,e,r).pipe(At(),xe(a=>{o[s]=a}))),Ir(1),lc(o),on(s=>iy(s)?nt:Er(s)))}function nx(n,t,e,r){let i=vo(t)??r,o=ri(n,i),s=o.resolve?o.resolve(t,e):Gn(i,()=>o(t,e));return _n(s)}function Td(n){return yt(t=>{let e=n(t);return e?me(e).pipe(K(()=>t)):j(t)})}var ly=(()=>{class n{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===$);return r}getResolvedTitleForRoute(e){return e.data[mo]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=P({token:n,factory:()=>E(rx),providedIn:"root"})}}return n})(),rx=(()=>{class n extends ly{constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(Q(Ov))}}static{this.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),df=new U("",{providedIn:"root",factory:()=>({})}),ff=new U(""),ix=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=E(dd)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return j(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=_n(e.loadComponent()).pipe(K(cy),xe(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Di(()=>{this.componentLoaders.delete(e)})),i=new Cr(r,()=>new Re).pipe(br());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return j({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=ox(r,this.compiler,e,this.onLoadEndListener).pipe(Di(()=>{this.childrenLoaders.delete(r)})),s=new Cr(o,()=>new Re).pipe(br());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ox(n,t,e,r){return _n(n.loadChildren()).pipe(K(cy),be(i=>i instanceof Li||Array.isArray(i)?j(i):me(t.compileModuleAsync(i))),K(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(e).injector,s=o.get(ff,[],{optional:!0,self:!0}).flat()),{routes:s.map(cf),injector:o}}))}function sx(n){return n&&typeof n=="object"&&"default"in n}function cy(n){return sx(n)?n.default:n}var hf=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=P({token:n,factory:()=>E(ax),providedIn:"root"})}}return n})(),ax=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),lx=new U("");var cx=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Re,this.transitionAbortSubject=new Re,this.configLoader=E(ix),this.environmentInjector=E(lt),this.urlSerializer=E(rf),this.rootContexts=E(qa),this.location=E(Zi),this.inputBindingEnabled=E(lf,{optional:!0})!==null,this.titleStrategy=E(ly),this.options=E(df,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=E(hf),this.createViewTransition=E(lx,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>j(void 0),this.rootComponentType=null;let e=i=>this.events.next(new $d(i)),r=i=>this.events.next(new Ud(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(re(x(x({},this.transitions.value),e),{id:r}))}setupNavigations(e,r,i){return this.transitions=new Ie({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:oo,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vt(o=>o.id!==0),K(o=>re(x({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),yt(o=>{let s=!1,a=!1;return j(o).pipe(yt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",st.SupersededByNewNavigation),nt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?re(x({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&u!=="reload"){let d="";return this.events.next(new Qn(l.id,this.urlSerializer.serialize(l.rawUrl),d,kd.IgnoredSameUrlNavigation)),l.resolve(null),nt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return j(l).pipe(yt(d=>{let m=this.transitions?.getValue();return this.events.next(new lo(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),m!==this.transitions?.getValue()?nt:Promise.resolve(d)}),QI(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),xe(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=re(x({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let m=new $a(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:m,source:f,restoredState:y,extras:_}=l,b=new lo(d,this.urlSerializer.serialize(m),f,y);this.events.next(b);let C=Zv(this.rootComponentType).snapshot;return this.currentTransition=o=re(x({},l),{targetSnapshot:C,urlAfterRedirects:m,extras:re(x({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,j(o)}else{let d="";return this.events.next(new Qn(l.id,this.urlSerializer.serialize(l.extractedUrl),d,kd.IgnoredByUrlHandlingStrategy)),l.resolve(null),nt}}),xe(l=>{let c=new Fd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),K(l=>(this.currentTransition=o=re(x({},l),{guards:mI(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),II(this.environmentInjector,l=>this.events.next(l)),xe(l=>{if(o.guardsResult=l.guardsResult,ti(l.guardsResult))throw ty(this.urlSerializer,l.guardsResult);let c=new Ld(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),vt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",st.GuardRejected),!1)),Td(l=>{if(l.guards.canActivateChecks.length)return j(l).pipe(xe(c=>{let u=new jd(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),yt(c=>{let u=!1;return j(c).pipe(XI(this.paramsInheritanceStrategy,this.environmentInjector),xe({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",st.NoDataFromResolver)}}))}),xe(c=>{let u=new Vd(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Td(l=>{let c=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(xe(m=>{u.component=m}),K(()=>{})));for(let m of u.children)d.push(...c(m));return d};return Ss(c(l.targetSnapshot.root)).pipe(sn(null),Ht(1))}),Td(()=>this.afterPreactivation()),yt(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?me(u).pipe(K(()=>o)):j(o)}),K(l=>{let c=lI(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=re(x({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),xe(()=>{this.events.next(new uo)}),gI(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ht(1),xe({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new vn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),fc(this.transitionAbortSubject.pipe(xe(l=>{throw l}))),Di(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",st.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),on(l=>{if(a=!0,ry(l))this.events.next(new yn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),dI(l)?this.events.next(new fo(l.url)):o.resolve(!1);else{this.events.next(new co(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(l))}catch(c){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(c)}}return nt}))}))}cancelNavigationTransition(e,r,i){let o=new yn(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ux(n){return n!==oo}var dx=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=P({token:n,factory:()=>E(fx),providedIn:"root"})}}return n})(),nf=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},fx=(()=>{class n extends nf{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Hr(n)))(i||n)}})()}static{this.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),uy=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=P({token:n,factory:()=>E(hx),providedIn:"root"})}}return n})(),hx=(()=>{class n extends uy{constructor(){super(...arguments),this.location=E(Zi),this.urlSerializer=E(rf),this.options=E(df,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=E(hf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new mn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Zv(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&e(r.url,r.state)})}handleRouterEvent(e,r){if(e instanceof lo)this.stateMemento=this.createStateMemento();else if(e instanceof Qn)this.rawUrlTree=r.initialUrl;else if(e instanceof $a){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else e instanceof uo?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):e instanceof yn&&(e.code===st.GuardRejected||e.code===st.NoDataFromResolver)?this.restoreHistory(r):e instanceof co?this.restoreHistory(r,!0):e instanceof vn&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,r){let i=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=x(x({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=x(x({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Hr(n)))(i||n)}})()}static{this.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ro=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(ro||{});function px(n,t){n.events.pipe(vt(e=>e instanceof vn||e instanceof yn||e instanceof co||e instanceof Qn),K(e=>e instanceof vn||e instanceof Qn?ro.COMPLETE:(e instanceof yn?e.code===st.Redirect||e.code===st.SupersededByNewNavigation:!1)?ro.REDIRECTING:ro.FAILED),vt(e=>e!==ro.REDIRECTING),Ht(1)).subscribe(()=>{t()})}function gx(n){throw n}var mx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},We=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=E(Ia),this.stateManager=E(uy),this.options=E(df,{optional:!0})||{},this.pendingTasks=E(Sa),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=E(cx),this.urlSerializer=E(rf),this.location=E(Zi),this.urlHandlingStrategy=E(hf),this._events=new Re,this.errorHandler=this.options.errorHandler||gx,this.navigated=!1,this.routeReuseStrategy=E(dx),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=E(ff,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!E(lf,{optional:!0}),this.eventsSubscription=new we,this.isNgZoneEnabled=E(_e)instanceof _e&&_e.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof yn&&r.code!==st.Redirect&&r.code!==st.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof vn)this.navigated=!0;else if(r instanceof fo){let s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||ux(i.source)};this.scheduleNavigation(s,oo,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}_x(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),oo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",r)},0)})}navigateToSyncWithBrowser(e,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=x({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(cf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a){case"merge":u=x(x({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let m=i?i.snapshot:this.routerState.snapshot.root;d=Wv(m)}catch{(typeof e[0]!="string"||!e[0].startsWith("/"))&&(e=[]),d=this.currentUrlTree.root}return Kv(d,e,u,c??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=ti(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,oo,null,r)}navigate(e,r={skipLocationChange:!1}){return yx(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=x({},mx):r===!1?i=x({},vx):i=r,ti(e))return Rv(this.currentUrlTree,e,i);let o=this.parseUrl(e);return Rv(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,m)=>{a=d,l=m});let u=this.pendingTasks.add();return px(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function yx(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new T(4008,!1)}function _x(n){return!(n instanceof uo)&&!(n instanceof fo)}var Ka=(()=>{class n{constructor(e,r,i,o,s,a){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Re,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof vn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){e!=null?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:gm(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(z(We),z(It),Vu("tabindex"),z(qn),z(pn),z(Kr))}}static{this.\u0275dir=Me({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&V("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&zi("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Ce.HasDecoratorInputTransform,"preserveFragment","preserveFragment",gn],skipLocationChange:[Ce.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",gn],replaceUrl:[Ce.HasDecoratorInputTransform,"replaceUrl","replaceUrl",gn],routerLink:"routerLink"},standalone:!0,features:[sd,fn]})}}return n})();var wx=new U("");function dy(n,...t){return aa([{provide:ff,multi:!0,useValue:n},[],{provide:It,useFactory:bx,deps:[We]},{provide:ud,multi:!0,useFactory:Cx},t.map(e=>e.\u0275providers)])}function bx(n){return n.routerState.root}function Cx(){let n=E(Gr);return t=>{let e=n.get(Ji);if(t!==e.components[0])return;let r=n.get(We),i=n.get(Ex);n.get(Dx)===1&&r.initialNavigation(),n.get(Sx,null,B.Optional)?.setUpPreloading(),n.get(wx,null,B.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Ex=new U("",{factory:()=>new Re}),Dx=new U("",{providedIn:"root",factory:()=>1});var Sx=new U("");var wy=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(r){return new(r||n)(z(qn),z(pn))}}static{this.\u0275dir=Me({type:n})}}return n})(),xx=(()=>{class n extends wy{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Hr(n)))(i||n)}})()}static{this.\u0275dir=Me({type:n,features:[Jt]})}}return n})(),by=new U("");var Mx={provide:by,useExisting:Un(()=>wn),multi:!0};function Tx(){let n=Qt()?Qt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Ax=new U(""),wn=(()=>{class n extends wy{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Tx())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(r){return new(r||n)(z(qn),z(pn),z(Ax,8))}}static{this.\u0275dir=Me({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&V("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Ki([Mx]),Jt]})}}return n})();function Ox(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}var gf=new U(""),Cy=new U("");function Rx(n){return Ox(n.value)?{required:!0}:null}function fy(n){return null}function Ey(n){return n!=null}function Dy(n){return Wn(n)?me(n):n}function Sy(n){let t={};return n.forEach(e=>{t=e!=null?x(x({},t),e):t}),Object.keys(t).length===0?null:t}function Iy(n,t){return t.map(e=>e(n))}function Px(n){return!n.validate}function xy(n){return n.map(t=>Px(t)?t:e=>t.validate(e))}function Nx(n){if(!n)return null;let t=n.filter(Ey);return t.length==0?null:function(e){return Sy(Iy(e,t))}}function mf(n){return n!=null?Nx(xy(n)):null}function kx(n){if(!n)return null;let t=n.filter(Ey);return t.length==0?null:function(e){let r=Iy(e,t).map(Dy);return ac(r).pipe(K(Sy))}}function vf(n){return n!=null?kx(xy(n)):null}function hy(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Fx(n){return n._rawValidators}function Lx(n){return n._rawAsyncValidators}function pf(n){return n?Array.isArray(n)?n:[n]:[]}function Ja(n,t){return Array.isArray(n)?n.includes(t):n===t}function py(n,t){let e=pf(t);return pf(n).forEach(i=>{Ja(e,i)||e.push(i)}),e}function gy(n,t){return pf(t).filter(e=>!Ja(n,e))}var Za=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=mf(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=vf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},oi=class extends Za{get formDirective(){return null}get path(){return null}},Co=class extends Za{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Qa=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},jx={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},EF=re(x({},jx),{"[class.ng-submitted]":"isSubmitted"}),si=(()=>{class n extends Qa{constructor(e){super(e)}static{this.\u0275fac=function(r){return new(r||n)(z(Co,2))}}static{this.\u0275dir=Me({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&rt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Jt]})}}return n})(),tl=(()=>{class n extends Qa{constructor(e){super(e)}static{this.\u0275fac=function(r){return new(r||n)(z(oi,10))}}static{this.\u0275dir=Me({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&rt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Jt]})}}return n})();var _o="VALID",Ya="INVALID",ii="PENDING",wo="DISABLED";function My(n){return(nl(n)?n.validators:n)||null}function Vx(n){return Array.isArray(n)?mf(n):n||null}function Ty(n,t){return(nl(t)?t.asyncValidators:n)||null}function $x(n){return Array.isArray(n)?vf(n):n||null}function nl(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Ux(n,t,e){let r=n.controls;if(!(t?Object.keys(r):r).length)throw new T(1e3,"");if(!r[e])throw new T(1001,"")}function Bx(n,t,e){n._forEachChild((r,i)=>{if(e[i]===void 0)throw new T(1002,"")})}var Xa=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===_o}get invalid(){return this.status===Ya}get pending(){return this.status==ii}get disabled(){return this.status===wo}get enabled(){return this.status!==wo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(py(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(py(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(gy(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(gy(t,this._rawAsyncValidators))}hasValidator(t){return Ja(this._rawValidators,t)}hasAsyncValidator(t){return Ja(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ii,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=wo,this.errors=null,this._forEachChild(r=>{r.disable(re(x({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(re(x({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=_o,this._forEachChild(r=>{r.enable(re(x({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(re(x({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_o||this.status===ii)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wo:_o}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ii,this._hasOwnPendingAsyncValidator=!0;let e=Dy(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Pe,this.statusChanges=new Pe}_calculateStatus(){return this._allControlsDisabled()?wo:this.errors?Ya:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ii)?ii:this._anyControlsHaveStatus(Ya)?Ya:_o}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){nl(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Vx(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=$x(this._rawAsyncValidators)}},el=class extends Xa{constructor(t,e,r){super(My(e),Ty(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Bx(this,!0,t),Object.keys(t).forEach(r=>{Ux(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var yf=new U("CallSetDisabledState",{providedIn:"root",factory:()=>_f}),_f="always";function Hx(n,t){return[...t.path,n]}function Ay(n,t,e=_f){Oy(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),zx(n,t),Wx(n,t),qx(n,t),Gx(n,t)}function my(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Gx(n,t){if(t.valueAccessor.setDisabledState){let e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function Oy(n,t){let e=Fx(n);t.validator!==null?n.setValidators(hy(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let r=Lx(n);t.asyncValidator!==null?n.setAsyncValidators(hy(r,t.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();my(t._rawValidators,i),my(t._rawAsyncValidators,i)}function zx(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Ry(n,t)})}function qx(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Ry(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function Ry(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Wx(n,t){let e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function Kx(n,t){n==null,Oy(n,t)}function Yx(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function Jx(n){return Object.getPrototypeOf(n.constructor)===xx}function Zx(n,t){n._syncPendingControls(),t.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Qx(n,t){if(!t)return null;Array.isArray(t);let e,r,i;return t.forEach(o=>{o.constructor===wn?e=o:Jx(o)?r=o:i=o}),i||r||e||null}var Xx={provide:oi,useExisting:Un(()=>Eo)},bo=Promise.resolve(),Eo=(()=>{class n extends oi{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Pe,this.form=new el({},mf(e),vf(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){bo.then(()=>{let r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Ay(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){bo.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){bo.then(()=>{let r=this._findContainer(e.path),i=new el({});Kx(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){bo.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){bo.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Zx(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(r){return new(r||n)(z(gf,10),z(Cy,10),z(yf,8))}}static{this.\u0275dir=Me({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&V("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[Ce.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ki([Xx]),Jt]})}}return n})();function vy(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function yy(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var eM=class extends Xa{constructor(t=null,e,r){super(My(e),Ty(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nl(e)&&(e.nonNullable||e.initialValueIsDefault)&&(yy(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){vy(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){vy(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){yy(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var tM={provide:Co,useExisting:Un(()=>Xn)},_y=Promise.resolve(),Xn=(()=>{class n extends Co{constructor(e,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new eM,this._registered=!1,this.name="",this.update=new Pe,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Qx(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Yx(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ay(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){_y.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,i=r!==0&&gn(r);_y.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Hx(e,this._parent):[e]}static{this.\u0275fac=function(r){return new(r||n)(z(oi,9),z(gf,10),z(Cy,10),z(by,10),z(Kn,8),z(yf,8))}}static{this.\u0275dir=Me({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Ce.None,"disabled","isDisabled"],model:[Ce.None,"ngModel","model"],options:[Ce.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ki([tM]),Jt,fn]})}}return n})(),rl=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Me({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var nM=(()=>{class n{constructor(){this._validator=fy}ngOnChanges(e){if(this.inputName in e){let r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):fy,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Me({type:n,features:[fn]})}}return n})();var rM={provide:gf,useExisting:Un(()=>Do),multi:!0};var Do=(()=>{class n extends nM{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=gn,this.createValidator=e=>Rx}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Hr(n)))(i||n)}})()}static{this.\u0275dir=Me({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&zi("required",i._enabled?"":null)},inputs:{required:"required"},features:[Ki([rM]),Jt]})}}return n})();var iM=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Hn({type:n})}static{this.\u0275inj=Bn({})}}return n})();var ai=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:yf,useValue:e.callSetDisabledState??_f}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Hn({type:n})}static{this.\u0275inj=Bn({imports:[iM]})}}return n})();var bn=(()=>{class n{constructor(){this.alerts=F([])}getAlerts(){return this.alerts.asReadonly()}show(e){let r=x({id:this.generateId(),dismissible:!0,duration:5e3},e);this.alerts.update(i=>[...i,r]),r.duration&&r.duration>0&&setTimeout(()=>{this.remove(r.id)},r.duration)}success(e,r="",i){this.show({type:"success",title:e,message:r,duration:i})}error(e,r="",i){this.show({type:"error",title:e,message:r,duration:i})}warning(e,r="",i){this.show({type:"warning",title:e,message:r,duration:i})}info(e,r="",i){this.show({type:"info",title:e,message:r,duration:i})}remove(e){this.alerts.update(r=>r.filter(i=>i.id!==e))}clear(){this.alerts.set([])}generateId(){return Date.now().toString(36)+Math.random().toString(36).substring(2)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();ue();var Py=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);var So=class extends Error{constructor(t,e="FunctionsError",r){super(t),this.name=e,this.context=r}},il=class extends So{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Io=class extends So{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},xo=class extends So{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},bf=function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n}(bf||{});var Mo=class{constructor(t,{headers:e={},customFetch:r,region:i=bf.Any}={}){this.url=t,this.headers=e,this.region=i,this.fetch=Py(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return D(this,arguments,void 0,function*(e,r={}){var i;let o,s;try{let{headers:a,method:l,body:c,signal:u,timeout:d}=r,m={},{region:f}=r;f||(f=this.region);let y=new URL(`${this.url}/${e}`);f&&f!=="any"&&(m["x-region"]=f,y.searchParams.set("forceFunctionRegion",f));let _;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",_=c):typeof c=="string"?(m["Content-Type"]="text/plain",_=c):typeof FormData<"u"&&c instanceof FormData?_=c:(m["Content-Type"]="application/json",_=JSON.stringify(c)):_=c;let b=u;d&&(s=new AbortController,o=setTimeout(()=>s.abort(),d),u?(b=s.signal,u.addEventListener("abort",()=>s.abort())):b=s.signal);let C=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),a),body:_,signal:b}).catch(q=>{throw new il(q)}),L=C.headers.get("x-relay-error");if(L&&L==="true")throw new Io(C);if(!C.ok)throw new xo(C);let S=((i=C.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),I;return S==="application/json"?I=yield C.json():S==="application/octet-stream"||S==="application/pdf"?I=yield C.blob():S==="text/event-stream"?I=C:S==="multipart/form-data"?I=yield C.formData():I=yield C.text(),{data:I,error:null,response:C}}catch(a){return{data:null,error:a,response:a instanceof xo||a instanceof Io?a.context:void 0}}finally{o&&clearTimeout(o)}})}};var jf=__(By(),1),{PostgrestClient:Hy,PostgrestQueryBuilder:qF,PostgrestFilterBuilder:WF,PostgrestTransformBuilder:KF,PostgrestBuilder:YF,PostgrestError:gM}=jf.default||jf;var Vf=class{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let e=process.versions;if(e&&e.node){let r=e.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let e=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(e+=`

Suggested solution: ${t.workaround}`),new Error(e)}static createWebSocket(t,e){let r=this.getWebSocketConstructor();return new r(t,e)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},$f=Vf;var Gy="2.86.0";var zy=`realtime-js/${Gy}`,Uf="1.0.0",qy="2.0.0",Bf=Uf;var Ao=1e4,Wy=1e3,Ky=100,er=function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n}(er||{}),Ee=function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n}(Ee||{}),ft=function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n}(ft||{}),Hf=function(n){return n.websocket="websocket",n}(Hf||{}),tr=function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n}(tr||{});var sl=class{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,e){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return e(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return e(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var e;return this._isArrayBuffer((e=t.payload)===null||e===void 0?void 0:e.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var e,r;let i=(r=(e=t.payload)===null||e===void 0?void 0:e.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var e,r;let i=(r=(e=t.payload)===null||e===void 0?void 0:e.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,e,r){var i,o;let s=t.topic,a=(i=t.ref)!==null&&i!==void 0?i:"",l=(o=t.join_ref)!==null&&o!==void 0?o:"",c=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);let m=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+s.length+c.length+d.length,f=new ArrayBuffer(this.HEADER_LENGTH+m),y=new DataView(f),_=0;y.setUint8(_++,this.KINDS.userBroadcastPush),y.setUint8(_++,l.length),y.setUint8(_++,a.length),y.setUint8(_++,s.length),y.setUint8(_++,c.length),y.setUint8(_++,d.length),y.setUint8(_++,e),Array.from(l,C=>y.setUint8(_++,C.charCodeAt(0))),Array.from(a,C=>y.setUint8(_++,C.charCodeAt(0))),Array.from(s,C=>y.setUint8(_++,C.charCodeAt(0))),Array.from(c,C=>y.setUint8(_++,C.charCodeAt(0))),Array.from(d,C=>y.setUint8(_++,C.charCodeAt(0)));var b=new Uint8Array(f.byteLength+r.byteLength);return b.set(new Uint8Array(f),0),b.set(new Uint8Array(r),f.byteLength),b.buffer}decode(t,e){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return e(r)}if(typeof t=="string"){let r=JSON.parse(t),[i,o,s,a,l]=r;return e({join_ref:i,ref:o,topic:s,event:a,payload:l})}return e({})}_binaryDecode(t){let e=new DataView(t),r=e.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,e,i)}}_decodeUserBroadcast(t,e,r){let i=e.getUint8(1),o=e.getUint8(2),s=e.getUint8(3),a=e.getUint8(4),l=this.HEADER_LENGTH+4,c=r.decode(t.slice(l,l+i));l=l+i;let u=r.decode(t.slice(l,l+o));l=l+o;let d=r.decode(t.slice(l,l+s));l=l+s;let m=t.slice(l,t.byteLength),f=a===this.JSON_ENCODING?JSON.parse(r.decode(m)):m,y={type:this.BROADCAST_EVENT,event:u,payload:f};return s>0&&(y.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var e;return t instanceof ArrayBuffer||((e=t?.constructor)===null||e===void 0?void 0:e.name)==="ArrayBuffer"}_pick(t,e){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>e.includes(r)))}};var ci=class{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var ce=function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n}(ce||{}),zf=(n,t,e={})=>{var r;let i=(r=e.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,s)=>(o[s]=mM(s,n,t,i),o),{}):{}},mM=(n,t,e,r)=>{let i=t.find(a=>a.name===n),o=i?.type,s=e[n];return o&&!r.includes(o)?Yy(o,s):Gf(s)},Yy=(n,t)=>{if(n.charAt(0)==="_"){let e=n.slice(1,n.length);return wM(t,e)}switch(n){case ce.bool:return vM(t);case ce.float4:case ce.float8:case ce.int2:case ce.int4:case ce.int8:case ce.numeric:case ce.oid:return yM(t);case ce.json:case ce.jsonb:return _M(t);case ce.timestamp:return bM(t);case ce.abstime:case ce.date:case ce.daterange:case ce.int4range:case ce.int8range:case ce.money:case ce.reltime:case ce.text:case ce.time:case ce.timestamptz:case ce.timetz:case ce.tsrange:case ce.tstzrange:return Gf(t);default:return Gf(t)}},Gf=n=>n,vM=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},yM=n=>{if(typeof n=="string"){let t=parseFloat(n);if(!Number.isNaN(t))return t}return n},_M=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},wM=(n,t)=>{if(typeof n!="string")return n;let e=n.length-1,r=n[e];if(n[0]==="{"&&r==="}"){let o,s=n.slice(1,e);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>Yy(t,a))}return n},bM=n=>typeof n=="string"?n.replace(" ","T"):n,al=n=>{let t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};var ui=class{constructor(t,e,r={},i=Ao){this.channel=t,this.event=e,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var r;return this._hasReceived(t)&&e((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var Oo=class n{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=n.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=n.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,r,i){let o=this.cloneDeep(t),s=this.transformState(e),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{let d=o[c];if(d){let m=u.map(b=>b.presence_ref),f=d.map(b=>b.presence_ref),y=u.filter(b=>f.indexOf(b.presence_ref)<0),_=d.filter(b=>m.indexOf(b.presence_ref)<0);y.length>0&&(a[c]=y),_.length>0&&(l[c]=_)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(t,e,r,i){let{joins:o,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;let u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){let d=t[a].map(f=>f.presence_ref),m=u.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...m)}r(a,u,l)}),this.map(s,(a,l)=>{let c=t[a];if(!c)return;let u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(r=>e(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,r)=>{let i=t[r];return"metas"in i?e[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):e[r]=i,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Ro=function(n){return n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system",n}(Ro||{}),Xt=function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n}(Xt||{});var Po=class n{constructor(t,e={config:{}},r){var i,o;if(this.topic=t,this.params=e,this.socket=r,this.bindings={},this.state=Ee.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new ui(this,ft.join,this.params,this.timeout),this.rejoinTimer=new ci(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ee.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ft.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Oo(this),this.broadcastEndpointURL=al(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,e=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ee.closed){let{config:{broadcast:s,presence:a,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Ro.PRESENCE]&&this.bindings[Ro.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},m={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t?.(Xt.CHANNEL_ERROR,f)),this._onClose(()=>t?.(Xt.CLOSED)),this.updateJoinPayload(Object.assign({config:m},d)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",y=>h(this,[y],function*({postgres_changes:f}){var _;if(this.socket.setAuth(),f===void 0){t?.(Xt.SUBSCRIBED);return}else{let b=this.bindings.postgres_changes,C=(_=b?.length)!==null&&_!==void 0?_:0,L=[];for(let S=0;S<C;S++){let I=b[S],{filter:{event:q,schema:pe,table:X,filter:de}}=I,xt=f&&f[S];if(xt&&xt.event===q&&xt.schema===pe&&xt.table===X&&xt.filter===de)L.push(Object.assign(Object.assign({},I),{id:xt.id}));else{this.unsubscribe(),this.state=Ee.errored,t?.(Xt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=L,t&&t(Xt.SUBSCRIBED);return}})).receive("error",f=>{this.state=Ee.errored,t?.(Xt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(Xt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return h(this,arguments,function*(t,e={}){return yield this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)})}untrack(){return h(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,e,r){return this.state===Ee.joined&&t===Ro.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,e,r)}httpSend(i,o){return h(this,arguments,function*(t,e,r={}){var s;let a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(e==null)return Promise.reject("Payload is required for httpSend()");let l={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:e,private:this.private}]})},c=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{let d=yield c.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))})}send(r){return h(this,arguments,function*(t,e={}){var i,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:s,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=e.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=u.body)===null||o===void 0?void 0:o.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;let u=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ee.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ft.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new ui(this,ft.leave,{},t),r.receive("ok",()=>{e(),i("ok")}).receive("timeout",()=>{e(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ee.closed,this.bindings={}}_fetchWithTimeout(t,e,r){return h(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(o),s})}_push(t,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ui(this,t,e,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Ky){let e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(t,e,r){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,r){var i,o;let s=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=ft;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let m=this._onMessage(s,e,r);if(e&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var y,_,b;return((y=f.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(_=f.filter)===null||_===void 0?void 0:_.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===s}).map(f=>f.callback(m,r)):(o=this.bindings[s])===null||o===void 0||o.filter(f=>{var y,_,b,C,L,S;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let I=f.id,q=(y=f.filter)===null||y===void 0?void 0:y.event;return I&&((_=e.ids)===null||_===void 0?void 0:_.includes(I))&&(q==="*"||q?.toLocaleLowerCase()===((b=e.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{let I=(L=(C=f?.filter)===null||C===void 0?void 0:C.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return I==="*"||I===((S=e?.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof m=="object"&&"ids"in m){let y=m.data,{schema:_,table:b,commit_timestamp:C,type:L,errors:S}=y;m=Object.assign(Object.assign({},{schema:_,table:b,commit_timestamp:C,eventType:L,new:{},old:{},errors:S}),this._getPayloadRecords(y))}f.callback(m,r)})}_isClosed(){return this.state===Ee.closed}_isJoined(){return this.state===Ee.joined}_isJoining(){return this.state===Ee.joining}_isLeaving(){return this.state===Ee.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,r){let i=t.toLocaleLowerCase(),o={type:i,filter:e,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,e){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&n.isEqual(i.filter,e))})),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ft.close,{},t)}_onError(t){this._on(ft.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ee.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=zf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=zf(t.columns,t.old_record)),e}};var qf=()=>{},ll={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},EM=[1e3,2e3,5e3,1e4],DM=1e4,SM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,No=class{constructor(t,e){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ao,this.transport=null,this.heartbeatIntervalMs=ll.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qf,this.ref=0,this.reconnectTimer=null,this.vsn=Bf,this.logger=qf,this.conn=null,this.sendBuffer=[],this.serializer=new sl,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=e?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=e.params.apikey,this.endPoint=`${t}/${Hf.websocket}`,this.httpEndpoint=al(t),this._initializeOptions(e),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(e?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$f.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let e=t.message;throw e.includes("Node.js")?new Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,e){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,e??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(t){return h(this,null,function*(){let e=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),e})}removeAllChannels(){return h(this,null,function*(){let t=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),t})}log(t,e,r){this.logger(t,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case er.connecting:return tr.Connecting;case er.open:return tr.Open;case er.closing:return tr.Closing;default:return tr.Closed}}isConnected(){return this.connectionState()===tr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,e={config:{}}){let r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new Po(`realtime:${t}`,e,this);return this.channels.push(o),o}}push(t){let{topic:e,event:r,payload:i,ref:o}=t,s=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${e} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(t=null){return h(this,null,function*(){this._authPromise=this._performAuth(t);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return h(this,null,function*(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(e){this.log("error","error in heartbeat callback",e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(e){this.log("error","error in heartbeat callback",e)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Wy,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout()},ll.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(e){this.log("error","error in heartbeat callback",e)}this._setAuthSafely("heartbeat")})}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,e=>{if(e.topic==="phoenix"&&e.event==="phx_reply")try{this.heartbeatCallback(e.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:i,payload:o,ref:s}=e,a=s?`(${s})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),o),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,o,s)),this._triggerStateCallbacks("message",e)})}_clearTimer(t){var e;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((e=this.reconnectTimer)===null||e===void 0||e.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===er.open||this.conn.readyState===er.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var e;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ft.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;let r=t.match(/\?/)?"&":"?",i=new URLSearchParams(e);return`${t}${r}${i}`}_workerObjectUrl(t){let e;if(t)e=t;else{let r=new Blob([SM],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}_setConnectionState(t,e=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=e)}_performAuth(t=null){return h(this,null,function*(){let e;t?e=t:this.accessToken?e=yield this.accessToken():e=this.accessTokenValue,this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(r=>{let i={access_token:e,version:zy};e&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(ft.access_token,{access_token:e})}))})}_waitForAuthIfNeeded(){return h(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(t="general"){this.setAuth().catch(e=>{this.log("error",`error setting auth in ${t}`,e)})}_triggerStateCallbacks(t,e){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(e)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new ci(()=>h(this,null,function*(){setTimeout(()=>h(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),ll.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(t){var e,r,i,o,s,a,l,c,u,d,m,f;switch(this.transport=(e=t?.transport)!==null&&e!==void 0?e:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Ao,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:ll.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:qf,this.vsn=(l=t?.vsn)!==null&&l!==void 0?l:Bf,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:y=>EM[y-1]||DM,this.vsn){case Uf:this.encode=(u=t?.encode)!==null&&u!==void 0?u:(y,_)=>_(JSON.stringify(y)),this.decode=(d=t?.decode)!==null&&d!==void 0?d:(y,_)=>_(JSON.parse(y));break;case qy:this.encode=(m=t?.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(f=t?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};ue();var Cn=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function ae(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var cl=class extends Cn{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},nr=class extends Cn{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};ue();var di=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),Jy=()=>Response,ul=n=>{if(Array.isArray(n))return n.map(e=>ul(e));if(typeof n=="function"||n!==Object(n))return n;let t={};return Object.entries(n).forEach(([e,r])=>{let i=e.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=ul(r)}),t},Zy=n=>{if(typeof n!="object"||n===null)return!1;let t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Qy=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);var Wf=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},IM=(n,t,e)=>D(void 0,void 0,void 0,function*(){let r=yield Jy();n instanceof r&&!e?.noResolveJson?n.json().then(i=>{let o=n.status||500,s=i?.statusCode||o+"";t(new cl(Wf(i),o,s))}).catch(i=>{t(new nr(Wf(i),i))}):t(new nr(Wf(n),n))}),xM=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"||!r?i:(Zy(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),e))};function ko(n,t,e,r,i,o){return D(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(e,xM(t,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>IM(l,a,r))})})}function En(n,t,e,r){return D(this,void 0,void 0,function*(){return ko(n,"GET",t,e,r)})}function Xe(n,t,e,r,i){return D(this,void 0,void 0,function*(){return ko(n,"POST",t,r,i,e)})}function Fo(n,t,e,r,i){return D(this,void 0,void 0,function*(){return ko(n,"PUT",t,r,i,e)})}function Xy(n,t,e,r){return D(this,void 0,void 0,function*(){return ko(n,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),r)})}function fi(n,t,e,r,i){return D(this,void 0,void 0,function*(){return ko(n,"DELETE",t,r,i,e)})}ue();ue();var dl=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}execute(){return D(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ae(t))return{data:null,error:t};throw t}})}};var e0,Kf=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[e0]="BlobDownloadBuilder",this.promise=null}asStream(){return new dl(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return D(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ae(t))return{data:null,error:t};throw t}})}};e0=Symbol.toStringTag;var t0=Kf;var MM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},n0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},fl=class{constructor(t,e={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=di(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,e,r,i){return D(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},n0),i),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),l&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!s.duplex&&(s.duplex="half")),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let c=this._removeEmptyFolders(e),u=this._getFinalPath(c),d=yield(t=="PUT"?Fo:Xe)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ae(o))return{data:null,error:o};throw o}})}upload(t,e,r){return D(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,r)})}uploadToSignedUrl(t,e,r,i){return D(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(t),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",e);try{let l,c=Object.assign({upsert:n0.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);let d=yield Fo(this.fetch,a.toString(),l,{headers:u});return{data:{path:o,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ae(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,e){return D(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=Object.assign({},this.headers);e?.upsert&&(i["x-upsert"]="true");let o=yield Xe(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new Cn("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}update(t,e,r){return D(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,r)})}move(t,e,r){return D(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ae(i))return{data:null,error:i};throw i}})}copy(t,e,r){return D(this,void 0,void 0,function*(){try{return{data:{path:(yield Xe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ae(i))return{data:null,error:i};throw i}})}createSignedUrl(t,e,r){return D(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Xe(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ae(i))return{data:null,error:i};throw i}})}createSignedUrls(t,e,r){return D(this,void 0,void 0,function*(){try{let i=yield Xe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ae(i))return{data:null,error:i};throw i}})}download(t,e){let i=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),s=o?`?${o}`:"",a=this._getFinalPath(t),l=()=>En(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new t0(l,this.shouldThrowOnError)}info(t){return D(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{let r=yield En(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:ul(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}exists(t){return D(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{return yield Xy(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r)&&r instanceof nr){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,e){let r=this._getFinalPath(t),i=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);let a=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return D(this,void 0,void 0,function*(){try{return{data:yield fi(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ae(e))return{data:null,error:e};throw e}})}list(t,e,r){return D(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},MM),e),{prefix:t||""});return{data:yield Xe(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ae(i))return{data:null,error:i};throw i}})}listV2(t,e){return D(this,void 0,void 0,function*(){try{let r=Object.assign({},t);return{data:yield Xe(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},e),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};ue();var hl="2.86.0";var pl={"X-Client-Info":`storage-js/${hl}`};var gl=class{constructor(t,e={},r,i){this.shouldThrowOnError=!1;let o=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pl),e),this.fetch=di(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return D(this,void 0,void 0,function*(){try{let e=this.listBucketOptionsToQueryString(t);return{data:yield En(this.fetch,`${this.url}/bucket${e}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ae(e))return{data:null,error:e};throw e}})}getBucket(t){return D(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ae(e))return{data:null,error:e};throw e}})}createBucket(t){return D(this,arguments,void 0,function*(e,r={public:!1}){try{return{data:yield Xe(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ae(i))return{data:null,error:i};throw i}})}updateBucket(t,e){return D(this,void 0,void 0,function*(){try{return{data:yield Fo(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}emptyBucket(t){return D(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ae(e))return{data:null,error:e};throw e}})}deleteBucket(t){return D(this,void 0,void 0,function*(){try{return{data:yield fi(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ae(e))return{data:null,error:e};throw e}})}listBucketOptionsToQueryString(t){let e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}};ue();var Lo=class extends Error{constructor(n,t){super(n),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function TM(n,t,e){let r=new URL(t,n);if(e)for(let[i,o]of Object.entries(e))o!==void 0&&r.searchParams.set(i,o);return r.toString()}function AM(n){return h(this,null,function*(){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?yield n.getHeaders():{}})}function OM(n){let t=n.fetchImpl??globalThis.fetch;return{request(l){return h(this,arguments,function*({method:r,path:i,query:o,body:s,headers:a}){let c=TM(n.baseUrl,i,o),u=yield AM(n.auth),d=yield t(c,{method:r,headers:x(x(x({},s?{"Content-Type":"application/json"}:{}),u),a),body:s?JSON.stringify(s):void 0}),m=yield d.text(),f=(d.headers.get("content-type")||"").includes("application/json"),y=f&&m?JSON.parse(m):m;if(!d.ok){let _=f?y:void 0,b=_?.error;throw new Lo(b?.message??`Request failed with status ${d.status}`,{status:d.status,icebergType:b?.type,icebergCode:b?.code,details:_})}return{status:d.status,headers:d.headers,data:y}})}}}function ml(n){return n.join("")}var RM=class{constructor(n,t=""){this.client=n,this.prefix=t}listNamespaces(n){return h(this,null,function*(){let t=n?{parent:ml(n.namespace)}:void 0;return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))})}createNamespace(n,t){return h(this,null,function*(){let e={namespace:n.namespace,properties:t?.properties};return(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:e})).data})}dropNamespace(n){return h(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ml(n.namespace)}`})})}loadNamespaceMetadata(n){return h(this,null,function*(){return{properties:(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ml(n.namespace)}`})).data.properties}})}namespaceExists(n){return h(this,null,function*(){try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ml(n.namespace)}`}),!0}catch(t){if(t instanceof Lo&&t.status===404)return!1;throw t}})}createNamespaceIfNotExists(n,t){return h(this,null,function*(){try{return yield this.createNamespace(n,t)}catch(e){if(e instanceof Lo&&e.status===409)return;throw e}})}};function hi(n){return n.join("")}var PM=class{constructor(n,t="",e){this.client=n,this.prefix=t,this.accessDelegation=e}listTables(n){return h(this,null,function*(){return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hi(n.namespace)}/tables`})).data.identifiers})}createTable(n,t){return h(this,null,function*(){let e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${hi(n.namespace)}/tables`,body:t,headers:e})).data.metadata})}updateTable(n,t){return h(this,null,function*(){let e=yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${hi(n.namespace)}/tables/${n.name}`,body:t});return{"metadata-location":e.data["metadata-location"],metadata:e.data.metadata}})}dropTable(n,t){return h(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hi(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(t?.purge??!1)}})})}loadTable(n){return h(this,null,function*(){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hi(n.namespace)}/tables/${n.name}`,headers:t})).data.metadata})}tableExists(n){return h(this,null,function*(){let t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hi(n.namespace)}/tables/${n.name}`,headers:t}),!0}catch(e){if(e instanceof Lo&&e.status===404)return!1;throw e}})}createTableIfNotExists(n,t){return h(this,null,function*(){try{return yield this.createTable(n,t)}catch(e){if(e instanceof Lo&&e.status===409)return yield this.loadTable({namespace:n.namespace,name:t.name});throw e}})}},r0=class{constructor(n){let t="v1";n.catalogName&&(t+=`/${n.catalogName}`);let e=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=OM({baseUrl:e,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new RM(this.client,t),this.tableOps=new PM(this.client,t,this.accessDelegation)}listNamespaces(n){return h(this,null,function*(){return this.namespaceOps.listNamespaces(n)})}createNamespace(n,t){return h(this,null,function*(){return this.namespaceOps.createNamespace(n,t)})}dropNamespace(n){return h(this,null,function*(){yield this.namespaceOps.dropNamespace(n)})}loadNamespaceMetadata(n){return h(this,null,function*(){return this.namespaceOps.loadNamespaceMetadata(n)})}listTables(n){return h(this,null,function*(){return this.tableOps.listTables(n)})}createTable(n,t){return h(this,null,function*(){return this.tableOps.createTable(n,t)})}updateTable(n,t){return h(this,null,function*(){return this.tableOps.updateTable(n,t)})}dropTable(n,t){return h(this,null,function*(){yield this.tableOps.dropTable(n,t)})}loadTable(n){return h(this,null,function*(){return this.tableOps.loadTable(n)})}namespaceExists(n){return h(this,null,function*(){return this.namespaceOps.namespaceExists(n)})}tableExists(n){return h(this,null,function*(){return this.tableOps.tableExists(n)})}createNamespaceIfNotExists(n,t){return h(this,null,function*(){return this.namespaceOps.createNamespaceIfNotExists(n,t)})}createTableIfNotExists(n,t){return h(this,null,function*(){return this.tableOps.createTableIfNotExists(n,t)})}};var vl=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pl),e),this.fetch=di(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return D(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ae(e))return{data:null,error:e};throw e}})}listBuckets(t){return D(this,void 0,void 0,function*(){try{let e=new URLSearchParams;t?.limit!==void 0&&e.set("limit",t.limit.toString()),t?.offset!==void 0&&e.set("offset",t.offset.toString()),t?.sortColumn&&e.set("sortColumn",t.sortColumn),t?.sortOrder&&e.set("sortOrder",t.sortOrder),t?.search&&e.set("search",t.search);let r=e.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield En(this.fetch,i,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ae(e))return{data:null,error:e};throw e}})}deleteBucket(t){return D(this,void 0,void 0,function*(){try{return{data:yield fi(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ae(e))return{data:null,error:e};throw e}})}from(t){if(!Qy(t))throw new Cn("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new r0({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>D(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}};ue();ue();var pi={"X-Client-Info":`storage-js/${hl}`,"Content-Type":"application/json"};var yl=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function je(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var gi=class extends yl{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},_l=class extends yl{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};ue();var mi=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);var i0=n=>{if(typeof n!="object"||n===null)return!1;let t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var o0=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),NM=(n,t,e)=>D(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!e?.noResolveJson){let i=n.status||500,o=n;if(typeof o.json=="function")o.json().then(s=>{let a=s?.statusCode||s?.code||i+"";t(new gi(o0(s),i,a))}).catch(()=>{let s=i+"",a=o.statusText||`HTTP ${i} error`;t(new gi(a,i,s))});else{let s=i+"",a=o.statusText||`HTTP ${i} error`;t(new gi(a,i,s))}}else t(new _l(o0(n),n))}),kM=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"||!r?i:(i0(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),e))};function FM(n,t,e,r,i,o){return D(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(e,kM(t,r,i,o)).then(l=>{if(!l.ok)throw l;if(r?.noResolveJson)return l;let c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>NM(l,a,r))})})}function Ve(n,t,e,r,i){return D(this,void 0,void 0,function*(){return FM(n,"POST",t,r,i,e)})}var wl=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pi),e),this.fetch=mi(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return D(this,void 0,void 0,function*(){try{return{data:(yield Ve(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}})}getIndex(t,e){return D(this,void 0,void 0,function*(){try{return{data:yield Ve(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}})}listIndexes(t){return D(this,void 0,void 0,function*(){try{return{data:yield Ve(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}})}deleteIndex(t,e){return D(this,void 0,void 0,function*(){try{return{data:(yield Ve(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}})}};ue();var bl=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pi),e),this.fetch=mi(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return D(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ve(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}})}getVectors(t){return D(this,void 0,void 0,function*(){try{return{data:yield Ve(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}})}listVectors(t){return D(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ve(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}})}queryVectors(t){return D(this,void 0,void 0,function*(){try{return{data:yield Ve(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}})}deleteVectors(t){return D(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ve(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}})}};ue();var Cl=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pi),e),this.fetch=mi(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return D(this,void 0,void 0,function*(){try{return{data:(yield Ve(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}})}getBucket(t){return D(this,void 0,void 0,function*(){try{return{data:yield Ve(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}})}listBuckets(){return D(this,arguments,void 0,function*(t={}){try{return{data:yield Ve(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}})}deleteBucket(t){return D(this,void 0,void 0,function*(){try{return{data:(yield Ve(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}})}};var jo=class extends Cl{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new El(this.url,this.headers,t,this.fetch)}createBucket(t){let e=Object.create(null,{createBucket:{get:()=>super.createBucket}});return D(this,void 0,void 0,function*(){return e.createBucket.call(this,t)})}getBucket(t){let e=Object.create(null,{getBucket:{get:()=>super.getBucket}});return D(this,void 0,void 0,function*(){return e.getBucket.call(this,t)})}listBuckets(){let t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return D(this,arguments,void 0,function*(e={}){return t.listBuckets.call(this,e)})}deleteBucket(t){let e=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return D(this,void 0,void 0,function*(){return e.deleteBucket.call(this,t)})}},El=class extends wl{constructor(t,e,r,i){super(t,e,i),this.vectorBucketName=r}createIndex(t){let e=Object.create(null,{createIndex:{get:()=>super.createIndex}});return D(this,void 0,void 0,function*(){return e.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return D(this,arguments,void 0,function*(e={}){return t.listIndexes.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){let e=Object.create(null,{getIndex:{get:()=>super.getIndex}});return D(this,void 0,void 0,function*(){return e.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){let e=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return D(this,void 0,void 0,function*(){return e.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Dl(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Dl=class extends bl{constructor(t,e,r,i,o){super(t,e,o),this.vectorBucketName=r,this.indexName=i}putVectors(t){let e=Object.create(null,{putVectors:{get:()=>super.putVectors}});return D(this,void 0,void 0,function*(){return e.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){let e=Object.create(null,{getVectors:{get:()=>super.getVectors}});return D(this,void 0,void 0,function*(){return e.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return D(this,arguments,void 0,function*(e={}){return t.listVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){let e=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return D(this,void 0,void 0,function*(){return e.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){let e=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return D(this,void 0,void 0,function*(){return e.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}};var Vo=class extends gl{constructor(t,e={},r,i){super(t,e,r,i)}from(t){return new fl(this.url,this.headers,t,this.fetch)}get vectors(){return new jo(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vl(this.url+"/iceberg",this.headers,this.fetch)}};var s0="2.86.0";var $o="";typeof Deno<"u"?$o="deno":typeof document<"u"?$o="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$o="react-native":$o="node";var LM={"X-Client-Info":`supabase-js-${$o}/${s0}`},a0={headers:LM},l0={schema:"public"},c0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},u0={};var jM=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),VM=()=>Headers,d0=(n,t,e)=>{let r=jM(e),i=VM();return(o,s)=>h(void 0,null,function*(){var a;let l=(a=yield t())!==null&&a!==void 0?a:n,c=new i(s?.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};function $M(n){return n.endsWith("/")?n:n+"/"}function f0(n,t){var e,r;let{db:i,auth:o,realtime:s,global:a}=n,{db:l,auth:c,realtime:u,global:d}=t,m={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(e=d?.headers)!==null&&e!==void 0?e:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>h(this,null,function*(){return""})};return n.accessToken?m.accessToken=n.accessToken:delete m.accessToken,m}function h0(n){let t=n?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($M(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}ue();ue();var Sl="2.86.0";var rr=30*1e3,Il=3,xl=Il*rr,p0="http://localhost:9999",g0="supabase.auth.token";var m0={"X-Client-Info":`gotrue-js/${Sl}`};var Uo="X-Supabase-Api-Version",Yf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},v0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,y0=10*60*1e3;var Dn=class extends Error{constructor(t,e,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=r}};function M(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var Ml=class extends Dn{constructor(t,e,r){super(t,e,r),this.name="AuthApiError",this.status=e,this.code=r}};function _0(n){return M(n)&&n.name==="AuthApiError"}var ht=class extends Dn{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}},Vt=class extends Dn{constructor(t,e,r,i){super(t,r,i),this.name=e,this.status=r}},Oe=class extends Vt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function w0(n){return M(n)&&n.name==="AuthSessionMissingError"}var en=class extends Vt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},ir=class extends Vt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},or=class extends Vt{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function b0(n){return M(n)&&n.name==="AuthImplicitGrantRedirectError"}var Bo=class extends Vt{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},vi=class extends Vt{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}};function Tl(n){return M(n)&&n.name==="AuthRetryableFetchError"}var Ho=class extends Vt{constructor(t,e,r){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=r}};var sr=class extends Vt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var Al="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),C0=` 	
\r=`.split(""),UM=(()=>{let n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<C0.length;t+=1)n[C0[t].charCodeAt(0)]=-2;for(let t=0;t<Al.length;t+=1)n[Al[t].charCodeAt(0)]=t;return n})();function E0(n,t,e){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;e(Al[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;e(Al[r]),t.queuedBits-=6}}function D0(n,t,e){let r=UM[n];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)e(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Jf(n){let t=[],e=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{GM(s,r,e)};for(let s=0;s<n.length;s+=1)D0(n.charCodeAt(s),i,o);return t.join("")}function BM(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function HM(n,t){for(let e=0;e<n.length;e+=1){let r=n.charCodeAt(e);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(n.charCodeAt(e+1)-56320&65535|i)+65536,e+=1}BM(r,t)}}function GM(n,t,e){if(t.utf8seq===0){if(n<=127){e(n);return}for(let r=1;r<6;r+=1)if(!(n>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&e(t.codepoint)}}function Sn(n){let t=[],e={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<n.length;i+=1)D0(n.charCodeAt(i),e,r);return new Uint8Array(t)}function S0(n){let t=[];return HM(n,e=>t.push(e)),new Uint8Array(t)}function tn(n){let t=[],e={queue:0,queuedBits:0},r=i=>{t.push(i)};return n.forEach(i=>E0(i,e,r)),E0(null,e,r),t.join("")}function I0(n){return Math.round(Date.now()/1e3)+n}function x0(){return Symbol("auth-callback")}var De=()=>typeof window<"u"&&typeof document<"u",ar={tested:!1,writable:!1},Ol=()=>{if(!De())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ar.tested)return ar.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ar.tested=!0,ar.writable=!0}catch{ar.tested=!0,ar.writable=!1}return ar.writable};function M0(n){let t={},e=new URL(n);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return e.searchParams.forEach((r,i)=>{t[i]=r}),t}var Rl=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),T0=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",lr=(n,t,e)=>h(void 0,null,function*(){yield n.setItem(t,JSON.stringify(e))}),In=(n,t)=>h(void 0,null,function*(){let e=yield n.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}}),nn=(n,t)=>h(void 0,null,function*(){yield n.removeItem(t)}),Go=class n{constructor(){this.promise=new n.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}};Go.promiseConstructor=Promise;function Pl(n){let t=n.split(".");if(t.length!==3)throw new sr("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!v0.test(t[r]))throw new sr("JWT not in base64url format");return{header:JSON.parse(Jf(t[0])),payload:JSON.parse(Jf(t[1])),signature:Sn(t[2]),raw:{header:t[0],payload:t[1]}}}function A0(n){return h(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),n)})})}function O0(n,t){return new Promise((r,i)=>{h(this,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield n(o);if(!t(o,null,s)){r(s);return}}catch(s){if(!t(o,s)){i(s);return}}})})}function zM(n){return("0"+n.toString(16)).substr(-2)}function qM(){let t=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length,i="";for(let o=0;o<56;o++)i+=e.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,zM).join("")}function WM(n){return h(this,null,function*(){let e=new TextEncoder().encode(n),r=yield crypto.subtle.digest("SHA-256",e),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function KM(n){return h(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let e=yield WM(n);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function cr(n,t,e=!1){return h(this,null,function*(){let r=qM(),i=r;e&&(i+="/PASSWORD_RECOVERY"),yield lr(n,`${t}-code-verifier`,i);let o=yield KM(r);return[o,r===o?"plain":"s256"]})}var YM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function R0(n){let t=n.headers.get(Uo);if(!t||!t.match(YM))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function P0(n){if(!n)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function N0(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var JM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ur(n){if(!JM.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Nl(){let n={};return new Proxy(n,{get:(t,e)=>{if(e==="__isUserNotAvailableProxy")return!0;if(typeof e=="symbol"){let r=e.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${e}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function k0(n,t){return new Proxy(n,{get:(e,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(e,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(e,r,i)}})}function Zf(n){return JSON.parse(JSON.stringify(n))}var dr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),ZM=[502,503,504];function F0(n){return h(this,null,function*(){var t;if(!T0(n))throw new vi(dr(n),0);if(ZM.includes(n.status))throw new vi(dr(n),n.status);let e;try{e=yield n.json()}catch(o){throw new ht(dr(o),o)}let r,i=R0(n);if(i&&i.getTime()>=Yf["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?r=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(r=e.error_code),r){if(r==="weak_password")throw new Ho(dr(e),n.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Oe}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Ho(dr(e),n.status,e.weak_password.reasons);throw new Ml(dr(e),n.status||500,r)})}var QM=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),e))};function O(n,t,e,r){return h(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[Uo]||(o[Uo]=Yf["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield XM(n,t,e+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function XM(n,t,e,r,i,o){return h(this,null,function*(){let s=QM(t,r,i,o),a;try{a=yield n(e,Object.assign({},s))}catch(l){throw console.error(l),new vi(dr(l),0)}if(a.ok||(yield F0(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield F0(l)}})}function pt(n){var t;let e=null;eT(n)&&(e=Object.assign({},n),n.expires_at||(e.expires_at=I0(n.expires_in)));let r=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:e,user:r},error:null}}function Qf(n){let t=pt(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)&&(t.data.weak_password=n.weak_password),t}function $t(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function L0(n){return{data:n,error:null}}function j0(n){let{action_link:t,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o}=n,s=Ut(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function Xf(n){return n}function eT(n){return n.access_token&&n.refresh_token&&n.expires_in}var kl=["global","local","others"];var yi=class{constructor({url:t="",headers:e={},fetch:r}){this.url=t,this.headers=e,this.fetch=Rl(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return h(this,arguments,function*(t,e=kl[0]){if(kl.indexOf(e)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${kl.join(", ")}`);try{return yield O(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(M(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return h(this,arguments,function*(t,e={}){try{return yield O(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:$t})}catch(i){if(M(i))return{data:{user:null},error:i};throw i}})}generateLink(t){return h(this,null,function*(){try{let{options:e}=t,r=Ut(t,["options"]),i=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield O(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:j0,redirectTo:e?.redirectTo})}catch(e){if(M(e))return{data:{properties:null,user:null},error:e};throw e}})}createUser(t){return h(this,null,function*(){try{return yield O(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:$t})}catch(e){if(M(e))return{data:{user:null},error:e};throw e}})}listUsers(t){return h(this,null,function*(){var e,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield O(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Xf});if(u.error)throw u.error;let d=yield u.json(),m=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(y=>{let _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);c[`${b}Page`]=_}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(M(c))return{data:{users:[]},error:c};throw c}})}getUserById(t){return h(this,null,function*(){ur(t);try{return yield O(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:$t})}catch(e){if(M(e))return{data:{user:null},error:e};throw e}})}updateUserById(t,e){return h(this,null,function*(){ur(t);try{return yield O(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:$t})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}})}deleteUser(t,e=!1){return h(this,null,function*(){ur(t);try{return yield O(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:$t})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}})}_listFactors(t){return h(this,null,function*(){ur(t.userId);try{let{data:e,error:r}=yield O(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:e,error:r}}catch(e){if(M(e))return{data:null,error:e};throw e}})}_deleteFactor(t){return h(this,null,function*(){ur(t.userId),ur(t.id);try{return{data:yield O(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(M(e))return{data:null,error:e};throw e}})}_listOAuthClients(t){return h(this,null,function*(){var e,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield O(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Xf});if(u.error)throw u.error;let d=yield u.json(),m=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(y=>{let _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);c[`${b}Page`]=_}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(M(c))return{data:{clients:[]},error:c};throw c}})}_createOAuthClient(t){return h(this,null,function*(){try{return yield O(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(M(e))return{data:null,error:e};throw e}})}_getOAuthClient(t){return h(this,null,function*(){try{return yield O(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(M(e))return{data:null,error:e};throw e}})}_updateOAuthClient(t,e){return h(this,null,function*(){try{return yield O(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(t){return h(this,null,function*(){try{return yield O(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(e){if(M(e))return{data:null,error:e};throw e}})}_regenerateOAuthClientSecret(t){return h(this,null,function*(){try{return yield O(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(M(e))return{data:null,error:e};throw e}})}};function eh(n={}){return{getItem:t=>n[t]||null,setItem:(t,e)=>{n[t]=e},removeItem:t=>{delete n[t]}}}var fr={debug:!!(globalThis&&Ol()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},zo=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},Fl=class extends zo{};function th(n,t,e){return h(this,null,function*(){fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),fr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>h(this,null,function*(){if(i){fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return yield e()}finally{fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(t===0)throw fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Fl(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(fr.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield e()}})))})}function V0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function nh(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function $0(n){return parseInt(n,16)}function U0(n){let t=new TextEncoder().encode(n);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function B0(n){var t;let{chainId:e,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:l,resources:c,scheme:u,uri:d,version:m}=n;{if(!Number.isInteger(e))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${e}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}let f=nh(n.address),y=u?`${u}://${r}`:r,_=n.statement?`${n.statement}
`:"",b=`${y} wants you to sign in with your Ethereum account:
${f}

${_}`,C=`URI: ${d}
Version: ${m}
Chain ID: ${e}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(C+=`
Expiration Time: ${i.toISOString()}`),a&&(C+=`
Not Before: ${a.toISOString()}`),l&&(C+=`
Request ID: ${l}`),c){let L=`
Resources:`;for(let S of c){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);L+=`
- ${S}`}C+=L}return`${b}
${C}`}ue();var he=class extends Error{constructor({message:t,code:e,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=e}},hr=class extends he{constructor(t,e){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e,message:t}),this.name="WebAuthnUnknownError",this.originalError=e}};function H0({error:n,options:t}){var e,r,i;let{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new he({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((e=o.authenticatorSelection)===null||e===void 0?void 0:e.requireResidentKey)===!0)return new he({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new he({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new he({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new he({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new he({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new he({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new he({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){let s=window.location.hostname;if(rh(s)){if(o.rp.id!==s)return new he({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new he({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new he({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new he({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new he({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function G0({error:n,options:t}){let{publicKey:e}=t;if(!e)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new he({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new he({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){let r=window.location.hostname;if(rh(r)){if(e.rpId!==r)return new he({message:`The RP ID "${e.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new he({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new he({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new he({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}var ih=class{createNewAbortSignal(){if(this.controller){let e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}let t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){let t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}},tT=new ih;function q0(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);let{challenge:t,user:e,excludeCredentials:r}=n,i=Ut(n,["challenge","user","excludeCredentials"]),o=Sn(t).buffer,s=Object.assign(Object.assign({},e),{id:Sn(e.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){let c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Sn(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function W0(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);let{challenge:t,allowCredentials:e}=n,r=Ut(n,["challenge","allowCredentials"]),i=Sn(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(e&&e.length>0){o.allowCredentials=new Array(e.length);for(let s=0;s<e.length;s++){let a=e[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Sn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function K0(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let e=n;return{id:n.id,rawId:n.id,response:{attestationObject:tn(new Uint8Array(n.response.attestationObject)),clientDataJSON:tn(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=e.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Y0(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let e=n,r=n.getClientExtensionResults(),i=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:tn(new Uint8Array(i.authenticatorData)),clientDataJSON:tn(new Uint8Array(i.clientDataJSON)),signature:tn(new Uint8Array(i.signature)),userHandle:i.userHandle?tn(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=e.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function rh(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function z0(){var n,t;return!!(De()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}function nT(n){return h(this,null,function*(){try{let t=yield navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new hr("Browser returned unexpected credential type",t)}:{data:null,error:new hr("Empty credential response",t)}}catch(t){return{data:null,error:H0({error:t,options:n})}}})}function rT(n){return h(this,null,function*(){try{let t=yield navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new hr("Browser returned unexpected credential type",t)}:{data:null,error:new hr("Empty credential response",t)}}catch(t){return{data:null,error:G0({error:t,options:n})}}})}var iT={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},oT={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ll(...n){let t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),e=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(let i of n)if(i)for(let o in i){let s=i[o];if(s!==void 0)if(Array.isArray(s))r[o]=s;else if(e(s))r[o]=s;else if(t(s)){let a=r[o];t(a)?r[o]=Ll(a,s):r[o]=Ll(s)}else r[o]=s}return r}function sT(n,t){return Ll(iT,n,t||{})}function aT(n,t){return Ll(oT,n,t||{})}var jl=class{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(t){return h(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))})}_challenge(s,a){return h(this,arguments,function*({factorId:t,webauthn:e,friendlyName:r,signal:i},o){try{let{data:l,error:c}=yield this.client.mfa.challenge({factorId:t,webauthn:e});if(!l)return{data:null,error:c};let u=i??tT.createNewAbortSignal();if(l.webauthn.type==="create"){let{user:d}=l.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{let d=sT(l.webauthn.credential_options.publicKey,o?.create),{data:m,error:f}=yield nT({publicKey:d,signal:u});return m?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:f}}case"request":{let d=aT(l.webauthn.credential_options.publicKey,o?.request),{data:m,error:f}=yield rT(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return m?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:f}}}}catch(l){return M(l)?{data:null,error:l}:{data:null,error:new ht("Unexpected error in challenge",l)}}})}_verify(i){return h(this,arguments,function*({challengeId:t,factorId:e,webauthn:r}){return this.client.mfa.verify({factorId:e,challengeId:t,webauthn:r})})}_authenticate(s,a){return h(this,arguments,function*({factorId:t,webauthn:{rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!e)return{data:null,error:new Dn("rpId is required for WebAuthn authentication")};try{if(!z0())return{data:null,error:new ht("Browser does not support WebAuthn",null)};let{data:l,error:c}=yield this.challenge({factorId:t,webauthn:{rpId:e,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:c};let{webauthn:u}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:u.type,rpId:e,rpOrigins:r,credential_response:u.credential_response}})}catch(l){return M(l)?{data:null,error:l}:{data:null,error:new ht("Unexpected error in authenticate",l)}}})}_register(s,a){return h(this,arguments,function*({friendlyName:t,webauthn:{rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!e)return{data:null,error:new Dn("rpId is required for WebAuthn registration")};try{if(!z0())return{data:null,error:new ht("Browser does not support WebAuthn",null)};let{data:l,error:c}=yield this._enroll({friendlyName:t});if(!l)return yield this.client.mfa.listFactors().then(m=>{var f;return(f=m.data)===null||f===void 0?void 0:f.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:c};let{data:u,error:d}=yield this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:e,rpOrigins:r},signal:i},{create:o});return u?this._verify({factorId:l.id,challengeId:u.challengeId,webauthn:{rpId:e,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(l){return M(l)?{data:null,error:l}:{data:null,error:new ht("Unexpected error in register",l)}}})}};V0();var lT={url:p0,storageKey:g0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:m0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};function J0(n,t,e){return h(this,null,function*(){return yield e()})}var _i={},cT=(()=>{class n{get jwks(){var e,r;return(r=(e=_i[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){_i[this.storageKey]=Object.assign(Object.assign({},_i[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=_i[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){_i[this.storageKey]=Object.assign(Object.assign({},_i[this.storageKey]),{cachedAt:e})}constructor(e){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},lT),e);if(this.storageKey=s.storageKey,this.instanceID=(r=n.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,n.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&De()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new yi({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Rl(s.fetch),this.lock=s.lock||J0,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:De()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=th:this.lock=J0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new jl(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Ol()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=eh(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=eh(this.memoryStorage)),De()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",a=>h(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Sl}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}initialize(){return h(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=h(this,null,function*(){return yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return h(this,null,function*(){var e;try{let r={},i="none";if(De()&&(r=M0(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce")),De()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),b0(s)){let c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),yield this._saveSession(a),setTimeout(()=>h(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return M(r)?this._returnResult({error:r}):this._returnResult({error:new ht("Unexpected error during initialization",r)})}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return h(this,null,function*(){var r,i,o;try{let s=yield O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:pt}),{data:a,error:l}=s;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(M(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signUp(e){return h(this,null,function*(){var r,i,o;try{let s;if("email"in e){let{email:d,password:m,options:f}=e,y=null,_=null;this.flowType==="pkce"&&([y,_]=yield cr(this.storage,this.storageKey)),s=yield O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:m,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:y,code_challenge_method:_},xform:pt})}else if("phone"in e){let{phone:d,password:m,options:f}=e;s=yield O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:m,data:(i=f?.data)!==null&&i!==void 0?i:{},channel:(o=f?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:pt})}else throw new ir("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(M(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signInWithPassword(e){return h(this,null,function*(){try{let r;if("email"in e){let{email:s,password:a,options:l}=e;r=yield O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Qf})}else if("phone"in e){let{phone:s,password:a,options:l}=e;r=yield O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Qf})}else throw new ir("You must provide either an email or phone number and a password");let{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){let s=new en;return this._returnResult({data:{user:null,session:null},error:s})}return i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(M(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOAuth(e){return h(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(e){return h(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return h(this,null,function*(){let{chain:r}=e;switch(r){case"ethereum":return yield this.signInWithEthereum(e);case"solana":return yield this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(e){return h(this,null,function*(){var r,i,o,s,a,l,c,u,d,m,f;let y,_;if("message"in e)y=e.message,_=e.signature;else{let{chain:b,wallet:C,statement:L,options:S}=e,I;if(De())if(typeof C=="object")I=C;else{let gt=window;if("ethereum"in gt&&typeof gt.ethereum=="object"&&"request"in gt.ethereum&&typeof gt.ethereum.request=="function")I=gt.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=C}let q=new URL((r=S?.url)!==null&&r!==void 0?r:window.location.href),pe=yield I.request({method:"eth_requestAccounts"}).then(gt=>gt).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!pe||pe.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let X=nh(pe[0]),de=(i=S?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!de){let gt=yield I.request({method:"eth_chainId"});de=$0(gt)}let xt={domain:q.host,address:X,statement:L,uri:q.href,version:"1",chainId:de,nonce:(o=S?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(a=(s=S?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=S?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=S?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=S?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=S?.signInWithEthereum)===null||d===void 0?void 0:d.resources};y=B0(xt),_=yield I.request({method:"personal_sign",params:[U0(y),X]})}try{let{data:b,error:C}=yield O(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:_},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:pt});if(C)throw C;if(!b||!b.session||!b.user){let L=new en;return this._returnResult({data:{user:null,session:null},error:L})}return b.session&&(yield this._saveSession(b.session),yield this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:C})}catch(b){if(M(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}})}signInWithSolana(e){return h(this,null,function*(){var r,i,o,s,a,l,c,u,d,m,f,y;let _,b;if("message"in e)_=e.message,b=e.signature;else{let{chain:C,wallet:L,statement:S,options:I}=e,q;if(De())if(typeof L=="object")q=L;else{let X=window;if("solana"in X&&typeof X.solana=="object"&&("signIn"in X.solana&&typeof X.solana.signIn=="function"||"signMessage"in X.solana&&typeof X.solana.signMessage=="function"))q=X.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=L}let pe=new URL((r=I?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in q&&q.signIn){let X=yield q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I?.signInWithSolana),{version:"1",domain:pe.host,uri:pe.href}),S?{statement:S}:null)),de;if(Array.isArray(X)&&X[0]&&typeof X[0]=="object")de=X[0];else if(X&&typeof X=="object"&&"signedMessage"in X&&"signature"in X)de=X;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in de&&"signature"in de&&(typeof de.signedMessage=="string"||de.signedMessage instanceof Uint8Array)&&de.signature instanceof Uint8Array)_=typeof de.signedMessage=="string"?de.signedMessage:new TextDecoder().decode(de.signedMessage),b=de.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in q)||typeof q.signMessage!="function"||!("publicKey"in q)||typeof q!="object"||!q.publicKey||!("toBase58"in q.publicKey)||typeof q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${pe.host} wants you to sign in with your Solana account:`,q.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${pe.href}`,`Issued At: ${(o=(i=I?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=I?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((a=I?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((l=I?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((c=I?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((u=I?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((m=(d=I?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||m===void 0)&&m.length?["Resources",...I.signInWithSolana.resources.map(de=>`- ${de}`)]:[]].join(`
`);let X=yield q.signMessage(new TextEncoder().encode(_),"utf8");if(!X||!(X instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=X}}try{let{data:C,error:L}=yield O(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:tn(b)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:pt});if(L)throw L;if(!C||!C.session||!C.user){let S=new en;return this._returnResult({data:{user:null,session:null},error:S})}return C.session&&(yield this._saveSession(C.session),yield this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:L})}catch(C){if(M(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}})}_exchangeCodeForSession(e){return h(this,null,function*(){let r=yield In(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield O(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:pt});if(yield nn(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let l=new en;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(M(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}})}signInWithIdToken(e){return h(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=e,l=yield O(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:pt}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){let d=new en;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(M(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOtp(e){return h(this,null,function*(){var r,i,o,s,a;try{if("email"in e){let{email:l,options:c}=e,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield cr(this.storage,this.storageKey));let{error:m}=yield O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){let{phone:l,options:c}=e,{data:u,error:d}=yield O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new ir("You must provide either an email or phone number.")}catch(l){if(M(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}verifyOtp(e){return h(this,null,function*(){var r,i;try{let o,s;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=yield O(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:pt});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,u=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(M(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}signInWithSSO(e){return h(this,null,function*(){var r,i,o,s,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=yield cr(this.storage,this.storageKey));let u=yield O(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:L0});return!((s=u.data)===null||s===void 0)&&s.url&&De()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(M(l))return this._returnResult({data:null,error:l});throw l}})}reauthenticate(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return h(this,null,function*(){try{return yield this._useSession(e=>h(this,null,function*(){let{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new Oe;let{error:o}=yield O(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})}))}catch(e){if(M(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}})}resend(e){return h(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in e){let{email:i,type:o,options:s}=e,{error:a}=yield O(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){let{phone:i,type:o,options:s}=e,{data:a,error:l}=yield O(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:l})}throw new ir("You must provide either an email or phone number and a type")}catch(r){if(M(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}getSession(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return this._useSession(r=>h(this,null,function*(){return r}))}))})}_acquireLock(e,r){return h(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=h(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(h(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,e,()=>h(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(h(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return h(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield e(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return h(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,r=yield In(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};let i=e.expires_at?e.expires_at*1e3-Date.now()<xl:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){let a=yield In(this.userStorage,this.storageKey+"-user");a?.user?e.user=a.user:e.user=Nl()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};e.user=k0(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}let{data:o,error:s}=yield this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}})}getUser(e){return h(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return h(this,null,function*(){try{return e?yield O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:$t}):yield this._useSession(r=>h(this,null,function*(){var i,o,s;let{data:a,error:l}=r;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Oe}:yield O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:$t})}))}catch(r){if(M(r))return w0(r)&&(yield this._removeSession(),yield nn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}})}updateUser(i){return h(this,arguments,function*(e,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._updateUser(e,r)}))})}_updateUser(i){return h(this,arguments,function*(e,r={}){try{return yield this._useSession(o=>h(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new Oe;let l=s.session,c=null,u=null;this.flowType==="pkce"&&e.email!=null&&([c,u]=yield cr(this.storage,this.storageKey));let{data:d,error:m}=yield O(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:u}),jwt:l.access_token,xform:$t});if(m)throw m;return l.user=d.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})}))}catch(o){if(M(o))return this._returnResult({data:{user:null},error:o});throw o}})}setSession(e){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return h(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new Oe;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=Pl(e.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{data:l,error:c}=yield this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=yield this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(M(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}})}refreshSession(e){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;if(!e){let{data:a,error:l}=r;if(l)throw l;e=(i=a.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new Oe;let{data:o,error:s}=yield this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(r){if(M(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}_getSessionFromURL(e,r){return h(this,null,function*(){try{if(!De())throw new or("No browser detected.");if(e.error||e.error_description||e.error_code)throw new or(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Bo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new or("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Bo("No code detected.");let{data:S,error:I}=yield this._exchangeCodeForSession(e.code);if(I)throw I;let q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:S.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=e;if(!s||!l||!a||!u)throw new or("No session defined in URL");let d=Math.round(Date.now()/1e3),m=parseInt(l),f=d+m;c&&(f=parseInt(c));let y=f-d;y*1e3<=rr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${m}s`);let _=f-m;d-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,f,d):d-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,f,d);let{data:b,error:C}=yield this._getUser(s);if(C)throw C;let L={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:m,expires_at:f,refresh_token:a,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:L,redirectType:e.type},error:null})}catch(i){if(M(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return h(this,null,function*(){let r=yield In(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)})}signOut(){return h(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return h(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({error:s});let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=yield this.admin.signOut(a,e);if(l&&!(_0(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(yield this._removeSession(),yield nn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))})}onAuthStateChange(e){let r=x0(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),h(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(e){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return h(this,arguments,function*(e,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield cr(this.storage,this.storageKey,!0));try{return yield O(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(M(a))return this._returnResult({data:null,error:a});throw a}})}getUserIdentities(){return h(this,null,function*(){var e;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}})}linkIdentity(e){return h(this,null,function*(){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)})}linkIdentityOAuth(e){return h(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>h(this,null,function*(){var a,l,c,u,d;let{data:m,error:f}=s;if(f)throw f;let y=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield O(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(o)throw o;return De()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:e.provider,url:i?.url},error:null})}catch(i){if(M(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}})}linkIdentityIdToken(e){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var i;try{let{error:o,data:{session:s}}=r;if(o)throw o;let{options:a,provider:l,token:c,access_token:u,nonce:d}=e,m=yield O(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:pt}),{data:f,error:y}=m;return y?this._returnResult({data:{user:null,session:null},error:y}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new en}):(f.session&&(yield this._saveSession(f.session),yield this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:y}))}catch(o){if(M(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}))})}unlinkIdentity(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield O(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}})}_refreshAccessToken(e){return h(this,null,function*(){let r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield O0(o=>h(this,null,function*(){return o>0&&(yield A0(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield O(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:pt})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&Tl(s)&&Date.now()+a-i<rr})}catch(i){if(this._debug(r,"error",i),M(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,r){return h(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),De()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}})}_recoverAndRefresh(){return h(this,null,function*(){var e,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=yield In(this.storage,this.storageKey);if(o&&this.userStorage){let a=yield In(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},yield lr(this.userStorage,this.storageKey+"-user",a)),o.user=(e=a?.user)!==null&&e!==void 0?e:Nl()}else if(o&&!o.user&&!o.user){let a=yield In(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,yield nn(this.storage,this.storageKey+"-user"),yield lr(this.storage,this.storageKey,o)):o.user=Nl()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&(yield this._removeSession());return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<xl;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${xl}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),Tl(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:l}=yield this._getUser(o.access_token);!l&&a?.user?(o.user=a.user,yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}})}_callRefreshToken(e){return h(this,null,function*(){var r,i;if(!e)throw new Oe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Go;let{data:s,error:a}=yield this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Oe;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),M(s)){let a={data:null,error:s};return Tl(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(e,r,i=!0){return h(this,null,function*(){let o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>h(this,null,function*(){try{yield l.callback(e,r)}catch(c){s.push(c)}}));if(yield Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(e){return h(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;let r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&(yield lr(this.userStorage,this.storageKey+"-user",{user:r.user}));let o=Object.assign({},r);delete o.user;let s=Zf(o);yield lr(this.storage,this.storageKey,s)}else{let o=Zf(r);yield lr(this.storage,this.storageKey,o)}})}_removeSession(){return h(this,null,function*(){this._debug("#_removeSession()"),yield nn(this.storage,this.storageKey),yield nn(this.storage,this.storageKey+"-code-verifier"),yield nn(this.storage,this.storageKey+"-user"),this.userStorage&&(yield nn(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&De()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return h(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),rr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>h(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return h(this,null,function*(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return h(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>h(this,null,function*(){try{let e=Date.now();try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-e)/rr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${rr}ms, refresh threshold is ${Il} ticks`),o<=Il&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof zo)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return h(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!De()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>h(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return h(this,null,function*(){let r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,r,i){return h(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield cr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`})}_unenroll(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;return s?this._returnResult({data:null,error:s}):yield O(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}})}_enroll(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=yield O(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((o=c?.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))}))}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}})}_verify(e){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?K0(e.webauthn.credential_response):Y0(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=yield O(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return c?this._returnResult({data:null,error:c}):(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))}))}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}))})}_challenge(e){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=yield O(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;let{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:q0(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:W0(l.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}))})}_challengeAndVerify(e){return h(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):yield this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})})}_listFactors(){return h(this,null,function*(){var e;let{data:{user:r},error:i}=yield this.getUser();if(i)return{data:null,error:i};let o={all:[],phone:[],totp:[],webauthn:[]};for(let s of(e=r?.factors)!==null&&e!==void 0?e:[])o.all.push(s),s.status==="verified"&&o[s.factor_type].push(s);return{data:o,error:null}})}_getAuthenticatorAssuranceLevel(){return h(this,null,function*(){var e,r;let{data:{session:i},error:o}=yield this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=Pl(i.access_token),a=null;s.aal&&(a=s.aal);let l=a;((r=(e=i.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");let u=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}})}_getAuthorizationDetails(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?yield O(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Oe})}))}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}})}_approveAuthorization(e,r){return h(this,null,function*(){try{return yield this._useSession(i=>h(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new Oe});let a=yield O(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&De()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(M(i))return this._returnResult({data:null,error:i});throw i}})}_denyAuthorization(e,r){return h(this,null,function*(){try{return yield this._useSession(i=>h(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new Oe});let a=yield O(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&De()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(M(i))return this._returnResult({data:null,error:i});throw i}})}_listOAuthGrants(){return h(this,null,function*(){try{return yield this._useSession(e=>h(this,null,function*(){let{data:{session:r},error:i}=e;return i?this._returnResult({data:null,error:i}):r?yield O(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Oe})}))}catch(e){if(M(e))return this._returnResult({data:null,error:e});throw e}})}_revokeOAuthGrant(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(yield O(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Oe})}))}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}})}fetchJwk(i){return h(this,arguments,function*(e,r={keys:[]}){let o=r.keys.find(c=>c.kid===e);if(o)return o;let s=Date.now();if(o=this.jwks.keys.find(c=>c.kid===e),o&&this.jwks_cached_at+y0>s)return o;let{data:a,error:l}=yield O(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,o=a.keys.find(c=>c.kid===e),!o)?null:o})}getClaims(i){return h(this,arguments,function*(e,r={}){try{let o=e;if(!o){let{data:_,error:b}=yield this.getSession();if(b||!_.session)return this._returnResult({data:null,error:b});o=_.session.access_token}let{header:s,payload:a,signature:l,raw:{header:c,payload:u}}=Pl(o);r?.allowExpired||P0(a.exp);let d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){let{error:_}=yield this.getUser(o);if(_)throw _;return{data:{claims:a,header:s,signature:l},error:null}}let m=N0(s.alg),f=yield crypto.subtle.importKey("jwk",d,m,!0,["verify"]);if(!(yield crypto.subtle.verify(m,f,l,S0(`${c}.${u}`))))throw new sr("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(o){if(M(o))return this._returnResult({data:null,error:o});throw o}})}}return n.nextInstanceID={},n})(),oh=cT;var uT=oh,sh=uT;var Vl=class extends sh{constructor(t){super(t)}};var $l=class{constructor(t,e,r){var i,o,s;this.supabaseUrl=t,this.supabaseKey=e;let a=h0(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:l0,realtime:u0,auth:Object.assign(Object.assign({},c0),{storageKey:l}),global:a0},u=f0(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=d0(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new Hy(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Vo(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Mo(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return h(this,null,function*(){var t,e;if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(e=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:s,flowType:a,lock:l,debug:c,throwOnError:u},d,m){let f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Vl({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:o,flowType:a,lock:l,debug:c,throwOnError:u,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new No(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,r)=>{this._handleTokenChanged(e,"CLIENT",r?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var Z0=(n,t,e)=>new $l(n,t,e);function dT(){if(typeof window<"u"||typeof process>"u")return!1;let n=process.version;if(n==null)return!1;let t=n.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}dT()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var ah={production:!1,supabaseUrl:"https://swyiuewqiwsimqadeino.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN3eWl1ZXdxaXdzaW1xYWRlaW5vIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQyNjQxMjgsImV4cCI6MjA3OTg0MDEyOH0.77SMgBFa7TRph73bGTb1DpzLKap5yyelUKWkmrG6lB8"};var et=(()=>{class n{constructor(){this._session=null,this.supabase=Z0(ah.supabaseUrl,ah.supabaseKey)}getSession(){return this.supabase.auth.getSession()}profile(e){return this.supabase.from("profiles").select("username, website, avatar_url").eq("id",e.id).single()}authChanges(e){return this.supabase.auth.onAuthStateChange(e)}signIn(e,r){return this.supabase.auth.signInWithPassword({email:e,password:r})}signOut(){return this.supabase.auth.signOut()}singInByToken(e){return this.supabase.auth.getUser(e)}signUp(e,r,i){return this.supabase.auth.signUp({email:e,password:r,options:{data:{username:i}}})}updateProfile(e){let r=re(x({},e),{updated_at:new Date});return this.supabase.from("profiles").upsert(r)}downLoadImage(e){return this.supabase.storage.from("avatars").download(e)}uploadAvatar(e,r){return this.supabase.storage.from("avatars").upload(e,r)}getParticipants(e){return h(this,null,function*(){try{let{data:r,error:i}=yield this.supabase.from("participants").select("*").isDistinct("oauth_id",e);if(i)throw i;let o=r.map(s=>({id:s.id,name:s.name,gifts:[],avatarUrl:"",is_ready:s.is_ready}));for(let s of o){let a=s.id,c=(yield this.getGift(a)).filter(u=>u.removed!=1).map(u=>({id:u.id,title:u.title,link:u.link,store:u.store}));s.gifts=c}return o}catch(r){throw console.error("[SupabaseService] getParticipants error",r),r}})}getAllParticipants(){return h(this,null,function*(){try{let{data:e,error:r}=yield this.supabase.from("participants").select("*");if(r)throw r;let i=[];for(let o of e){let a=(yield this.getGift(o.id)).filter(l=>l.removed!=1).map(l=>({id:l.id,title:l.title,link:l.link,store:l.store}));i.push({id:o.id,name:o.name,avatarUrl:"",is_ready:o.is_ready,friend_id:o.friend_id,gifts:a})}return i}catch(e){throw console.error("[SupabaseService] getAllParticipants error",e),e}})}getParticipant(e){return h(this,null,function*(){try{let{data:r,error:i}=yield this.supabase.from("participants").select("*").eq("oauth_id",e);if(i)throw i;let s=(yield this.getGift(r[0].id)).filter(l=>l.removed!=1).map(l=>({id:l.id,title:l.title,link:l.link,store:l.store}));return{id:r[0].id,gifts:s,name:r[0].name,avatarUrl:"",is_ready:r[0].is_ready,friend_id:r[0].friend_id,is_admin:r[0].is_admin}}catch(r){throw console.error("[SupabaseService] getParticipant error",r),r}})}saveParticipant(e){return h(this,null,function*(){try{let r={name:e.name,oauth_id:e.oauth_id},{data:i,error:o}=yield this.supabase.from("participants").insert([r]);if(o)throw o;return i}catch(r){throw console.error("[SupabaseService] saveParticipant error",r),r}})}saveGift(e,r){return h(this,null,function*(){try{let i={participant_id:r,link:e.link,title:e.title,store:e.store},{data:o,error:s}=yield this.supabase.from("gift").insert([i]);if(s)throw s;return o}catch(i){throw console.error("[SupabaseService] saveGift error",i),i}})}getGift(e){return h(this,null,function*(){try{let{data:r,error:i}=yield this.supabase.from("gift").select("*").eq("participant_id",e);if(i)throw i;return r}catch(r){throw console.error("[SupabaseService] getGift error",r),r}})}updateGift(e,r){return h(this,null,function*(){try{let i={link:e.link,title:e.title,store:e.store,removed:r},{data:o,error:s}=yield this.supabase.from("gift").update(i).eq("id",e.id);if(s)throw s;return o}catch(i){throw console.error("[SupabaseService] updateGift error",i),i}})}updatedParticipantToReady(e,r){return h(this,null,function*(){try{let{data:i,error:o}=yield this.supabase.from("participants").update({is_ready:r}).eq("oauth_id",e);if(o)throw o;return i}catch(i){throw console.error("[SupabaseService] updatedParticipantToReady error",i),i}})}getInfoEvent(){return h(this,null,function*(){try{let{data:e,error:r}=yield this.supabase.from("exchanges").select("*").eq("id",1);if(r)throw r;let i={id:e[0].id,date_event:e[0].date_event,money_event:e[0].money_event,start_event:e[0].start_event,time_event:e[0].time_event,upload_gift:e[0].upload_gift};return localStorage.setItem("event",JSON.stringify(i)),i}catch(e){throw console.error("[SupabaseService] getInfoEvent error",e),e}})}assignSecretSanta(e){return h(this,null,function*(){try{let r=e.map(i=>this.supabase.from("participants").update({friend_id:i.friend_id}).eq("id",i.id));yield Promise.all(r)}catch(r){throw console.error("[SupabaseService] assignSecretSanta error",r),r}})}getAllGift(){return h(this,null,function*(){try{let{data:e,error:r}=yield this.supabase.from("gift").select("*");if(r)throw r;return e}catch(e){throw console.error("[SupabaseService] getGift error",e),e}})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function fT(n,t){n&1&&(p(0,"span"),v(1,"Entrar al intercambio"),g())}function hT(n,t){n&1&&(p(0,"span",31),v(1,"Conectando..."),g())}var X0=(()=>{class n{constructor(){this.alertService=E(bn),this.supabaseService=E(et),this.route=E(It),this.router=E(We),this.email=F(""),this.password=F(""),this.showPassword=F(!1),this.isLoading=F(!1),this.rememberMe=F(!1),this.dateEvent=F("-"),this.timeEvent=F("-"),this.moneyEvent=F("-"),this.startEvent=F("-"),this.uploadGift=F("-")}ngOnInit(){this.validateRedirect(),this.supabaseService.getInfoEvent().then(()=>this.getInfoEvent())}validateRedirect(){let{info:e,token:r,email:i,succes:o}=this.route.snapshot.queryParams;this.supabaseService.singInByToken(r).then(s=>{if(s.data.user?.role==="authenticated")this.setLocalStore(s.data),this.router.navigate(["/intercambio"]);else if(!this.route.snapshot.queryParams){this.alertService.info("Cuenta no cofirmada","Revisa tu correo, para validar tu cuenta y participar en nuestro intercambios 2025!");return}})}togglePasswordVisibility(){this.showPassword.set(!this.showPassword())}onLogin(){return h(this,null,function*(){if(!this.email()||!this.password()){this.alertService.error("Campos requeridos","Por favor completa todos los campos");return}this.isLoading.set(!0);let{error:e,data:r}=yield this.supabaseService.signIn(this.email(),this.password());if(e){e.message==="Email not confirmed"?this.alertService.info("Correo no confirmado","Revisa tu correo, para validar tu cuenta y participar en nuestro intercambios 2025!"):e.message==="Invalid login credentials"&&this.alertService.error("Datos incorrectos","Correo o password incorrectos",4e3),this.isLoading.set(!1);return}this.isLoading.set(!1),this.setLocalStore(r),this.alertService.success("\xA1Bienvenido de vuelta!","Has iniciado sesi\xF3n correctamente",3800),this.router.navigate(["/intercambio"])})}onMagicLinkLogin(){if(!this.email()){alert("Por favor ingresa tu correo electr\xF3nico");return}this.isLoading.set(!0),setTimeout(()=>{this.isLoading.set(!1),alert(`\xA1Magic link enviado a ${this.email()}! Revisa tu correo.`)},1500)}setLocalStore(e){e?.user?.id&&localStorage.setItem("uuid",e.user.id);let r=e?.user?.user_metadata?.username||e?.user?.email||"";r&&localStorage.setItem("username",r)}getInfoEvent(){let e=JSON.parse(localStorage.getItem("event"));this.dateEvent.set(e.date_event),this.timeEvent.set(e.time_event),this.moneyEvent.set(e.money_event),this.startEvent.set(e.start_event),this.uploadGift.set(e.upload_gift)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ke({type:n,selectors:[["app-auth"]],standalone:!0,features:[Le],decls:74,vars:10,consts:[[1,"holiday-auth"],[1,"snowfall"],[1,"snowflake","s1"],[1,"snowflake","s2"],[1,"snowflake","s3"],[1,"snowflake","s4"],[1,"snowflake","s5"],[1,"fairy-lights"],[1,"auth-shell"],[1,"hero-panel"],[1,"brand-chip"],[1,"hero-banner"],[1,"banner-label"],[1,"banner-value"],[1,"hero-list"],[1,"form-panel","glass-card"],[1,"form-header"],[1,"eyebrow"],[1,"subtitle"],[1,"badge","warm"],[1,"form-grid",3,"ngSubmit"],[1,"field"],["type","email","id","email","name","email","placeholder","navidad@tuempresa.com","required","",3,"ngModelChange","ngModel"],[1,"password-field"],["id","password","name","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",3,"ngModelChange","type","ngModel"],["type","button","aria-label","Mostrar contrase\xF1a",1,"ghost",3,"click"],["type","submit",1,"cta",3,"disabled"],[4,"ngIf"],["class","loading",4,"ngIf"],[1,"panel-footer"],["routerLink","/register"],[1,"loading"]],template:function(r,i){r&1&&(p(0,"section",0)(1,"div",1)(2,"span",2),v(3,"\u273C"),g(),p(4,"span",3),v(5,"\u2746"),g(),p(6,"span",4),v(7,"\u273B"),g(),p(8,"span",5),v(9,"\u2745"),g(),p(10,"span",6),v(11,"\u273C"),g()(),p(12,"div",7),ge(13,"span")(14,"span")(15,"span")(16,"span")(17,"span"),g(),p(18,"div",8)(19,"section",9)(20,"div",10),v(21,"Intercambio 2025"),g(),p(22,"h1"),v(23," Vive el "),p(24,"span"),v(25,"esp\xEDritu navide\xF1o"),g(),v(26," con tu equipo "),g(),p(27,"p"),v(28," Coordina el sorteo, comparte ideas de regalos y mant\xE9n a tu tribu conectada desde un \xFAnico espacio. "),g(),p(29,"div",11)(30,"div")(31,"p",12),v(32,"Pr\xF3ximo sorteo"),g(),p(33,"p",13),v(34),g()(),p(35,"div")(36,"p",12),v(37,"Presupuesto sugerido"),g(),p(38,"p",13),v(39),g()()(),p(40,"ul",14)(41,"li"),v(42,"\u{1F381} Guarda hasta cinco ideas de regalos por participante."),g()()(),p(43,"section",15)(44,"div",16)(45,"div")(46,"p",17),v(47,"Centro de control"),g(),p(48,"h2"),v(49,"Inicia sesi\xF3n"),g(),p(50,"p",18),v(51," Ingresa tus credenciales para continuar organizando el intercambio. "),g()(),p(52,"div",19),v(53,"\u{1F385} Seguridad reforzada"),g()(),p(54,"form",20),V("ngSubmit",function(){return i.onLogin()}),p(55,"label",21)(56,"span"),v(57,"E-mail"),g(),p(58,"input",22),qe("ngModelChange",function(s){return Ze(i.email,s)||(i.email=s),s}),g()(),p(59,"label",21)(60,"span"),v(61,"Password"),g(),p(62,"div",23)(63,"input",24),qe("ngModelChange",function(s){return Ze(i.password,s)||(i.password=s),s}),g(),p(64,"button",25),V("click",function(){return i.togglePasswordVisibility()}),v(65),g()()(),p(66,"button",26),te(67,fT,2,0,"span",27)(68,hT,2,0,"span",28),g()(),p(69,"footer",29)(70,"p"),v(71,"\xBFA\xFAn no tienes acceso?"),g(),p(72,"a",30),v(73,"Crea una cuenta y comparte la lista con tu equipo."),g()()()()()),r&2&&(w(34),Wi("",i.startEvent()," \xB7 ",i.timeEvent(),""),w(5),ne(i.moneyEvent()),w(19),ze("ngModel",i.email),w(5),R("type",i.showPassword()?"text":"password"),ze("ngModel",i.password),w(2),fe(" ",i.showPassword()?"Ocultar":"Mostrar"," "),w(),R("disabled",i.isLoading()),w(),R("ngIf",!i.isLoading()),w(),R("ngIf",i.isLoading()))},dependencies:[it,Ft,ai,rl,wn,si,tl,Do,Xn,Eo,Ka],styles:['[_nghost-%COMP%]{display:block;font-family:Inter,Segoe UI,sans-serif;color:#122029}.holiday-auth[_ngcontent-%COMP%]{min-height:100vh;padding:3vw;background:radial-gradient(circle at top,#142d3f,#0c1a24 40%,#050c13 75%);position:relative;overflow:hidden}.snowfall[_ngcontent-%COMP%]{pointer-events:none;position:absolute;inset:0;opacity:.35}.snowflake[_ngcontent-%COMP%]{position:absolute;color:#fffc;font-size:clamp(1rem,1.4vw,1.8rem);animation:_ngcontent-%COMP%_snow 12s linear infinite}.snowflake.s1[_ngcontent-%COMP%]{top:5%;left:10%;animation-delay:0s}.snowflake.s2[_ngcontent-%COMP%]{top:15%;right:18%;animation-delay:2s}.snowflake.s3[_ngcontent-%COMP%]{top:45%;left:30%;animation-delay:4s}.snowflake.s4[_ngcontent-%COMP%]{bottom:15%;right:12%;animation-delay:1s}.snowflake.s5[_ngcontent-%COMP%]{bottom:25%;left:5%;animation-delay:5s}@keyframes _ngcontent-%COMP%_snow{0%{transform:translateY(-20px) rotate(0);opacity:0}15%{opacity:1}85%{opacity:1}to{transform:translateY(60px) rotate(15deg);opacity:0}}.fairy-lights[_ngcontent-%COMP%]{position:absolute;top:2rem;left:5%;width:90%;display:flex;justify-content:space-between;z-index:1}.fairy-lights[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:14px;height:14px;border-radius:50%;background:#f7c56a;box-shadow:0 0 12px #f7c56acc;animation:_ngcontent-%COMP%_twinkle 2.4s ease-in-out infinite}.fairy-lights[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){background:#ff7077;animation-delay:.4s}.fairy-lights[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){background:#66d7d1;animation-delay:.8s}.fairy-lights[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){background:#f7c56a;animation-delay:1.2s}.fairy-lights[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(5){background:#bcd9fb;animation-delay:1.6s}@keyframes _ngcontent-%COMP%_twinkle{0%,to{opacity:.5;transform:translateY(0)}50%{opacity:1;transform:translateY(4px)}}.auth-shell[_ngcontent-%COMP%]{position:relative;z-index:2;display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:clamp(2rem,4vw,4rem);align-items:center}.hero-panel[_ngcontent-%COMP%]{color:#f7f2eb;padding:clamp(1rem,2vw,2.5rem)}.brand-chip[_ngcontent-%COMP%]{display:inline-flex;padding:.35rem 1rem;border-radius:999px;background:#ffffff26;color:#ffe3c1;font-size:.85rem;letter-spacing:.1em;text-transform:uppercase}.hero-panel[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(2rem,3.4vw,3.6rem);margin:1.5rem 0;line-height:1.1}.hero-panel[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#f97b90;text-shadow:0 8px 25px rgba(249,123,144,.4)}.hero-panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:36ch;font-size:1.05rem;line-height:1.6;color:#cfd6dd}.hero-banner[_ngcontent-%COMP%]{margin:2rem 0;padding:1.4rem;border-radius:18px;background:#ffffff1f;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.banner-label[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.06em;color:#ffffffb3;font-size:.75rem;margin-bottom:.2rem}.banner-value[_ngcontent-%COMP%]{font-size:1.25rem;color:#fff;margin:0}.hero-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:2rem 0;border-left:2px solid rgba(255,255,255,.25)}.hero-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.75rem 1rem;color:#ffffffe6;font-size:.95rem}.hero-stats[_ngcontent-%COMP%]{display:flex;gap:2rem}.hero-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:block;font-size:2.4rem;font-weight:600;color:#fff}.hero-stats[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#ffffffb3}.glass-card[_ngcontent-%COMP%]{background:#fffffffa;border-radius:32px;padding:clamp(1.5rem,3vw,3rem);box-shadow:0 30px 80px #09152173,inset 0 0 0 1px #ffffff4d}.form-header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;gap:1rem;align-items:center;margin-bottom:1.5rem}.eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.2em;font-size:.75rem;color:#8193a2}.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:.3rem 0;font-size:1.9rem;color:#0f1c26}.subtitle[_ngcontent-%COMP%]{color:#51606b;margin:0}.badge.warm[_ngcontent-%COMP%]{background:#fff0d8;color:#a55611;padding:.5rem 1rem;border-radius:999px;font-weight:600;font-size:.85rem}.form-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:.85rem;color:#4c5560;gap:.4rem}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid rgba(15,28,38,.1);border-radius:16px;padding:.95rem 1.1rem;font-size:1rem;transition:border-color .2s ease,box-shadow .2s ease}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#f97b90;outline:none;box-shadow:0 0 0 3px #f97b9033}.password-field[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#f8fbff;border-radius:16px;border:1px solid rgba(15,28,38,.08)}.password-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;background:transparent;flex:1;padding:.95rem 1rem;box-shadow:none}.ghost[_ngcontent-%COMP%]{border:none;background:transparent;color:#f97b90;font-weight:600;cursor:pointer}.form-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1rem;font-size:.85rem;color:#6b7580}.switch[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer}.link-btn[_ngcontent-%COMP%]{background:none;border:none;color:#122029;text-decoration:underline;cursor:pointer}.cta[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f97b90,#f9a37b);color:#fff;border:none;border-radius:18px;padding:1rem 1.2rem;font-size:1rem;font-weight:700;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease}.cta[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.cta[_ngcontent-%COMP%]:not(:disabled):hover{transform:translateY(-2px);box-shadow:0 10px 25px #f97b9059}.loading[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.4rem}.loading[_ngcontent-%COMP%]:after{content:"";width:14px;height:14px;border-radius:50%;border:2px solid rgba(255,255,255,.4);border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s linear infinite}.divider[_ngcontent-%COMP%]{text-align:center;margin:1.5rem 0;position:relative;color:#7d8792;font-size:.85rem}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;width:30%;height:1px;background:#0000001a}.divider[_ngcontent-%COMP%]:before{left:0}.divider[_ngcontent-%COMP%]:after{right:0}.ghost.full-width[_ngcontent-%COMP%]{width:100%;border:1px dashed rgba(249,123,144,.5);border-radius:16px;padding:.85rem;font-weight:600}.panel-footer[_ngcontent-%COMP%]{margin-top:1.5rem;text-align:center;color:#5b6570}.panel-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f97b90;font-weight:600}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media (max-width: 768px){.holiday-auth[_ngcontent-%COMP%]{padding:2rem 1.5rem}.hero-panel[_ngcontent-%COMP%]{text-align:left}.form-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}']})}}return n})();var e_=(()=>{class n{constructor(){this.currentParticipant={id:"1",name:"Adrian",gifts:[{id:"1",title:"Camara",store:"Camara Exterior"},{id:"2",title:"Camara",store:"Camara Exterior"},{id:"3",title:"Camara",store:"Camara Exterior"}]},this.participantList=[{id:"1",name:"Adrian",gifts:[{id:"4",title:"Camara",store:"Camara Exterior"},{id:"5",title:"Camara",store:"Camara Exterior"},{id:"6",title:"Camara",store:"Camara Exterior"}]},{id:"2",name:"Ramon",gifts:[{id:"7",title:"Camara",store:"Camara Exterior"},{id:"8",title:"Camara",store:"Camara Exterior"}]},{id:"3",name:"Osman",gifts:[]},{id:"4",name:"Fer",gifts:[]}]}getCurrentParticipant(){return this.currentParticipant}getParticipants(){return this.participantList}getDrawnStatu(){return!1}addNewGift(e){this.currentParticipant.gifts.push(e)}removeGift(e){this.currentParticipant.gifts=this.currentParticipant.gifts.filter(r=>r.id!==e.id)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function gT(n,t){if(n&1){let e=Te();p(0,"button",19),V("click",function(){Y(e);let i=A();return J(i.goToAdminDashboard())}),v(1,"Panel admin"),g()}}function mT(n,t){if(n&1){let e=Te();p(0,"button",38),V("click",function(){Y(e);let i=A();return J(i.openDialogNewGift())}),v(1,"Agregar idea"),g()}}function vT(n,t){n&1&&(p(0,"div",39)(1,"p"),v(2,"A\xFAn no registras regalos."),g(),p(3,"small"),v(4,"Comienza a\xF1adiendo una experiencia, un detalle hecho a mano o un enlace de referencia."),g()())}function yT(n,t){if(n&1){let e=Te();p(0,"li",40),V("click",function(){let i=Y(e).$implicit,o=A();return J(o.openGift(i))}),p(1,"div",41)(2,"div")(3,"p"),v(4),g(),p(5,"small"),v(6),g()(),p(7,"span"),v(8,"\u{1F381}"),g()()()}if(n&2){let e=t.$implicit;w(4),ne(e.title),w(2),ne(e.store||e.link||"Sin referencia")}}function _T(n,t){if(n&1&&(p(0,"li")(1,"div",45),ge(2,"img",11),p(3,"div")(4,"p"),v(5),g(),p(6,"small"),v(7),g()()(),p(8,"span",46),v(9),g()()),n&2){let e=t.$implicit;w(2),R("src",e.avatarUrl||"assets/default-avatar.png",Bi),w(3),ne(e.name),w(2),fe("",e.gifts.length," regalos"),w(),rt("ready",e.is_ready),w(),fe(" ",e.is_ready?"Listo":"Pendiente"," ")}}function wT(n,t){if(n&1&&(ld(0),p(1,"header")(2,"div")(3,"p",13),v(4,"Equipo"),g(),p(5,"h2"),v(6,"Participantes"),g()(),p(7,"p",42),v(8,"Monitorea cu\xE1ntos regalos carg\xF3 cada persona antes del sorteo."),g()(),p(9,"ul",43),te(10,_T,10,6,"li",44),g(),cd()),n&2){let e=A();w(10),R("ngForOf",e.participants)}}function bT(n,t){if(n&1&&(p(0,"div",50),ge(1,"img",51),p(2,"div")(3,"h3"),v(4),g(),p(5,"p"),v(6),g()()()),n&2){let e=A(2);w(),R("src",e.myAssignedFriend.avatarUrl||"assets/default-avatar.png",Bi),w(3),ne(e.myAssignedFriend.name),w(2),fe("",e.myAssignedFriend.gifts.length," ideas guardadas")}}function CT(n,t){if(n&1){let e=Te();p(0,"button",52),V("click",function(){Y(e);let i=A(2);return J(i.startWheelReveal())}),v(1," Gira la ruleta y conoce a tu amigo secreto! "),g()}}function ET(n,t){if(n&1){let e=Te();p(0,"li",40),V("click",function(){let i=Y(e).$implicit,o=A(3);return J(o.openGift(i))}),p(1,"div",41)(2,"div")(3,"p"),v(4),g(),p(5,"small"),v(6),g()(),p(7,"span"),v(8,"\u2728"),g()()()}if(n&2){let e=t.$implicit;w(4),ne(e.title),w(2),ne(e.store||e.link||"Sin referencia")}}function DT(n,t){if(n&1&&(p(0,"ul",53),te(1,ET,9,2,"li",29),g()),n&2){let e=A(2);w(),R("ngForOf",e.myAssignedFriend.gifts)}}function ST(n,t){n&1&&(p(0,"div",39)(1,"p"),v(2,"Espera la confirmaci\xF3n del sorteo."),g(),p(3,"small"),v(4,"Te avisaremos en cuanto tu amigo secreto est\xE9 asignado."),g()())}function IT(n,t){if(n&1&&(p(0,"header")(1,"div")(2,"p",13),v(3,"Sorteo"),g(),p(4,"h2"),v(5,"Tu amigo secreto"),g()(),p(6,"p",42),v(7,"Mant\xE9n el misterio pero revisa su lista para planear la sorpresa perfecta."),g()(),te(8,bT,7,3,"div",47)(9,CT,2,0,"button",48)(10,DT,2,1,"ul",49)(11,ST,5,0,"ng-template",null,1,Yi)),n&2){let e=qi(12),r=A();w(8),R("ngIf",r.myAssignedFriend&&r.wheelAlreadyPlayed)("ngIfElse",e),w(),R("ngIf",r.myAssignedFriend&&!r.wheelAlreadyPlayed),w(),R("ngIf",r.myAssignedFriend&&r.wheelAlreadyPlayed)}}function xT(n,t){if(n&1&&(p(0,"span",64)(1,"span",65),v(2),g()()),n&2){let e=t.$implicit,r=t.index,i=A(2);Zt("transform",i.wheelLabelTransform(r)),w(2),ne(e.name)}}function MT(n,t){if(n&1&&ge(0,"span"),n&2){let e=t.$implicit;Zt("animation-delay",e*70+"ms")("left",e*37%100+"%")}}function TT(n,t){if(n&1&&(p(0,"div",66),te(1,MT,1,4,"span",67),g()),n&2){let e=A(2);w(),R("ngForOf",e.confettiPieces)}}function AT(n,t){if(n&1){let e=Te();p(0,"div",54)(1,"div",55),V("click",function(){Y(e);let i=A();return J(i.closeWheelOverlay())}),g(),p(2,"div",56)(3,"button",57),V("click",function(){Y(e);let i=A();return J(i.closeWheelOverlay(!0))}),v(4,"\xD7"),g(),p(5,"p",13),v(6,"Ruleta"),g(),p(7,"h3"),v(8,"As\xED se decidi\xF3 tu amigo secreto"),g(),p(9,"p",42),v(10,"Observa el giro y celebra cuando se detenga en tu compa\xF1ero asignado."),g(),p(11,"div",58),ge(12,"div",59),p(13,"div",60),te(14,xT,3,3,"span",61),g()(),p(15,"p",62),v(16,"La ruleta solo aparecer\xE1 una vez por participante."),g()(),te(17,TT,2,1,"div",63),g()}if(n&2){let e=A();w(13),Zt("--spin-angle",e.wheelRotation+"deg")("--spin-duration",e.wheelDuration+"ms")("background",e.wheelGradient)("transform","rotate("+e.wheelStaticAngle+"deg)"),rt("spinning",e.wheelSpinning),w(),R("ngForOf",e.participants),w(3),R("ngIf",e.showConfetti)}}function OT(n,t){if(n&1){let e=Te();p(0,"div",68)(1,"div",69),V("click",function(){Y(e);let i=A();return J(i.closeGift())}),g(),p(2,"div",70)(3,"button",57),V("click",function(){Y(e);let i=A();return J(i.closeGift())}),v(4,"\xD7"),g(),p(5,"header")(6,"p",13),v(7,"Editar regalo"),g(),p(8,"h3"),v(9,"Actualiza la informaci\xF3n"),g()(),p(10,"label",71)(11,"span"),v(12,"Nombre"),g(),p(13,"input",72),qe("ngModelChange",function(i){Y(e);let o=A();return Ze(o.selectedGift.title,i)||(o.selectedGift.title=i),J(i)}),g()(),p(14,"label",71)(15,"span"),v(16,"Tienda"),g(),p(17,"input",72),qe("ngModelChange",function(i){Y(e);let o=A();return Ze(o.selectedGift.store,i)||(o.selectedGift.store=i),J(i)}),g()(),p(18,"label",71)(19,"span"),v(20,"Link"),g(),p(21,"input",72),qe("ngModelChange",function(i){Y(e);let o=A();return Ze(o.selectedGift.link,i)||(o.selectedGift.link=i),J(i)}),g()(),p(22,"div",73)(23,"button",19),V("click",function(){Y(e);let i=A();return J(i.closeGift())}),v(24,"Cancelar"),g(),p(25,"div",74)(26,"button",75),V("click",function(){Y(e);let i=A();return J(i.removeGift(i.selectedGift))}),v(27,"Eliminar"),g(),p(28,"button",76),V("click",function(){Y(e);let i=A();return J(i.updateGift(i.selectedGift))}),v(29,"Guardar"),g()()()()()}if(n&2){let e=A();w(13),ze("ngModel",e.selectedGift.title),w(4),ze("ngModel",e.selectedGift.store),w(4),ze("ngModel",e.selectedGift.link),w(4),rt("hidden",e.isDrawn)}}function RT(n,t){if(n&1){let e=Te();p(0,"div",68)(1,"div",69),V("click",function(){Y(e);let i=A();return J(i.closeGift())}),g(),p(2,"div",70)(3,"button",57),V("click",function(){Y(e);let i=A();return J(i.closeGift())}),v(4,"\xD7"),g(),p(5,"header")(6,"p",13),v(7,"Nueva idea"),g(),p(8,"h3"),v(9,"Describe el regalo"),g()(),p(10,"label",71)(11,"span"),v(12,"Nombre"),g(),p(13,"input",72),qe("ngModelChange",function(i){Y(e);let o=A();return Ze(o.newGift.title,i)||(o.newGift.title=i),J(i)}),g()(),p(14,"label",71)(15,"span"),v(16,"Tienda"),g(),p(17,"input",72),qe("ngModelChange",function(i){Y(e);let o=A();return Ze(o.newGift.store,i)||(o.newGift.store=i),J(i)}),g()(),p(18,"label",71)(19,"span"),v(20,"Link"),g(),p(21,"input",72),qe("ngModelChange",function(i){Y(e);let o=A();return Ze(o.newGift.link,i)||(o.newGift.link=i),J(i)}),g()(),p(22,"div",73)(23,"button",19),V("click",function(){Y(e);let i=A();return J(i.closeGift())}),v(24,"Cancelar"),g(),p(25,"button",76),V("click",function(){Y(e);let i=A();return J(i.addGift(i.newGift))}),v(26,"Guardar idea"),g()()()()}if(n&2){let e=A();w(13),ze("ngModel",e.newGift.title),w(4),ze("ngModel",e.newGift.store),w(4),ze("ngModel",e.newGift.link)}}function PT(n,t){if(n&1){let e=Te();p(0,"div",77)(1,"div",78)(2,"h3"),v(3,"Confirma tu solicitud al sorteo!!!"),g(),p(4,"p"),v(5),g(),p(6,"div",79)(7,"button",19),V("click",function(){Y(e);let i=A();return J(i.showConfirm.set(!1))}),v(8,"Cancelar"),g(),p(9,"button",75),V("click",function(){Y(e);let i=A();return J(i.requestDraw())}),v(10,"S\xED, solicitar sorteo"),g()()()()}if(n&2){let e=A();w(5),fe(" ",e.showTextDraw()," ")}}var t_=(()=>{class n{constructor(e,r,i){this.participantService=e,this.supabaseService=r,this.route=i,this.router=E(We),this.participants=[],this.drawResult=!1,this.expandedUserId=null,this.selectedGift=null,this.newGift=null,this.userEmail="",this.wheelAlreadyPlayed=!1,this.showWheelOverlay=!1,this.wheelSpinning=!1,this.wheelRotation=0,this.wheelDuration=5200,this.showConfetti=!1,this.confettiPieces=Array.from({length:28}).map((o,s)=>s),this.wheelStaticAngle=0,this.dateEvent=F(""),this.timeEvent=F(""),this.moneyEvent=F(""),this.startEvent=F(""),this.uploadGift=F(""),this.isAdminUser=F(!1),this.showConfirm=F(!1),this.showTextDraw=F(""),r.getParticipant(localStorage.getItem("uuid")).then(o=>{if(this.currentUser=o,this.drawResult=this.currentUser.is_ready,this.assignedFriend=this.currentUser.friend_id,this.isAdminUser.set(!!this.currentUser.is_admin),this.currentUser?.id){let s=this.getWheelStorageKey();this.wheelAlreadyPlayed=localStorage.getItem(s)==="true"}}),r.getParticipants(localStorage.getItem("uuid")).then(o=>{this.participants=o})}ngOnInit(){this.route.snapshot.queryParamMap.get("email"),this.getInfoEvent()}ngOnDestroy(){this.stopSpinSound(),this.audioCtx&&this.audioCtx.close().catch(()=>{})}get isDrawn(){return this.drawResult}get myAssignedFriend(){return this.isDrawn&&this.participants.find(e=>e.id===this.assignedFriend)||null}get wheelGradient(){if(!this.participants?.length)return"#0f1f2e";let e=["#f97b90","#66d7d1","#f7c56a","#78e6b2","#bcd9ff","#ff9bad"];return`conic-gradient(${this.participants.map((i,o)=>{let s=o/this.participants.length*360,a=(o+1)/this.participants.length*360;return`${e[o%e.length]} ${s}deg ${a}deg`}).join(",")})`}get canAddGift(){return this.currentUser.gifts.length<5}toggleUserExpand(e){this.expandedUserId=this.expandedUserId===e?null:e}openGift(e){this.selectedGift=e,document.body.style.overflow="hidden"}openDialogNewGift(){this.newGift={id:"",title:"",store:"",link:""},document.body.style.overflow="hidden"}closeGift(){this.selectedGift=null,this.newGift=null,document.body.style.overflow="",this.supabaseService.getParticipant(localStorage.getItem("uuid")).then(e=>{this.currentUser=e})}requestDraw(){return h(this,null,function*(){if(!this.showConfirm()){this.showConfirm.set(!0);let e=`Recuerda una vez confirmado el sorteo no hay marcha atras! 
\xBFDeseas continuar?`;this.currentUser.gifts.length<3&&(e=`Sin ideas? Recuerda una vez confirmado el sorteo no hay marcha atras! 
Aun puedes agregar m\xE1s regalos!`),this.showTextDraw.set(e);return}this.showConfirm.set(!1),this.showTextDraw.set(""),yield this.supabaseService.updatedParticipantToReady(localStorage.getItem("uuid"),!0),this.drawResult=!0})}addGift(e){this.supabaseService.saveGift(e,this.currentUser.id),this.closeGift()}removeGift(e){this.supabaseService.updateGift(e,1),this.closeGift()}updateGift(e){this.supabaseService.updateGift(e,0),this.closeGift()}startWheelReveal(){if(!this.myAssignedFriend||this.wheelAlreadyPlayed)return;let e=this.participants.length||1,r=Math.max(this.participants.findIndex(l=>l.id===this.myAssignedFriend?.id),0),i=360/e,a=(270-(r*i+i/2)+360)%360;this.wheelRotation=1440+a,this.wheelStaticAngle=0,this.showWheelOverlay=!0,this.wheelSpinning=!0,this.showConfetti=!1,this.startSpinSound(),clearTimeout(this.wheelTimeout),clearTimeout(this.confettiTimeout),this.wheelTimeout=setTimeout(()=>{this.wheelSpinning=!1,this.showConfetti=!0,this.wheelAlreadyPlayed=!0,this.wheelStaticAngle=(this.wheelRotation%360+360)%360,this.stopSpinSound(),this.playConfettiSound(),this.currentUser?.id&&localStorage.setItem(this.getWheelStorageKey(),"true"),this.confettiTimeout=setTimeout(()=>{this.showConfetti=!1},2500)},this.wheelDuration)}closeWheelOverlay(e=!1){this.wheelSpinning&&!e||(this.showWheelOverlay=!1,this.showConfetti=!1,this.stopSpinSound(),clearTimeout(this.wheelTimeout),clearTimeout(this.confettiTimeout))}wheelLabelTransform(e){let i=360/(this.participants.length||1),o=e*i+i/2,s=(this.wheelStaticAngle%360+360)%360,a=o+s;return`rotate(${o}deg) translateY(-50%) rotate(${-a}deg)`}getWheelStorageKey(){return`wheel-spin-${this.currentUser?.id}`}ensureAudioContext(){if(!(typeof window>"u")){if(!this.audioCtx){let e=window.AudioContext||window.webkitAudioContext;if(!e)return;this.audioCtx=new e}return this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{}),this.audioCtx}}startSpinSound(){let e=this.ensureAudioContext();if(!e)return;this.stopSpinSound();let r=e.createOscillator(),i=e.createGain();r.type="triangle",r.frequency.setValueAtTime(220,e.currentTime);let o=this.wheelDuration/1e3;r.frequency.linearRampToValueAtTime(660,e.currentTime+o),i.gain.setValueAtTime(1e-4,e.currentTime),i.gain.linearRampToValueAtTime(.08,e.currentTime+.2),r.connect(i).connect(e.destination),r.start(),this.spinOscillator=r,this.spinGain=i}stopSpinSound(){if(!this.spinOscillator||!this.spinGain||!this.audioCtx)return;let e=this.audioCtx.currentTime;this.spinGain.gain.exponentialRampToValueAtTime(1e-4,e+.15),this.spinOscillator.stop(e+.2),this.spinOscillator.disconnect(),this.spinGain.disconnect(),this.spinOscillator=void 0,this.spinGain=void 0}playConfettiSound(){let e=this.ensureAudioContext();if(!e)return;let r=e.createOscillator(),i=e.createGain();r.type="sine",r.frequency.setValueAtTime(660,e.currentTime),r.frequency.exponentialRampToValueAtTime(1320,e.currentTime+.4),i.gain.setValueAtTime(1e-4,e.currentTime),i.gain.linearRampToValueAtTime(.15,e.currentTime+.05),i.gain.exponentialRampToValueAtTime(1e-4,e.currentTime+.6),r.connect(i).connect(e.destination),r.start(),r.stop(e.currentTime+.6)}addParticiapant(){let e={name:"Adrian Oswaldo",gifts:[]};this.supabaseService.saveParticipant(e).catch(()=>{})}signOut(){return h(this,null,function*(){let{error:e}=yield this.supabaseService.signOut();e?console.error("Error signing out:",e.message):(localStorage.clear(),localStorage.setItem(this.getWheelStorageKey(),"true"),this.router.navigate(["/login"]))})}getInfoEvent(){let e=JSON.parse(localStorage.getItem("event"));this.dateEvent.set(e.date_event),this.timeEvent.set(e.time_event),this.moneyEvent.set(e.money_event),this.startEvent.set(e.start_event),this.uploadGift.set(e.upload_gift)}goToAdminDashboard(){this.router.navigate(["/admin"])}static{this.\u0275fac=function(r){return new(r||n)(z(e_),z(et),z(It))}}static{this.\u0275cmp=ke({type:n,selectors:[["app-exchange"]],standalone:!0,features:[Le],decls:115,vars:31,consts:[["assignedView",""],["waiting",""],[1,"exchange-hub"],[1,"bg-ornaments"],[1,"orb","orb-1"],[1,"orb","orb-2"],[1,"orb","orb-3"],[1,"garland"],[1,"hub-header","glass"],[1,"identity"],[1,"avatar-ring"],["alt","avatar",3,"src"],[1,"status-dot"],[1,"eyebrow"],[1,"header-cards"],[1,"stat-card"],[1,"stat-card","status"],[1,"header-actions"],["class","ghost",3,"click",4,"ngIf"],[1,"ghost",3,"click"],[1,"primary",3,"click","disabled"],[1,"info-banner"],[1,"dashboard"],[1,"card","gifts"],["class","primary subtle",3,"click",4,"ngIf"],[1,"progress-bar"],[1,"progress-copy"],["class","empty-state",4,"ngIf"],[1,"gift-grid"],[3,"click",4,"ngFor","ngForOf"],[1,"hint"],[1,"card","participation"],[4,"ngIf","ngIfElse"],[1,"secondary-grid"],[1,"card","highlight"],["class","wheel-overlay",4,"ngIf"],["class","modal",4,"ngIf"],["class","confirm-overlay",4,"ngIf"],[1,"primary","subtle",3,"click"],[1,"empty-state"],[3,"click"],[1,"gift-chip"],[1,"subtitle"],[1,"participant-list"],[4,"ngFor","ngForOf"],[1,"person"],[1,"badge"],["class","assigned-card glass",4,"ngIf","ngIfElse"],["class","primary wheel-btn",3,"click",4,"ngIf"],["class","gift-grid alt",4,"ngIf"],[1,"assigned-card","glass"],["alt","Amigo secreto",3,"src"],[1,"primary","wheel-btn",3,"click"],[1,"gift-grid","alt"],[1,"wheel-overlay"],[1,"wheel-backdrop",3,"click"],[1,"wheel-modal","glass"],[1,"modal-close",3,"click"],[1,"wheel-wrapper"],[1,"wheel-pointer"],[1,"spin-wheel"],["class","wheel-label",3,"transform",4,"ngFor","ngForOf"],[1,"hint","center"],["class","confetti",4,"ngIf"],[1,"wheel-label"],[1,"wheel-label__text"],[1,"confetti"],[3,"animation-delay","left",4,"ngFor","ngForOf"],[1,"modal"],[1,"modal-backdrop",3,"click"],[1,"modal-card","glass"],[1,"field"],["type","text",3,"ngModelChange","ngModel"],[1,"modal-actions"],[1,"action-group"],[1,"danger",3,"click"],[1,"primary",3,"click"],[1,"confirm-overlay"],[1,"confirm-card","glass"],[1,"confirm-actions"]],template:function(r,i){if(r&1){let o=Te();p(0,"section",2)(1,"div",3),ge(2,"span",4)(3,"span",5)(4,"span",6)(5,"span",7),g(),p(6,"header",8)(7,"div",9)(8,"div",10),ge(9,"img",11)(10,"span",12),g(),p(11,"div")(12,"p",13),v(13),g(),p(14,"h1"),v(15,"Panel del intercambio navide\xF1o"),g(),p(16,"p"),v(17,"Revisa tus ideas de regalo, solicita el sorteo y mantente al tanto del estado del evento."),g()()(),p(18,"div",14)(19,"div",15)(20,"p"),v(21,"Participantes"),g(),p(22,"strong"),v(23),g(),p(24,"small"),v(25,"Personas confirmadas"),g()(),p(26,"div",15)(27,"p"),v(28,"Mis regalos"),g(),p(29,"strong"),v(30),g(),p(31,"small"),v(32,"Ideas registradas"),g()(),p(33,"div",16)(34,"p"),v(35,"Estado"),g(),p(36,"strong"),v(37),g(),p(38,"small"),v(39),g()()(),p(40,"div",17),te(41,gT,2,0,"button",18),p(42,"button",19),V("click",function(){return Y(o),J(i.signOut())}),v(43,"Cerrar sesi\xF3n"),g(),p(44,"button",20),V("click",function(){return Y(o),J(i.requestDraw())}),v(45),g()()(),p(46,"section",21)(47,"article")(48,"p"),v(49,"Pr\xF3xima actualizaci\xF3n"),g(),p(50,"h4"),v(51),g(),p(52,"small"),v(53,"Para recibir el resultado del sorteo."),g()(),p(54,"article")(55,"p"),v(56,"Reglas del juego"),g(),p(57,"h4"),v(58),g(),p(59,"small"),v(60,"Incluye enlaces o tiendas para cada idea de regalo."),g()(),p(61,"article")(62,"p"),v(63,"Checklist"),g(),p(64,"h4"),v(65),g(),p(66,"small"),v(67,"Comparte m\xEDnimo tres opciones para inspirar a tu amigo secreto."),g(),p(68,"h4"),v(69,"Carga de regalos"),g(),p(70,"p"),v(71),g(),p(72,"small"),v(73,"Recuerda subir tus regalos a tiempo"),g()(),p(74,"article")(75,"p"),v(76,"Intercambio"),g(),p(77,"h4"),v(78),g(),p(79,"small"),v(80,"Para dar y recibir regalo de tu amigo secreto"),g()()(),p(81,"main",22)(82,"section",23)(83,"header")(84,"div")(85,"p",13),v(86,"Mis ideas"),g(),p(87,"h2"),v(88,"Regalos guardados"),g()(),te(89,mT,2,0,"button",24),g(),p(90,"div",25),ge(91,"span"),p(92,"div",26),v(93),g()(),te(94,vT,5,0,"div",27),p(95,"ul",28),te(96,yT,9,2,"li",29),g(),p(97,"p",30),v(98,"Toca cualquier tarjeta para editarla o eliminarla."),g()(),p(99,"section",31),te(100,wT,11,1,"ng-container",32)(101,IT,13,4,"ng-template",null,0,Yi),g()(),p(103,"section",33)(104,"article",34)(105,"h3"),v(106,"Recordatorio"),g(),p(107,"p"),v(108,"Comparte m\xEDnimo tres opciones para inspirar a tu amigo secreto."),g(),p(109,"p"),v(110,"Incluye enlaces o tiendas para cada idea de regalo."),g()()(),te(111,AT,18,12,"div",35)(112,OT,30,5,"div",36)(113,RT,27,3,"div",36),g(),te(114,PT,11,1,"div",37)}if(r&2){let o=qi(102);w(9),R("src",i.currentUser.avatarUrl||"assets/default-avatar.png",Bi),w(),rt("ready",i.isDrawn),w(3),fe("Hola ",i.currentUser.name||"participante",""),w(10),ne(i.participants.length),w(7),fe("",i.currentUser.gifts.length,"/5"),w(3),rt("ready",i.isDrawn),w(4),ne(i.isDrawn?"Sorteo listo":"Pendiente"),w(2),ne(i.isDrawn?"Recibiste a tu amigo secreto":"A\xFAn puedes editar tu lista"),w(2),R("ngIf",i.isAdminUser()),w(3),R("disabled",i.isDrawn),w(),fe(" ",i.isDrawn?"Sorteo solicitado":"Solicitar sorteo"," "),w(6),Wi("",i.startEvent()," \xB7 ",i.timeEvent(),""),w(7),fe("Presupuesto sugerido ",i.moneyEvent(),""),w(7),ne(i.canAddGift?"Agrega m\xE1s ideas":"Lista completa"),w(6),ne(i.uploadGift()),w(7),ne(i.dateEvent()),w(11),R("ngIf",i.canAddGift&&!i.isDrawn),w(2),Zt("width",i.currentUser.gifts.length/5*100,"%"),w(2),fe(" ",i.currentUser.gifts.length," de 5 ideas registradas "),w(),R("ngIf",!i.currentUser.gifts.length),w(2),R("ngForOf",i.currentUser.gifts),w(4),R("ngIf",!i.isDrawn)("ngIfElse",o),w(11),R("ngIf",i.showWheelOverlay),w(),R("ngIf",i.selectedGift),w(),R("ngIf",i.newGift),w(),R("ngIf",i.showConfirm())}},dependencies:[it,Ta,Ft,ai,wn,si,Xn],styles:['[_nghost-%COMP%]{display:block;font-family:Inter,Segoe UI,sans-serif;color:#f3f7ff}.exchange-hub[_ngcontent-%COMP%]{position:relative;min-height:100vh;padding:clamp(1.5rem,3vw,3rem);background:radial-gradient(circle at top,#0f2739,#08121c 45%,#050912);overflow:hidden}.bg-ornaments[_ngcontent-%COMP%]{position:absolute;inset:0;overflow:hidden;pointer-events:none}.orb[_ngcontent-%COMP%]{position:absolute;width:320px;height:320px;border-radius:50%;filter:blur(60px);opacity:.65}.orb-1[_ngcontent-%COMP%]{top:-60px;left:-20px;background:#f97b9073}.orb-2[_ngcontent-%COMP%]{top:20%;right:-80px;background:#66d7d159}.orb-3[_ngcontent-%COMP%]{bottom:-120px;left:30%;background:#f7c56a4d}.garland[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:120px;background:repeating-linear-gradient(90deg,rgba(255,255,255,.08) 0 80px,transparent 80px 120px);opacity:.45}.glass[_ngcontent-%COMP%]{background:#07101abf;border-radius:28px;-webkit-backdrop-filter:blur(18px);backdrop-filter:blur(18px);border:1px solid rgba(255,255,255,.08);box-shadow:0 25px 60px #00000073}.hub-header[_ngcontent-%COMP%]{position:relative;z-index:1;padding:clamp(1.5rem,2.5vw,2.5rem);display:flex;flex-direction:column;gap:1.5rem}.identity[_ngcontent-%COMP%]{display:flex;gap:1.5rem;align-items:center}.avatar-ring[_ngcontent-%COMP%]{position:relative;width:90px;height:90px;border-radius:50%;border:2px dashed rgba(247,197,106,.6);padding:6px}.avatar-ring[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover}.status-dot[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:6px;width:18px;height:18px;border-radius:50%;background:#f97373;border:2px solid #050912}.status-dot.ready[_ngcontent-%COMP%]{background:#78e6b2}.eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.4em;font-size:.75rem;color:#fff9;margin:0}.hub-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.4rem 0;font-size:clamp(1.8rem,3vw,3rem)}.hub-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#f3f7ffcc}.header-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:1rem}.stat-card[_ngcontent-%COMP%]{background:#ffffff0a;border-radius:20px;padding:1rem 1.2rem;border:1px solid rgba(255,255,255,.05)}.stat-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.8rem;text-transform:uppercase;letter-spacing:.1em;color:#fff9}.stat-card[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-size:2rem;margin:.5rem 0}.stat-card[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#ffffffa6}.stat-card.status.ready[_ngcontent-%COMP%]{border-color:#78e6b24d;background:#78e6b214}.header-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem;justify-content:flex-end}button.primary[_ngcontent-%COMP%], button.ghost[_ngcontent-%COMP%], button.danger[_ngcontent-%COMP%]{border-radius:18px;padding:.85rem 1.2rem;font-weight:600;font-size:.95rem;cursor:pointer;border:none;transition:transform .2s ease,box-shadow .2s ease}button.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f97b90,#f7c56a);color:#050912}button.primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}button.ghost[_ngcontent-%COMP%]{background:transparent;color:#f7c56a;border:1px solid rgba(247,197,106,.4)}button.primary.subtle[_ngcontent-%COMP%]{background:#78e6b233;color:#78e6b2;border:1px solid rgba(120,230,178,.6)}button.danger[_ngcontent-%COMP%]{background:#f97b901a;color:#ff9bad;border:1px solid rgba(249,123,144,.4)}button[_ngcontent-%COMP%]:not(:disabled):hover{transform:translateY(-2px);box-shadow:0 10px 30px #00000059}.info-banner[_ngcontent-%COMP%]{position:relative;z-index:1;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin:1.75rem 0}.info-banner[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{padding:1rem 1.2rem;border-radius:20px;background:#ffffff0d;border:1px solid rgba(255,255,255,.05)}.info-banner[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.8rem;letter-spacing:.2em;text-transform:uppercase;color:#ffffff8c}.info-banner[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:.4rem 0;font-size:1.2rem}.info-banner[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#ffffffad}.dashboard[_ngcontent-%COMP%]{position:relative;z-index:1;display:grid;grid-template-columns:2fr 1.4fr;gap:1.5rem}.card[_ngcontent-%COMP%]{padding:clamp(1.5rem,2vw,2rem);border-radius:28px;background:#07101abf;border:1px solid rgba(255,255,255,.05)}.card[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:.2rem 0 0}.card[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:.4rem 0 0;color:#ffffffa6}.progress-bar[_ngcontent-%COMP%]{position:relative;margin:1.5rem 0 1rem;height:14px;border-radius:999px;background:#ffffff14}.progress-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;inset:0;border-radius:999px;background:linear-gradient(90deg,#f97b90,#f7c56a);transition:width .3s ease}.progress-copy[_ngcontent-%COMP%]{margin-top:.5rem;font-size:.85rem;color:#ffffffa6}.empty-state[_ngcontent-%COMP%]{padding:1rem;border-radius:18px;background:#ffffff0a;border:1px dashed rgba(255,255,255,.15)}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:600}.empty-state[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#ffffffa6}.gift-grid[_ngcontent-%COMP%]{list-style:none;margin:1.5rem 0 0;padding:0;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.gift-grid[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}.gift-chip[_ngcontent-%COMP%]{padding:1rem;border-radius:18px;background:#ffffff0d;border:1px solid rgba(255,255,255,.08);display:flex;justify-content:space-between;gap:1rem}.gift-chip[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:600}.gift-chip[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#fff9}.gift-chip[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.5rem}.gift-grid.alt[_ngcontent-%COMP%]{margin-top:1rem}.hint[_ngcontent-%COMP%]{margin-top:1rem;font-size:.85rem;color:#fff9}.participant-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:1rem 0 0;display:flex;flex-direction:column;gap:.8rem;max-height:420px;overflow-y:auto}.participant-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.9rem 1rem;border-radius:18px;background:#ffffff0a;border:1px solid rgba(255,255,255,.06);display:flex;justify-content:space-between;align-items:center;gap:1rem}.person[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.9rem}.person[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;border:2px solid rgba(247,197,106,.4);object-fit:cover}.person[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:600}.person[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#fff9}.badge[_ngcontent-%COMP%]{padding:.35rem .8rem;border-radius:999px;border:1px solid rgba(249,123,144,.4);color:#f97b90;font-size:.85rem;text-transform:uppercase;letter-spacing:.05em}.badge.ready[_ngcontent-%COMP%]{border-color:#78e6b280;color:#78e6b2}.assigned-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-top:1rem;padding:1.2rem}.assigned-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;border-radius:50%;border:2px solid rgba(120,230,178,.5);object-fit:cover}.assigned-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .2rem}.secondary-grid[_ngcontent-%COMP%]{position:relative;z-index:1;margin-top:1.5rem;display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:1rem}.card.highlight[_ngcontent-%COMP%]{background:#ffffff0d;border:1px dashed rgba(255,255,255,.1)}.card.highlight[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1rem}.modal[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;justify-content:center;align-items:center;z-index:2000}.modal-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#000000a6;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px)}.modal-card[_ngcontent-%COMP%]{position:relative;z-index:1;width:calc(100% - 2rem);max-width:420px;padding:2rem;border-radius:28px}.modal-close[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;border:none;background:transparent;color:#fff9;font-size:1.5rem;cursor:pointer}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.field[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.85rem;color:#fff9;margin-bottom:.3rem}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:16px;border:1px solid rgba(255,255,255,.2);background:#ffffff0d;padding:.85rem 1rem;color:inherit}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1rem;flex-wrap:wrap}.modal-actions[_ngcontent-%COMP%]   .action-group[_ngcontent-%COMP%]{display:flex;gap:.75rem}.modal-actions[_ngcontent-%COMP%]   .action-group.hidden[_ngcontent-%COMP%]{display:none}.wheel-btn[_ngcontent-%COMP%]{margin-top:1rem;width:100%;justify-content:center}.wheel-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;justify-content:center;align-items:center;z-index:3000}.wheel-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#050912cc;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px)}.wheel-modal[_ngcontent-%COMP%]{position:relative;z-index:1;width:calc(100% - 2rem);max-width:640px;padding:2.5rem 2.5rem 2.75rem}.wheel-wrapper[_ngcontent-%COMP%]{position:relative;margin:1.8rem auto 1rem;width:min(420px,80vw);aspect-ratio:1 / 1}.spin-wheel[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;border:6px solid rgba(255,255,255,.12);position:relative;display:flex;align-items:center;justify-content:center;overflow:hidden;transition:transform .3s ease}.spin-wheel.spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spinTo var(--spin-duration, 5s) ease-in-out forwards}.spin-wheel[_ngcontent-%COMP%]:after{content:"";position:absolute;width:40%;height:40%;border-radius:50%;background:#05091299;border:1px solid rgba(255,255,255,.1);z-index:1}.wheel-pointer[_ngcontent-%COMP%]{position:absolute;top:-18px;left:50%;width:0;height:0;border-left:14px solid transparent;border-right:14px solid transparent;border-bottom:30px solid #f7c56a;transform:translate(-50%);filter:drop-shadow(0px 4px 6px rgba(0,0,0,.4));z-index:2}.wheel-label[_ngcontent-%COMP%]{position:absolute;inset:20%;display:flex;align-items:center;justify-content:center;pointer-events:none;z-index:2}.wheel-label__text[_ngcontent-%COMP%]{background:#fffffff2;color:#050912;font-weight:600;letter-spacing:.04em;text-transform:capitalize;font-size:clamp(.6rem,1.4vw,.85rem);line-height:1.2;border-radius:12px;padding:.4rem .6rem;min-height:40px;min-width:72px;max-width:clamp(90px,30vw,140px);text-align:center;word-break:break-word;hyphens:auto;box-shadow:0 6px 16px #00000040}.hint.center[_ngcontent-%COMP%]{text-align:center}.confetti[_ngcontent-%COMP%]{position:absolute;inset:0;pointer-events:none;overflow:hidden}.confetti[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;width:12px;height:24px;background:#f97b90;top:-20px;animation:_ngcontent-%COMP%_confettiRain 2.5s linear forwards}.confetti[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(odd){background:#f7c56a}.confetti[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3n){background:#66d7d1}.confetti[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4n){background:#78e6b2}.confirm-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);background:#00000080;display:flex;justify-content:center;align-items:center;z-index:4000}.confirm-card[_ngcontent-%COMP%]{max-width:400px;padding:2rem;text-align:center}.confirm-actions[_ngcontent-%COMP%]{margin-top:1.5rem;display:flex;justify-content:space-between;gap:1rem}@keyframes _ngcontent-%COMP%_spinTo{0%{transform:rotate(0)}to{transform:rotate(var(--spin-angle, 1440deg))}}@keyframes _ngcontent-%COMP%_confettiRain{0%{transform:translateY(0) rotate(0);opacity:1}80%{opacity:1}to{transform:translateY(100vh) rotate(320deg);opacity:0}}@media (max-width: 960px){.dashboard[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 640px){.identity[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.header-cards[_ngcontent-%COMP%], .info-banner[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})}}return n})();function NT(n,t){n&1&&(p(0,"span"),v(1,"Crear cuenta y continuar"),g())}function kT(n,t){n&1&&(p(0,"span",27),v(1,"Enviando..."),g())}var n_=(()=>{class n{constructor(){this.alertService=E(bn),this.supabaseService=E(et),this.router=E(We),this.fullName=F(""),this.email=F(""),this.password=F(""),this.showPassword=F(!1),this.isLoading=F(!1),this.dateEvent=F(""),this.timeEvent=F(""),this.moneyEvent=F(""),this.startEvent=F(""),this.uploadGift=F("")}ngOnInit(){this.getInfoEvent()}togglePasswordVisibility(){this.showPassword.set(!this.showPassword())}onRegister(){return h(this,null,function*(){if(!this.fullName()||!this.email()||!this.password()){this.alertService.error("Campos requeridos","Por favor completa todos los campos");return}this.isLoading.set(!0);let{error:e,data:r}=yield this.supabaseService.signUp(this.email(),this.password(),this.fullName());if(e){this.alertService.error("Registro fallido",`${this.fullName()} hemos tenido un problema al crear tu cuenta. Intentalo mas tarde. 
      
 Si el problema sigue contacta a soporte!`),this.isLoading.set(!1);return}this.isLoading.set(!1),this.alertService.success(`\xA1Bienvenido ${this.fullName()}!`,"Tu cuenta ha sido creada."),this.alertService.info(`${this.fullName()}!`,"Revisa tu correo, para validar tu cuenta y participar en nuestro intercambios 2025!"),this.setLocalStorage(r),setTimeout(()=>{this.router.navigate(["/login"])},3800)})}setLocalStorage(e){return h(this,null,function*(){localStorage.setItem("uuid",e.user.id),localStorage.setItem("username",e.user.user_metadata.username),this.supabaseService.saveParticipant({oauth_id:e.user.id,gifts:[],name:e.user.user_metadata.username,avatarUrl:""})})}getInfoEvent(){let e=JSON.parse(localStorage.getItem("event"));this.dateEvent.set(e.date_event),this.timeEvent.set(e.time_event),this.moneyEvent.set(e.money_event),this.startEvent.set(e.start_event),this.uploadGift.set(e.upload_gift)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ke({type:n,selectors:[["app-register"]],standalone:!0,features:[Le],decls:91,vars:11,consts:[[1,"register-hero"],[1,"ambient-aurora"],[1,"sparkles"],[1,"register-shell"],[1,"story-panel"],[1,"seal"],[1,"timeline"],[1,"label"],[1,"value"],[1,"value","highlight"],[1,"steps"],[1,"step"],[1,"register-card"],[1,"eyebrow"],[1,"form-grid",3,"ngSubmit"],[1,"field"],["id","fullName","name","fullName","type","text","placeholder","Ej. Sof\xEDa Morales","required","",3,"ngModelChange","ngModel"],["id","email","name","email","type","email","placeholder","sofia@tuempresa.com","required","",3,"ngModelChange","ngModel"],[1,"password-field"],["id","password","name","password","placeholder","M\xEDnimo 8 caracteres","required","",3,"ngModelChange","type","ngModel"],["type","button","aria-label","Mostrar contrase\xF1a",3,"click"],["type","submit",1,"cta",3,"disabled"],[4,"ngIf"],["class","loading",4,"ngIf"],[1,"extras"],["routerLink","/login"],[1,"security"],[1,"loading"]],template:function(r,i){r&1&&(p(0,"section",0),ge(1,"div",1),p(2,"div",2),ge(3,"span")(4,"span")(5,"span")(6,"span"),g(),p(7,"div",3)(8,"section",4)(9,"div",5)(10,"span"),v(11,"\u{1F384}"),g(),p(12,"div")(13,"p"),v(14,"Club Navide\xF1o"),g(),p(15,"strong"),v(16,"Secret Santa Hub"),g()()(),p(17,"h1"),v(18," Crea tu cuenta y desbloquea un tablero completo para coordinar el intercambio navide\xF1o. "),g(),p(19,"p"),v(20," Dise\xF1amos una experiencia moderna para sumar participantes, registrar ideas de regalos y compartir actualizaciones con banners informativos en cada etapa del evento. "),g(),p(21,"div",6)(22,"div")(23,"p",7),v(24,"Convocatoria"),g(),p(25,"p",8),v(26),g()(),p(27,"div")(28,"p",7),v(29,"Carga de regalos"),g(),p(30,"p",8),v(31),g()(),p(32,"div")(33,"p",7),v(34,"Intercambio"),g(),p(35,"p",9),v(36),g()()(),p(37,"div",10)(38,"div",11)(39,"span"),v(40,"1"),g(),p(41,"p"),v(42,"Completa tu perfil con nombre y avatar."),g()(),p(43,"div",11)(44,"span"),v(45,"2"),g(),p(46,"p"),v(47,"Invita a tu equipo con un enlace privado."),g()(),p(48,"div",11)(49,"span"),v(50,"3"),g(),p(51,"p"),v(52,"Agrega hasta cinco ideas de regalo y listo."),g()()()(),p(53,"section",12)(54,"header")(55,"p",13),v(56,"Nuevo acceso"),g(),p(57,"h2"),v(58,"Crea tu cuenta"),g(),p(59,"p"),v(60,"Solo tomar\xE1 un minuto y podr\xE1s volver al panel en cualquier dispositivo."),g()(),p(61,"form",14),V("ngSubmit",function(){return i.onRegister()}),p(62,"label",15)(63,"span"),v(64,"Nombre completo"),g(),p(65,"input",16),qe("ngModelChange",function(s){return Ze(i.fullName,s)||(i.fullName=s),s}),g()(),p(66,"label",15)(67,"span"),v(68,"Correo corporativo"),g(),p(69,"input",17),qe("ngModelChange",function(s){return Ze(i.email,s)||(i.email=s),s}),g()(),p(70,"label",15)(71,"span"),v(72,"Contrase\xF1a"),g(),p(73,"div",18)(74,"input",19),qe("ngModelChange",function(s){return Ze(i.password,s)||(i.password=s),s}),g(),p(75,"button",20),V("click",function(){return i.togglePasswordVisibility()}),v(76),g()()(),p(77,"button",21),te(78,NT,2,0,"span",22)(79,kT,2,0,"span",23),g()(),p(80,"div",24)(81,"div")(82,"p"),v(83,"\xBFYa participas?"),g(),p(84,"a",25),v(85,"Inicia sesi\xF3n aqu\xED"),g()(),p(86,"div",26)(87,"span"),v(88,"\u{1F510}"),g(),p(89,"p"),v(90," Tus datos est\xE1n protegidos. Recibir\xE1s un correo para confirmar tu acceso al intercambio. "),g()()()()()()),r&2&&(w(26),ne(i.startEvent()),w(5),ne(i.uploadGift()),w(5),fe(" ",i.dateEvent()," "),w(29),ze("ngModel",i.fullName),w(4),ze("ngModel",i.email),w(5),R("type",i.showPassword()?"text":"password"),ze("ngModel",i.password),w(2),fe(" ",i.showPassword()?"Ocultar":"Mostrar"," "),w(),R("disabled",i.isLoading()),w(),R("ngIf",!i.isLoading()),w(),R("ngIf",i.isLoading()))},dependencies:[it,Ft,ai,rl,wn,si,tl,Do,Xn,Eo,Ka],styles:['[_nghost-%COMP%]{display:block;font-family:Inter,Segoe UI,sans-serif}.register-hero[_ngcontent-%COMP%]{min-height:100vh;padding:3vw;background:linear-gradient(145deg,#061627,#0f2a3e 45%,#0d1f2f);color:#f4f4f4;position:relative;overflow:hidden}.ambient-aurora[_ngcontent-%COMP%]{position:absolute;inset:-10% 10% 20% 0;background:radial-gradient(circle at top left,rgba(255,255,255,.15),transparent 55%),radial-gradient(circle at 20% 30%,rgba(255,73,108,.4),transparent 55%),radial-gradient(circle at 70% 20%,rgba(116,203,255,.35),transparent 60%);filter:blur(40px);animation:_ngcontent-%COMP%_aurora 12s infinite alternate ease-in-out}@keyframes _ngcontent-%COMP%_aurora{0%{transform:translateY(-20px)}to{transform:translateY(20px)}}.sparkles[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:1;pointer-events:none}.sparkles[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;width:6px;height:6px;border-radius:50%;background:#fff9;filter:blur(.5px);animation:_ngcontent-%COMP%_sparkle 6s linear infinite}.sparkles[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){top:20%;left:15%;animation-delay:0s}.sparkles[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){top:60%;right:10%;animation-delay:1s}.sparkles[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){bottom:25%;left:35%;animation-delay:2s}.sparkles[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){top:40%;right:35%;animation-delay:3s}@keyframes _ngcontent-%COMP%_sparkle{0%,to{opacity:0;transform:scale(.4)}50%{opacity:1;transform:scale(1)}}.register-shell[_ngcontent-%COMP%]{position:relative;z-index:2;display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:clamp(2rem,4vw,4rem);align-items:center}.story-panel[_ngcontent-%COMP%]{padding:clamp(1rem,2vw,2.5rem)}.seal[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.8rem;padding:.65rem 1.1rem;border-radius:999px;background:#ffffff1a;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.seal[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.5rem}.seal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.75rem;letter-spacing:.15em;color:#ffffffb3;text-transform:uppercase}.seal[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-top:.1rem;letter-spacing:.05em}.story-panel[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(2rem,3vw,3.2rem);line-height:1.2;margin:1.5rem 0}.story-panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:40ch;color:#fffc;line-height:1.6}.timeline[_ngcontent-%COMP%]{margin:2rem 0;padding:1.2rem;border-radius:22px;background:#ffffff1a;display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:1rem}.timeline[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{text-transform:uppercase;font-size:.7rem;letter-spacing:.2em;color:#ffffffa6}.timeline[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.2rem;margin:.2rem 0 0}.timeline[_ngcontent-%COMP%]   .value.highlight[_ngcontent-%COMP%]{color:#ffb8c7}.steps[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;margin-top:1.5rem}.step[_ngcontent-%COMP%]{flex:1 1 140px;background:#ffffff1a;border-radius:18px;padding:1rem;display:flex;gap:.75rem;align-items:center;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px)}.step[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background:#ffb8c7;color:#1b1c22;font-weight:700;display:inline-flex;align-items:center;justify-content:center}.register-card[_ngcontent-%COMP%]{background:#fffffffa;border-radius:32px;padding:clamp(1.5rem,3vw,3rem);color:#1c1f24;box-shadow:0 25px 80px #05080c80}.register-card[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;font-size:.75rem;letter-spacing:.4em;color:#a1aab3}.register-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:.5rem 0;font-size:2rem}.register-card[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#5c6470}.form-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:.85rem;color:#4d5762}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:.4rem;border-radius:18px;border:1px solid rgba(12,25,38,.12);padding:1rem;font-size:1rem;background:#f8fbff;transition:border-color .2s ease,box-shadow .2s ease}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#f97b90;box-shadow:0 0 0 3px #f97b9033}.password-field[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;border-radius:18px;border:1px solid rgba(12,25,38,.12);background:#f8fbff}.password-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;border:none;background:transparent;margin:0;padding:1rem}.password-field[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:none;color:#f97b90;font-weight:600;cursor:pointer;padding-right:1rem}.cta[_ngcontent-%COMP%]{border:none;border-radius:18px;padding:1rem 1.2rem;margin-top:.5rem;background:linear-gradient(135deg,#f97b90,#f7c56a);color:#fff;font-weight:700;font-size:1rem;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease}.cta[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.cta[_ngcontent-%COMP%]:not(:disabled):hover{transform:translateY(-2px);box-shadow:0 15px 30px #f97b904d}.loading[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem}.loading[_ngcontent-%COMP%]:after{content:"";width:16px;height:16px;border-radius:50%;border:2px solid rgba(255,255,255,.4);border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.extras[_ngcontent-%COMP%]{margin-top:2rem;display:flex;flex-direction:column;gap:1rem}.extras[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f97b90;font-weight:600}.security[_ngcontent-%COMP%]{display:flex;gap:.8rem;padding:1rem;border-radius:16px;background:#f8fbff;border:1px solid rgba(12,25,38,.08)}.security[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.5rem}.security[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#4c5560}@media (max-width: 768px){.register-hero[_ngcontent-%COMP%]{padding:2rem 1.5rem}.steps[_ngcontent-%COMP%]{flex-direction:column}}']})}}return n})();function FT(n,t){n&1&&(p(0,"p",25),v(1,"Sin ideas registradas"),g())}function LT(n,t){if(n&1&&(p(0,"li")(1,"span"),v(2),g(),p(3,"small"),v(4),g()()),n&2){let e=t.$implicit;w(2),ne(e.title),w(2),ne(e.store||e.link)}}function jT(n,t){if(n&1&&(p(0,"ul"),te(1,LT,5,2,"li",26),g()),n&2){let e=A(2).$implicit;w(),R("ngForOf",e.gifts)}}function VT(n,t){if(n&1&&(p(0,"li")(1,"span"),v(2),g(),p(3,"small"),v(4),g()()),n&2){let e=t.$implicit;w(2),ne(e.title),w(2),ne(e.store||e.link)}}function $T(n,t){if(n&1&&(p(0,"ul"),te(1,VT,5,2,"li",26),g()),n&2){let e=A(4);w(),R("ngForOf",e.removedGifts())}}function UT(n,t){if(n&1&&(p(0,"div",21)(1,"div",22),te(2,FT,2,0,"p",23)(3,jT,2,1,"ul",24),p(4,"p",25),v(5),g(),te(6,$T,2,1,"ul",24),g()()),n&2){let e=A().$implicit,r=A(2);w(2),R("ngIf",!e.gifts.length),w(),R("ngIf",e.gifts.length),w(2),fe(" ",r.removedGifts().length?"Regalos eliminados:":"Regalos sin Eliminar",""),w(),R("ngIf",r.removedGifts().length)}}function BT(n,t){if(n&1){let e=Te();p(0,"div",13),V("click",function(){let i=Y(e).$implicit,o=A(2);return J(o.toggleDetails(i))}),p(1,"div",14)(2,"p",15),v(3),g(),p(4,"p",16),v(5),g()(),p(6,"div",14)(7,"span",17),v(8),g()(),p(9,"div",14)(10,"div",18),v(11),g(),p(12,"span",19),v(13,"\u2303"),g()(),te(14,UT,7,4,"div",20),g()}if(n&2){let e=t.$implicit,r=A(2);w(3),ne(e.name),w(2),fe("ID: ",e.id,""),w(2),rt("ready",e.is_ready),w(),fe(" ",e.is_ready?"Listo":"Pendiente"," "),w(3),fe(" ",r.getFriendName(e)," "),w(),rt("open",r.isExpanded(e)),w(2),R("ngIf",r.isExpanded(e))}}function HT(n,t){if(n&1){let e=Te();p(0,"section",3)(1,"header",4)(2,"div")(3,"p",5),v(4,"Panel administrativo"),g(),p(5,"h1"),v(6,"Control de participantes"),g(),p(7,"p"),v(8,"Monitorea el avance del equipo y dispara el sorteo cuando todos est\xE9n listos."),g()(),p(9,"div",6)(10,"article")(11,"p"),v(12,"Participantes"),g(),p(13,"strong"),v(14),g()(),p(15,"article")(16,"p"),v(17,"Listos"),g(),p(18,"strong"),v(19),g()(),p(20,"article")(21,"p"),v(22,"Asignados"),g(),p(23,"strong"),v(24),g()()(),p(25,"div",7)(26,"button",8),V("click",function(){Y(e);let i=A();return J(i.goToExchange())}),v(27,"Ir al intercambio"),g(),p(28,"button",9),V("click",function(){Y(e);let i=A();return J(i.performDraw())}),v(29),g()()(),p(30,"div",10)(31,"div",11)(32,"span"),v(33,"Participante"),g(),p(34,"span"),v(35,"Estado"),g(),p(36,"span"),v(37,"Amigo secreto"),g()(),te(38,BT,15,9,"div",12),g()()}if(n&2){let e=A();w(14),ne(e.participants().length),w(5),ne(e.readyCount()),w(5),ne(e.assignedCount()),w(4),R("disabled",e.drawLoading()),w(),fe(" ",e.drawLoading()?"Generando sorteo...":"Generar sorteo"," "),w(9),R("ngForOf",e.participants())}}function GT(n,t){if(n&1){let e=Te();p(0,"div",27)(1,"div",28)(2,"h3"),v(3,"Ya existe un sorteo"),g(),p(4,"p"),v(5," Se detect\xF3 un sorteo previo. Si generas uno nuevo, las asignaciones actuales de todos los participantes cambiar\xE1n. \xBFDeseas continuar? "),g(),p(6,"div",29)(7,"button",8),V("click",function(){Y(e);let i=A();return J(i.showConfirm.set(!1))}),v(8,"Cancelar"),g(),p(9,"button",30),V("click",function(){Y(e);let i=A();return J(i.performDraw())}),v(10,"S\xED, reasignar"),g()()()()}}function zT(n,t){n&1&&(p(0,"div",31)(1,"p"),v(2,"Cargando participantes..."),g()())}var r_=(()=>{class n{constructor(){this.supabaseService=E(et),this.alertService=E(bn),this.router=E(We),this.participants=F([]),this.loading=F(!1),this.drawLoading=F(!1),this.expandedParticipantId=F(null),this.hasAssignments=F(!1),this.showConfirm=F(!1),this.isAdminSession=F(!1),this.gifts=F([]),this.removedGifts=F([]),this.readyCount=pd(()=>this.participants().filter(e=>!!e.is_ready).length),this.assignedCount=pd(()=>this.participants().filter(e=>!!e.friend_id).length)}ngOnInit(){return h(this,null,function*(){let e=localStorage.getItem("uuid");if(e){let r=yield this.supabaseService.getParticipant(e);if(this.isAdminSession.set(!!r.is_admin),!r.is_admin){this.router.navigate(["/intercambio"]);return}}yield this.loadParticipants(),yield this.loadGifts()})}loadParticipants(){return h(this,null,function*(){this.loading.set(!0);try{let e=yield this.supabaseService.getAllParticipants();this.participants.set(e),this.hasAssignments.set(e.some(r=>!!r.friend_id))}catch(e){console.error(e),this.alertService.error("No pudimos cargar la informaci\xF3n","Intenta nuevamente en unos segundos.")}finally{this.loading.set(!1)}})}loadGifts(){return h(this,null,function*(){try{let e=yield this.supabaseService.getAllGift();this.gifts.set(e)}catch(e){console.error(e)}finally{this.loading.set(!1)}})}goToExchange(){this.router.navigate(["/intercambio"])}performDraw(){return h(this,null,function*(){if(this.drawLoading())return;if(this.hasAssignments()&&!this.showConfirm()){this.showConfirm.set(!0);return}this.showConfirm.set(!1);let e=this.participants();if(!e.length){this.alertService.info("Sin participantes","Agrega participantes antes de realizar el sorteo.");return}if(e.filter(i=>!i.is_ready).length){this.alertService.warning("Participantes pendientes","Todos deben marcarse como listos antes de sortear.");return}this.drawLoading.set(!0);try{let i=this.createAssignments(e);yield this.supabaseService.assignSecretSanta(i),this.alertService.success("Sorteo completado","Se asignaron nuevos amigos secretos."),yield this.loadParticipants()}catch(i){console.error(i),this.alertService.error("No pudimos completar el sorteo","Intenta nuevamente.")}finally{this.drawLoading.set(!1)}})}createAssignments(e){let r=e.map(a=>a.id),i=[...r],o=0,s=50;do if(i=this.shuffle(i),o+=1,o>s)throw new Error("No se pudieron asignar parejas v\xE1lidas.");while(i.some((a,l)=>a===r[l]));return r.map((a,l)=>({id:a,friend_id:i[l]}))}shuffle(e){let r=[...e];for(let i=r.length-1;i>0;i--){let o=Math.floor(Math.random()*(i+1));[r[i],r[o]]=[r[o],r[i]]}return r}getFriendName(e){return e.friend_id?this.participants().find(i=>i.id===e.friend_id)?.name||"Asignado":"Sin asignar"}toggleDetails(e){let r=this.expandedParticipantId(),i=e.id||null;this.expandedParticipantId.set(r===i?null:i);let o=this.gifts().filter(s=>s.participant_id===i).filter(s=>s.removed===1);this.removedGifts.set(o)}isExpanded(e){return this.expandedParticipantId()===e.id}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ke({type:n,selectors:[["app-admin"]],standalone:!0,features:[Le],decls:4,vars:3,consts:[["loadingState",""],["class","admin-shell",4,"ngIf","ngIfElse"],["class","confirm-overlay",4,"ngIf"],[1,"admin-shell"],[1,"admin-header","glass"],[1,"eyebrow"],[1,"stats"],[1,"header-actions"],[1,"ghost",3,"click"],[1,"primary",3,"click","disabled"],[1,"admin-table","glass"],[1,"row","header"],["class","row accordion",3,"click",4,"ngFor","ngForOf"],[1,"row","accordion",3,"click"],[1,"cell"],[1,"name"],[1,"meta"],[1,"badge"],[1,"friend"],[1,"chevron"],["class","details",4,"ngIf"],[1,"details"],[1,"gifts"],["class","muted",4,"ngIf"],[4,"ngIf"],[1,"muted"],[4,"ngFor","ngForOf"],[1,"confirm-overlay"],[1,"confirm-card","glass"],[1,"confirm-actions"],[1,"danger",3,"click"],[1,"loading","glass"]],template:function(r,i){if(r&1&&te(0,HT,39,6,"section",1)(1,GT,11,0,"div",2)(2,zT,3,0,"ng-template",null,0,Yi),r&2){let o=qi(3);R("ngIf",!i.loading())("ngIfElse",o),w(),R("ngIf",i.showConfirm())}},dependencies:[it,Ta,Ft],styles:["[_nghost-%COMP%]{display:block;min-height:100vh;padding:clamp(1rem,3vw,3rem);background:radial-gradient(circle at top,#0c2133,#050a12);color:#f3f7ff;font-family:Inter,Segoe UI,sans-serif}.glass[_ngcontent-%COMP%]{background:#050a12d1;border-radius:30px;border:1px solid rgba(255,255,255,.08);box-shadow:0 20px 60px #00000073;-webkit-backdrop-filter:blur(16px);backdrop-filter:blur(16px)}.admin-shell[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.admin-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1.5rem;padding:clamp(1.5rem,3vw,2.5rem)}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:center;justify-content:flex-end;flex-wrap:wrap}.eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.4em;color:#fff9;font-size:.75rem;margin:0}.admin-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.4rem 0;font-size:clamp(1.8rem,3vw,2.6rem)}.stats[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.stats[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{flex:1;min-width:120px;padding:1rem;border-radius:20px;background:#ffffff0a;border:1px solid rgba(255,255,255,.06)}.stats[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-transform:uppercase;letter-spacing:.1em;font-size:.8rem;color:#fff9}.stats[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{margin-top:.5rem;display:block;font-size:2rem}button.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f97b90,#f7c56a);color:#050a12;border:none;border-radius:18px;font-weight:700;padding:.9rem 1.5rem;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease}button.primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}button.primary[_ngcontent-%COMP%]:not(:disabled):hover{transform:translateY(-2px);box-shadow:0 10px 25px #f97b9059}.admin-table[_ngcontent-%COMP%]{padding:1.5rem}.admin-table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.2fr .6fr 1.2fr;gap:1rem;padding:1rem;border-bottom:1px solid rgba(255,255,255,.05)}.admin-table[_ngcontent-%COMP%]   .row.header[_ngcontent-%COMP%]{font-size:.8rem;letter-spacing:.2em;text-transform:uppercase;color:#fff9}.admin-table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:last-of-type{border-bottom:none}.cell[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin:0;font-weight:600}.cell[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{margin:0;font-size:.85rem;color:#fff9}.badge[_ngcontent-%COMP%]{padding:.35rem .9rem;border-radius:999px;font-size:.9rem;border:1px solid rgba(249,123,144,.4);color:#f97b90}.badge.ready[_ngcontent-%COMP%]{border-color:#78e6b280;color:#78e6b2}.friend[_ngcontent-%COMP%]{margin:0}.muted[_ngcontent-%COMP%]{color:#ffffff8c}.accordion[_ngcontent-%COMP%]{grid-template-columns:1.2fr .6fr 1fr;cursor:pointer}.details[_ngcontent-%COMP%]{grid-column:1 / -1;padding:1rem;border-radius:16px;background:#ffffff0a;border:1px solid rgba(255,255,255,.06);display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1rem}.chevron[_ngcontent-%COMP%]{font-size:1rem;display:inline-block;transform:rotate(180deg);transition:transform .2s ease;margin-left:.5rem;color:#fff9}.chevron.open[_ngcontent-%COMP%]{transform:rotate(0)}.gifts[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:.5rem}.gifts[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:#ffffff0a;border:1px solid rgba(255,255,255,.06);border-radius:14px;padding:.5rem .75rem}.gifts[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600}.gifts[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;color:#fff9}.loading[_ngcontent-%COMP%]{margin:3rem auto;max-width:360px;text-align:center;padding:2rem}.confirm-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);background:#00000080;display:flex;justify-content:center;align-items:center;z-index:4000}.confirm-card[_ngcontent-%COMP%]{max-width:400px;padding:2rem;text-align:center}.confirm-actions[_ngcontent-%COMP%]{margin-top:1.5rem;display:flex;justify-content:space-between;gap:1rem}button.ghost[_ngcontent-%COMP%], button.danger[_ngcontent-%COMP%]{border-radius:14px;padding:.5rem 1rem;cursor:pointer;border:1px solid rgba(255,255,255,.2);background:transparent;color:#ffffffe6}button.danger[_ngcontent-%COMP%]{border-color:#f97b9099;color:#f97b90}@media (max-width: 900px){.admin-table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}"]})}}return n})();var lh=()=>h(void 0,null,function*(){let n=E(We),t=E(et);try{let{data:e}=yield t.getSession(),r=e.session;if(r?.user)return localStorage.getItem("uuid")||localStorage.setItem("uuid",r.user.id),!0}catch(e){console.error("[AuthGuard] Error checking session",e)}return n.createUrlTree(["/login"])});var i_=()=>h(void 0,null,function*(){let n=E(We),t=E(et),e=localStorage.getItem("uuid");if(!e)return n.createUrlTree(["/login"]);try{if((yield t.getParticipant(e)).is_admin)return!0}catch(r){console.error("[AdminGuard] Error checking admin role",r)}return n.createUrlTree(["/intercambio"])});var o_=[{path:"intercambio",component:t_,canActivate:[lh]},{path:"login",component:X0},{path:"register",component:n_},{path:"admin",component:r_,canActivate:[lh,i_]},{path:"",pathMatch:"full",redirectTo:"login"},{path:"**",redirectTo:"login"}];var s_={providers:[dy(o_)]};function qT(n,t){if(n&1&&(p(0,"p",8),v(1),g()),n&2){let e=A();w(),ne(e.alert().message)}}function WT(n,t){if(n&1){let e=Te();p(0,"button",9),V("click",function(){Y(e);let i=A();return J(i.close())}),p(1,"span",10),v(2,"\xD7"),g()()}}function KT(n,t){if(n&1&&(p(0,"div",11),ge(1,"div",12),g()),n&2){let e=A();w(),Zt("animation-duration",e.progressBarDuration+"ms")}}var a_=(()=>{class n{constructor(){this.alert=$u.required(),this.onClose=$u()}get icon(){return{success:"\u2705",error:"\u274C",warning:"\u26A0\uFE0F",info:"\u2139\uFE0F"}[this.alert().type]}get progressBarDuration(){return this.alert().duration||0}close(){this.onClose()&&this.onClose()?.(this.alert().id)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ke({type:n,selectors:[["app-alert"]],inputs:{alert:[Ce.SignalBased,"alert"],onClose:[Ce.SignalBased,"onClose"]},standalone:!0,features:[Le],decls:10,vars:7,consts:[[1,"alert"],[1,"alert__content"],[1,"alert__icon"],[1,"alert__body"],[1,"alert__title"],["class","alert__message",4,"ngIf"],["class","alert__close","aria-label","Cerrar alerta",3,"click",4,"ngIf"],["class","alert__progress",4,"ngIf"],[1,"alert__message"],["aria-label","Cerrar alerta",1,"alert__close",3,"click"],[1,"alert__close-icon"],[1,"alert__progress"],[1,"alert__progress-bar"]],template:function(r,i){r&1&&(p(0,"div",0)(1,"div",1)(2,"div",2),v(3),g(),p(4,"div",3)(5,"h4",4),v(6),g(),te(7,qT,2,1,"p",5),g(),te(8,WT,3,0,"button",6),g(),te(9,KT,2,2,"div",7),g()),r&2&&(Jm("alert--"+i.alert().type),w(3),ne(i.icon),w(3),ne(i.alert().title),w(),R("ngIf",i.alert().message),w(),R("ngIf",i.alert().dismissible),w(),R("ngIf",i.progressBarDuration>0))},dependencies:[it,Ft],styles:["[_nghost-%COMP%]{display:block;font-family:Inter,Segoe UI,sans-serif}.alert[_ngcontent-%COMP%]{position:relative;padding:1rem 1.2rem;margin-bottom:.75rem;border-radius:18px;background:#07101ad9;border:1px solid rgba(255,255,255,.08);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);color:#f3f7ff;box-shadow:0 15px 25px #0000004d;overflow:hidden;animation:_ngcontent-%COMP%_slideIn .4s ease,fade .4s ease}.alert__content[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem}.alert__icon[_ngcontent-%COMP%]{font-size:1.4rem;line-height:1}.alert__title[_ngcontent-%COMP%]{margin:0;font-weight:600;font-size:.95rem}.alert__message[_ngcontent-%COMP%]{margin:.15rem 0 0;color:#f3f7ffbf;font-size:.85rem}.alert__close[_ngcontent-%COMP%]{border:none;background:transparent;color:#f3f7ff99;cursor:pointer;border-radius:50%;width:28px;height:28px}.alert__close[_ngcontent-%COMP%]:hover{background:#ffffff14}.alert__progress[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;height:3px;width:100%;background:#ffffff14}.alert__progress-bar[_ngcontent-%COMP%]{height:100%;background:currentColor;opacity:.7;animation:_ngcontent-%COMP%_progressBar linear forwards}.alert--success[_ngcontent-%COMP%]{border-left:4px solid #78e6b2;color:#78e6b2}.alert--error[_ngcontent-%COMP%]{border-left:4px solid #f97b90;color:#f97b90}.alert--warning[_ngcontent-%COMP%]{border-left:4px solid #f7c56a;color:#f7c56a}.alert--info[_ngcontent-%COMP%]{border-left:4px solid #66d7d1;color:#66d7d1}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fade{0%{filter:blur(4px)}to{filter:blur(0)}}@keyframes _ngcontent-%COMP%_progressBar{0%{transform:translate(0)}to{transform:translate(-100%)}}@media (max-width: 480px){.alert[_ngcontent-%COMP%]{padding:.85rem 1rem}}"]})}}return n})();var YT=(n,t)=>t.id;function JT(n,t){if(n&1&&ge(0,"app-alert",1),n&2){let e=t.$implicit,r=A();R("alert",e)("onClose",r.removeAlert.bind(r))}}var l_=(()=>{class n{constructor(){this.alertService=E(bn),this.alerts=this.alertService.getAlerts()}removeAlert(e){this.alertService.remove(e)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ke({type:n,selectors:[["app-alert-container"]],standalone:!0,features:[Le],decls:3,vars:0,consts:[[1,"alert-container"],[3,"alert","onClose"]],template:function(r,i){r&1&&(p(0,"div",0),nv(1,JT,1,2,"app-alert",1,YT),g()),r&2&&(w(),rv(i.alerts()))},dependencies:[it,a_],styles:[".alert-container[_ngcontent-%COMP%]{position:fixed;top:1.5rem;right:1.5rem;z-index:1500;width:min(360px,calc(100% - 3rem))}@media (max-width: 600px){.alert-container[_ngcontent-%COMP%]{left:1rem;right:1rem;width:auto}}"]})}}return n})();var c_=(()=>{class n{constructor(e){this.supabase=e,this.title="exchange-client"}static{this.\u0275fac=function(r){return new(r||n)(z(et))}}static{this.\u0275cmp=ke({type:n,selectors:[["app-root"]],standalone:!0,features:[Le],decls:2,vars:0,template:function(r,i){r&1&&ge(0,"app-alert-container")(1,"router-outlet")},dependencies:[af,l_],styles:['.app-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.app-header[_ngcontent-%COMP%]{background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center;box-shadow:0 2px 20px #0000001a}.app-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#4a5568;margin:0;font-weight:600}.user-info[_ngcontent-%COMP%]{color:#718096;font-weight:500}.main-content[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto}.pre-draw-view[_ngcontent-%COMP%], .post-draw-view[_ngcontent-%COMP%]{display:grid;gap:2rem}.pre-draw-view[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;grid-template-areas:"user participants" "gifts participants" "draw draw"}.post-draw-view[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;grid-template-areas:"user secret" "gifts secret"}.user-section[_ngcontent-%COMP%]{grid-area:user}.gifts-section[_ngcontent-%COMP%]{grid-area:gifts}.participants-section[_ngcontent-%COMP%]{grid-area:participants}.secret-friend-section[_ngcontent-%COMP%]{grid-area:secret}.draw-section[_ngcontent-%COMP%]{grid-area:draw}.draw-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#48bb78,#38a169);color:#fff;border:none;padding:1rem 2rem;border-radius:12px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 15px #48bb7866}.draw-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #48bb7899}.draw-button[_ngcontent-%COMP%]:disabled{background:#a0aec0;cursor:not-allowed;transform:none;box-shadow:none}']})}}return n})();Av(c_,s_).catch(n=>console.error(n));
